{{!--
Audio Property Input
=======================

`charcoal/admin/property/input/audio`

--}}
{{!#add_css}}
<style>
canvas {
    display: inline-block;
    background: #202020;
    width: 50%;
    height: 200px;
    box-shadow: 0px 0px 10px blue;
}
.btn-record.-is-recording {
    background: red;
}
.btn-play.-is-playing {
    background: green;
}
</style>
{{!/add_css}}

<div id="audio_container_{{input_id}}">
    <canvas id="analyser" width="500" height="250"></canvas><canvas id="wavedisplay" width="500" height="250"></canvas>
    <button class="btn btn-record js-audio-record" type="button" data-label-record="Record" data-label-pause="Pause">Record</button>
    <button class="btn btn-stop-record js-audio-stop" disabled type="button">Stop recording</button>
    <button class="btn btn-play js-audio-play" disabled type="button" data-label-play="Play" data-label-pause="Pause">Play</button>
    <button class="btn btn-reset js-audio-reset" disabled type="button">Reset</button>
    <input type="hidden" id="{{input_id}}" name="{{input_name}}" value="">
</div>

{{#add_js}}
<script>
Charcoal.Admin.manager().add_property_input({
    id: '{{input_id}}',
    type: 'charcoal/admin/property/input/audio',
    data: {
        audio_selector: '#audio_container_{{input_id}}'
    }
});
</script>
{{/add_js}}
