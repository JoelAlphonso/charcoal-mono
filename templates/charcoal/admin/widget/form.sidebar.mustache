{{!--

--}}
<aside class="c-aside o-flex_aside" id="{{widgetId}}">
    <div class="o-container -top -right">
        <div class="c-panel -fixed">
            <header class="c-panel_header">{{title}}</header>

            <div class="c-panel_main">
                {{#subtitle}}
                    <p>{{.}}</p>
                {{/subtitle}}

                {{#showLanguageSwitch}}
                    <div class="btn-group btn-group-justified form-group js-lang-switch" role="group"
                         aria-label="{{#_t}}Language switcher{{/_t}}">
                    {{#languages}}
                        <div class="btn-group" role="group">
                            <button type="button" data-lang-switch="{{ident}}"
                                    class="btn{{#current}} btn-info{{/current}}{{^current}} btn-default{{/current}}">{{name}}</button>
                        </div>
                    {{/languages}}
                    </div>
                {{/showLanguageSwitch}}

                {{#hasSidebarProperties}}
                    <ul class="c-panel_table form-group">
                    {{#formProperties}}
                        <li class="c-panel_table_row">
                            <p class="c-panel_table_header"><strong>{{prop.label}}</strong></p>
                            <p class="c-panel_table_data">{{displayVal}}</p>
                        </li>
                    {{/formProperties}}
                    </ul>
                {{/hasSidebarProperties}}

                {{# showSidebarActions }}
                <div class="btn-group-vertical btn-block" role="group">
                {{# sidebarActions }}
                    {{# isSeparator }}
                        </div>
                        <div class="btn-group-vertical btn-block" role="group">
                    {{/ isSeparator }}
                    {{^ isSeparator }}
                        {{> charcoal/admin/widget/actions }}
                    {{/ isSeparator }}
                {{/ sidebarActions }}
                </div>
                {{/ showSidebarActions }}
            </div>

            {{# showFooter }}
                <footer class="c-panel_footer">
                {{!--
                @todo Only show the "delete" button if there's an object's ID.
                --}}
                {{#isObjDeletable}}
                    <div class="c-panel_footer_item -red">
                        <span role="button" class="js-obj-delete">
                           <span class="fa fa-trash-o"></span>
                           <span class="btn-label">{{# _t }}Effacer{{/ _t }}</span>
                        </span>
                    </div>
                {{/isObjDeletable}}
                {{#isObjResettable}}
                    <div class="c-panel_footer_item -blue">
                        <span role="button" class="js-reset-form">
                            <span class="fa fa-refresh"></span>
                            <span class="btn-label">{{# _t }}RÃ©initialiser{{/ _t }}</span>
                        </span>
                    </div>
                {{/isObjResettable}}
                </footer>
            {{/ showFooter }}
        </div>
    </div>
</aside>

{{!--
[[#addJs]]
<script>
Charcoal.Admin.manager().add_widget({
    id: '[[widgetId]]',
    type: 'charcoal/admin/widget/form.sidebar',
    data: {
        obj_type: '[[objType]]',
        collection_ident: '[[collectionIdent]]'
    }
});
</script>
[[/addJs]]
--}}
