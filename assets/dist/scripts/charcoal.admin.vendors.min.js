/*! @locomotivemtl/charcoal-admin 13-03-2018 */

!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(T){function n(t,e){var i,n,s,o=t.nodeName.toLowerCase();return"area"===o?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(s=T("img[usemap='#"+n+"']")[0])&&r(s))):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o&&t.href||e)&&r(t)}function r(t){return T.expr.filters.visible(t)&&!T(t).parents().addBack().filter(function(){return"hidden"===T.css(this,"visibility")}).length}var t,s,e,i;T.ui=T.ui||{},T.extend(T.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),T.fn.extend({scrollParent:function(t){var e=this.css("position"),i="absolute"===e,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=T(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&s.length?s:T(this[0].ownerDocument||document)},uniqueId:(i=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&T(this).removeAttr("id")})}}),T.extend(T.expr[":"],{data:T.expr.createPseudo?T.expr.createPseudo(function(e){return function(t){return!!T.data(t,e)}}):function(t,e,i){return!!T.data(t,i[3])},focusable:function(t){return n(t,!isNaN(T.attr(t,"tabindex")))},tabbable:function(t){var e=T.attr(t,"tabindex"),i=isNaN(e);return(i||0<=e)&&n(t,!i)}}),T("<a>").outerWidth(1).jquery||T.each(["Width","Height"],function(t,i){function n(t,e,i,n){return T.each(s,function(){e-=parseFloat(T.css(t,"padding"+this))||0,i&&(e-=parseFloat(T.css(t,"border"+this+"Width"))||0),n&&(e-=parseFloat(T.css(t,"margin"+this))||0)}),e}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:T.fn.innerWidth,innerHeight:T.fn.innerHeight,outerWidth:T.fn.outerWidth,outerHeight:T.fn.outerHeight};T.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){T(this).css(o,n(this,t)+"px")})},T.fn["outer"+i]=function(t,e){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){T(this).css(o,n(this,t,!0,e)+"px")})}}),T.fn.addBack||(T.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),T("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(T.fn.removeData=(e=T.fn.removeData,function(t){return arguments.length?e.call(this,T.camelCase(t)):e.call(this)})),T.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),T.fn.extend({focus:(s=T.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){T(t).focus(),i&&i.call(t)},e)}):s.apply(this,arguments)}),disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,n=T(this[0]);n.length&&n[0]!==document;){if(("absolute"===(e=n.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),T.ui.plugin={add:function(t,e,i){var n,s=T.ui[t].prototype;for(n in i)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var s,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;o.length>s;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}};var o,a=0,l=Array.prototype.slice;T.cleanData=(o=T.cleanData,function(t){var e,i,n;for(n=0;null!=(i=t[n]);n++)try{(e=T._data(i,"events"))&&e.remove&&T(i).triggerHandler("remove")}catch(t){}o(t)}),T.widget=function(t,i,e){var n,s,o,r,a={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,e||(e=i,i=T.Widget),T.expr[":"][n.toLowerCase()]=function(t){return!!T.data(t,n)},T[l]=T[l]||{},s=T[l][t],o=T[l][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},T.extend(o,s,{version:e.version,_proto:T.extend({},e),_childConstructors:[]}),(r=new i).options=T.widget.extend({},r.options),T.each(e,function(e,n){return T.isFunction(n)?void(a[e]=(s=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=s,this._superApply=o,t=n.apply(this,arguments),this._super=e,this._superApply=i,t})):void(a[e]=n);var s,o}),o.prototype=T.widget.extend(r,{widgetEventPrefix:s&&r.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),s?(T.each(s._childConstructors,function(t,e){var i=e.prototype;T.widget(i.namespace+"."+i.widgetName,o,e._proto)}),delete s._childConstructors):i._childConstructors.push(o),T.widget.bridge(t,o),o},T.widget.extend=function(t){for(var e,i,n=l.call(arguments,1),s=0,o=n.length;s<o;s++)for(e in n[s])i=n[s][e],n[s].hasOwnProperty(e)&&void 0!==i&&(t[e]=T.isPlainObject(i)?T.isPlainObject(t[e])?T.widget.extend({},t[e],i):T.widget.extend({},i):i);return t},T.widget.bridge=function(o,e){var r=e.prototype.widgetFullName||o;T.fn[o]=function(i){var t="string"==typeof i,n=l.call(arguments,1),s=this;return t?this.each(function(){var t,e=T.data(this,r);return"instance"===i?(s=e,!1):e?T.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,n))!==e&&void 0!==t?(s=t&&t.jquery?s.pushStack(t.get()):t,!1):void 0:T.error("no such method '"+i+"' for "+o+" widget instance"):T.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):(n.length&&(i=T.widget.extend.apply(null,[i].concat(n))),this.each(function(){var t=T.data(this,r);t?(t.option(i||{}),t._init&&t._init()):T.data(this,r,new e(i,this))})),s}},T.Widget=function(){},T.Widget._childConstructors=[],T.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=T(e||this.defaultElement||this)[0],this.element=T(e),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=T(),this.hoverable=T(),this.focusable=T(),e!==this&&(T.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=T(e.style?e.ownerDocument:e.document||e),this.window=T(this.document[0].defaultView||this.document[0].parentWindow)),this.options=T.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:T.noop,_getCreateEventData:T.noop,_create:T.noop,_init:T.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(T.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:T.noop,widget:function(){return this.element},option:function(t,e){var i,n,s,o=t;if(0===arguments.length)return T.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(n=o[t]=T.widget.extend({},this.options[t]),s=0;i.length-1>s;s++)n[i[s]]=n[i[s]]||{},n=n[i[s]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(r,a,t){var l,h=this;"boolean"!=typeof r&&(t=a,a=r,r=!1),t?(a=l=T(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),T.each(t,function(t,e){function i(){return r||!0!==h.options.disabled&&!T(this).hasClass("ui-state-disabled")?("string"==typeof e?h[e]:e).apply(h,arguments):void 0}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||T.guid++);var n=t.match(/^([\w:-]*)\s*(.*)$/),s=n[1]+h.eventNamespace,o=n[2];o?l.delegate(o,s,i):a.bind(s,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=T(this.bindings.not(t).get()),this.focusable=T(this.focusable.not(t).get()),this.hoverable=T(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){T(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){T(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){T(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){T(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,i){var n,s,o=this.options[t];if(i=i||{},(e=T.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],s=e.originalEvent)for(n in s)n in e||(e[n]=s[n]);return this.element.trigger(e,i),!(T.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},T.each({show:"fadeIn",hide:"fadeOut"},function(o,r){T.Widget.prototype["_"+o]=function(e,t,i){"string"==typeof t&&(t={effect:t});var n,s=t?!0===t||"number"==typeof t?r:t.effect||r:o;"number"==typeof(t=t||{})&&(t={duration:t}),n=!T.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&T.effects&&T.effects.effect[s]?e[o](t):s!==o&&e[s]?e[s](t.duration,t.easing,i):e.queue(function(t){T(this)[o](),i&&i.call(e[0]),t()})}}),T.widget;var h=!1;T(document).mouseup(function(){h=!1}),T.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(t){return!0===T.data(t.target,e.widgetName+".preventClickEvent")?(T.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&T(t.target).closest(this.options.cancel).length;return i&&!n&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?t.preventDefault():(!0===T.data(t.target,this.widgetName+".preventClickEvent")&&T.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),h=!0)),!0}},_mouseMove:function(t){if(this._mouseMoved){if(T.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&T.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),h=!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function x(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function C(t,e){return parseInt(T.css(t,e),10)||0}T.ui=T.ui||{};var s,k,S=Math.max,D=Math.abs,M=Math.round,n=/left|center|right/,o=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,h=T.fn.position;T.position={scrollbarWidth:function(){if(void 0!==s)return s;var t,e,i=T("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return T("body").append(i),t=n.offsetWidth,i.css("overflow","scroll"),t===(e=n.offsetWidth)&&(e=i[0].clientWidth),i.remove(),s=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?T.position.scrollbarWidth():0,height:n?T.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=T(t||window),i=T.isWindow(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:n,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:i||n?e.width():e.outerWidth(),height:i||n?e.height():e.outerHeight()}}},T.fn.position=function(d){if(!d||!d.of)return h.apply(this,arguments);d=T.extend({},d);var p,u,f,g,m,t,e,i,v=T(d.of),y=T.position.getWithinInfo(d.within),b=T.position.getScrollInfo(y),_=(d.collision||"flip").split(" "),w={};return t=9===(i=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:T.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(d.at="left top"),u=t.width,f=t.height,g=t.offset,m=T.extend({},g),T.each(["my","at"],function(){var t,e,i=(d[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=r.exec(i[0]),e=r.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],d[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===d.at[0]?m.left+=u:"center"===d.at[0]&&(m.left+=u/2),"bottom"===d.at[1]?m.top+=f:"center"===d.at[1]&&(m.top+=f/2),p=x(w.at,u,f),m.left+=p[0],m.top+=p[1],this.each(function(){var i,t,r=T(this),a=r.outerWidth(),l=r.outerHeight(),e=C(this,"marginLeft"),n=C(this,"marginTop"),s=a+e+C(this,"marginRight")+b.width,o=l+n+C(this,"marginBottom")+b.height,h=T.extend({},m),c=x(w.my,r.outerWidth(),r.outerHeight());"right"===d.my[0]?h.left-=a:"center"===d.my[0]&&(h.left-=a/2),"bottom"===d.my[1]?h.top-=l:"center"===d.my[1]&&(h.top-=l/2),h.left+=c[0],h.top+=c[1],k||(h.left=M(h.left),h.top=M(h.top)),i={marginLeft:e,marginTop:n},T.each(["left","top"],function(t,e){T.ui.position[_[t]]&&T.ui.position[_[t]][e](h,{targetWidth:u,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:s,collisionHeight:o,offset:[p[0]+c[0],p[1]+c[1]],my:d.my,at:d.at,within:y,elem:r})}),d.using&&(t=function(t){var e=g.left-h.left,i=e+u-a,n=g.top-h.top,s=n+f-l,o={target:{element:v,left:g.left,top:g.top,width:u,height:f},element:{element:r,left:h.left,top:h.top,width:a,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:s<0?"top":0<n?"bottom":"middle"};u<a&&u>D(e+i)&&(o.horizontal="center"),f<l&&f>D(n+s)&&(o.vertical="middle"),o.important=S(D(e),D(i))>S(D(n),D(s))?"horizontal":"vertical",d.using.call(this,t,o)}),r.offset(T.extend(h,{using:t}))})},T.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,a=s-r,l=r+e.collisionWidth-o-s;e.collisionWidth>o?0<a&&l<=0?(i=t.left+a+e.collisionWidth-o-s,t.left+=a-i):t.left=0<l&&a<=0?s:l<a?s+o-e.collisionWidth:s:0<a?t.left+=a:0<l?t.left-=l:t.left=S(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,a=s-r,l=r+e.collisionHeight-o-s;e.collisionHeight>o?0<a&&l<=0?(i=t.top+a+e.collisionHeight-o-s,t.top+=a-i):t.top=0<l&&a<=0?s:l<a?s+o-e.collisionHeight:s:0<a?t.top+=a:0<l?t.top-=l:t.top=S(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,r=s.width,a=s.isWindow?s.scrollLeft:s.offset.left,l=t.left-e.collisionPosition.marginLeft,h=l-a,c=l+e.collisionWidth-r-a,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,u=-2*e.offset[0];h<0?((i=t.left+d+p+u+e.collisionWidth-r-o)<0||D(h)>i)&&(t.left+=d+p+u):0<c&&((0<(n=t.left-e.collisionPosition.marginLeft+d+p+u-a)||c>D(n))&&(t.left+=d+p+u))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,r=s.height,a=s.isWindow?s.scrollTop:s.offset.top,l=t.top-e.collisionPosition.marginTop,h=l-a,c=l+e.collisionHeight-r-a,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,u=-2*e.offset[1];h<0?((n=t.top+d+p+u+e.collisionHeight-r-o)<0||D(h)>n)&&(t.top+=d+p+u):0<c&&((0<(i=t.top-e.collisionPosition.marginTop+d+p+u-a)||c>D(i))&&(t.top+=d+p+u))}},flipfit:{left:function(){T.ui.position.flip.left.apply(this,arguments),T.ui.position.fit.left.apply(this,arguments)},top:function(){T.ui.position.flip.top.apply(this,arguments),T.ui.position.fit.top.apply(this,arguments)}}},function(){var t,e,i,n,s,o=document.getElementsByTagName("body")[0],r=document.createElement("div");for(s in t=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&T.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[s]=i[s];t.appendChild(r),(e=o||document.documentElement).insertBefore(t,e.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=T(r).offset().left,k=10<n&&n<11,t.innerHTML="",e.removeChild(t)}()}(),T.ui.position,T.widget("ui.draggable",T.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return this._blurActiveElement(t),!(this.helper||e.disabled||0<T(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=T(this);return T("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=this.document[0];if(this.handleElement.is(t.target))try{e.activeElement&&"body"!==e.activeElement.nodeName.toLowerCase()&&T(e.activeElement).blur()}catch(t){}},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),T.ui.ddmanager&&(T.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===T(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),T.ui.ddmanager&&!e.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),T.ui.ddmanager&&T.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",T.ui.ddmanager&&T.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return T.ui.ddmanager&&!this.options.dropBehaviour&&(i=T.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||T.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?T(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),T.ui.ddmanager&&T.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),T.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!T(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=T.isFunction(e.helper),n=i?T(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),T.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options,s=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[T(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,T(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,T(window).scrollLeft()+T(window).width()-this.helperProportions.width-this.margins.left,T(window).scrollTop()+(T(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,T(s).width()-this.helperProportions.width-this.margins.left,(T(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),void((i=(e=T(n.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,s,o,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,e,i){return i=i||this._uiHash(),T.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),T.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),T.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var n=T.extend({},t,{item:i.element});i.sortables=[],T(i.options.connectToSortable).each(function(){var t=T(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,n))})},stop:function(e,t,i){var n=T.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,T.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(i,n,s){T.each(s.sortables,function(){var t=!1,e=this;e.positionAbs=s.positionAbs,e.helperProportions=s.helperProportions,e.offset.click=s.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,T.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&T.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,s._parent=n.helper.parent(),e.currentItem=n.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return n.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=s.offset.click.top,e.offset.click.left=s.offset.click.left,e.offset.parent.left-=s.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=s.offset.parent.top-e.offset.parent.top,s._trigger("toSortable",i),s.dropped=e.element,T.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,e.fromOutside=s),e.currentItem&&(e._mouseDrag(i),n.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),n.helper.appendTo(s._parent),s._refreshOffsets(i),n.position=s._generatePosition(i,!0),s._trigger("fromSortable",i),s.dropped=!1,T.each(s.sortables,function(){this.refreshPositions()}))})}}),T.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var n=T("body"),s=i.options;n.css("cursor")&&(s._cursor=n.css("cursor")),n.css("cursor",s.cursor)},stop:function(t,e,i){var n=i.options;n._cursor&&T("body").css("cursor",n._cursor)}}),T.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var n=T(e.helper),s=i.options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,e,i){var n=i.options;n._opacity&&T(e.helper).css("opacity",n._opacity)}}),T.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var n=i.options,s=!1,o=i.scrollParentNotHidden[0],r=i.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=s=o.scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-T(r).scrollTop()<n.scrollSensitivity?s=T(r).scrollTop(T(r).scrollTop()-n.scrollSpeed):T(window).height()-(t.pageY-T(r).scrollTop())<n.scrollSensitivity&&(s=T(r).scrollTop(T(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-T(r).scrollLeft()<n.scrollSensitivity?s=T(r).scrollLeft(T(r).scrollLeft()-n.scrollSpeed):T(window).width()-(t.pageX-T(r).scrollLeft())<n.scrollSensitivity&&(s=T(r).scrollLeft(T(r).scrollLeft()+n.scrollSpeed)))),!1!==s&&T.ui.ddmanager&&!n.dropBehaviour&&T.ui.ddmanager.prepareOffsets(i,t)}}),T.ui.plugin.add("draggable","snap",{start:function(t,e,i){var n=i.options;i.snapElements=[],T(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=T(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){var n,s,o,r,a,l,h,c,d,p,u=i.options,f=u.snapTolerance,g=e.offset.left,m=g+i.helperProportions.width,v=e.offset.top,y=v+i.helperProportions.height;for(d=i.snapElements.length-1;0<=d;d--)l=(a=i.snapElements[d].left-i.margins.left)+i.snapElements[d].width,c=(h=i.snapElements[d].top-i.margins.top)+i.snapElements[d].height,m<a-f||l+f<g||y<h-f||c+f<v||!T.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,T.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==u.snapMode&&(n=f>=Math.abs(h-y),s=f>=Math.abs(c-v),o=f>=Math.abs(a-m),r=f>=Math.abs(l-g),n&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),p=n||s||o||r,"outer"!==u.snapMode&&(n=f>=Math.abs(h-v),s=f>=Math.abs(c-y),o=f>=Math.abs(a-g),r=f>=Math.abs(l-m),n&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(n||s||o||r||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,T.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=n||s||o||r||p)}}),T.ui.plugin.add("draggable","stack",{start:function(t,e,i){var n,s=i.options,o=T.makeArray(T(s.stack)).sort(function(t,e){return(parseInt(T(t).css("zIndex"),10)||0)-(parseInt(T(e).css("zIndex"),10)||0)});o.length&&(n=parseInt(T(o[0]).css("zIndex"),10)||0,T(o).each(function(t){T(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),T.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var n=T(e.helper),s=i.options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,e,i){var n=i.options;n._zIndex&&T(e.helper).css("zIndex",n._zIndex)}}),T.ui.draggable,T.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=T.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(e.scope),e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){T.ui.ddmanager.droppables[t]=T.ui.ddmanager.droppables[t]||[],T.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=T.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){if("accept"===t)this.accept=T.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var i=T.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=T.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=T.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=T.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=T.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||T.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=T(this).droppable("instance");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&T.ui.intersect(i,T.extend(t,{offset:t.element.offset()}),t.options.tolerance,e)?(n=!0,!1):void 0}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),T.ui.intersect=function(){function p(t,e,i){return e<=t&&t<e+i}return function(t,e,i,n){if(!e.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=s+t.helperProportions.width,a=o+t.helperProportions.height,l=e.offset.left,h=e.offset.top,c=l+e.proportions().width,d=h+e.proportions().height;switch(i){case"fit":return l<=s&&r<=c&&h<=o&&a<=d;case"intersect":return s+t.helperProportions.width/2>l&&c>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>h&&d>a-t.helperProportions.height/2;case"pointer":return p(n.pageY,h,e.proportions().height)&&p(n.pageX,l,e.proportions().width);case"touch":return(h<=o&&o<=d||h<=a&&a<=d||o<h&&d<a)&&(l<=s&&s<=c||l<=r&&r<=c||s<l&&c<r);default:return!1}}}(),T.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,n,s=T.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;s.length>i;i++)if(!(s[i].options.disabled||t&&!s[i].accept.call(s[i].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===s[i].element[0]){s[i].proportions().height=0;continue t}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===o&&s[i]._activate.call(s[i],e),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return T.each((T.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&T.ui.intersect(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||T.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,r){o.options.refreshPositions&&T.ui.ddmanager.prepareOffsets(o,r),T.each(T.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,i,n=T.ui.intersect(o,this,this.options.tolerance,r),s=!n&&this.isover?"isout":n&&!this.isover?"isover":null;s&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return T(this).droppable("instance").options.scope===e})).length&&((t=T(i[0]).droppable("instance")).greedyChild="isover"===s)),t&&"isover"===s&&(t.isover=!1,t.isout=!0,t._out.call(t,r)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,r),t&&"isout"===s&&(t.isout=!1,t.isover=!0,t._over.call(t,r)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||T.ui.ddmanager.prepareOffsets(t,e)}},T.ui.droppable,T.widget("ui.resizable",T.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(t,e){if("hidden"===T(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",n=!1;return 0<t[i]||(t[i]=1,n=0<t[i],t[i]=0,n)},_create:function(){var t,e,i,n,o=this,s=this.options;if(this.element.addClass("ui-resizable"),T.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(T("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(T(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=T(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;t.length>e;e++)i=T.trim(t[e]),(n=T("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:s.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(t){var e,i,n,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=T(this.handles[e]),this._on(this.handles[e],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=T(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(n,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),s.autoHide&&(this._handles.hide(),T(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(T(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){s.disabled||o.resizing||(T(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){T(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(t){var e,i,n=!1;for(e in this.handles)((i=T(this.handles[e])[0])===t.target||T.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var e,i,n,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(e+=T(s.containment).scrollLeft()||0,i+=T(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=T(".ui-resizable-"+this.axis).css("cursor"),T("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i,n=this.originalMousePosition,s=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,a=this._change[s];return this._updatePrevProperties(),a&&(e=a.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),T.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,n,s,o,r,a,l=this.options,h=this;return this._helper&&(n=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:h.sizeDiff.height,s=i?0:h.sizeDiff.width,o={width:h.helper.width()-s,height:h.helper.height()-n},r=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,a=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,l.animate||this.element.css(T.extend(o,{top:a,left:r})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!l.animate&&this._proportionallyResize()),T("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>s&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),o&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),r&&c&&(t.top=l-e.minHeight),s&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(s[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||T("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return T.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return T.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return T.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return T.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){T.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),T.ui.plugin.add("resizable","animate",{stop:function(e){var i=T(this).resizable("instance"),t=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),o=s&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,a={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(T.extend(a,h&&l?{top:h,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&T(n[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),T.ui.plugin.add("resizable","containment",{start:function(){var i,n,t,e,s,o,r,a=T(this).resizable("instance"),l=a.options,h=a.element,c=l.containment,d=c instanceof T?c.get(0):/parent/.test(c)?h.parent().get(0):c;d&&(a.containerElement=T(d),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:T(document),left:0,top:0,width:T(document).width(),height:T(document).height()||document.body.parentNode.scrollHeight}):(i=T(d),n=[],T(["Top","Right","Left","Bottom"]).each(function(t,e){n[t]=a._num(i.css("padding"+e))}),a.containerOffset=i.offset(),a.containerPosition=i.position(),a.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},t=a.containerOffset,e=a.containerSize.height,s=a.containerSize.width,o=a._hasScroll(d,"left")?d.scrollWidth:s,r=a._hasScroll(d)?d.scrollHeight:e,a.parentData={element:d,left:t.left,top:t.top,width:o,height:r}))},resize:function(t){var e,i,n,s,o=T(this).resizable("instance"),r=o.options,a=o.containerOffset,l=o.position,h=o._aspectRatio||t.shiftKey,c={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=a),l.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),h&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?a.left:0),l.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),h&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?a.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),n&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,h&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,h&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=T(this).resizable("instance"),e=t.options,i=t.containerOffset,n=t.containerPosition,s=t.containerElement,o=T(t.helper),r=o.offset(),a=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(s.css("position"))&&T(this).css({left:r.left-n.left-i.left,width:a,height:l}),t._helper&&!e.animate&&/static/.test(s.css("position"))&&T(this).css({left:r.left-n.left-i.left,width:a,height:l})}}),T.ui.plugin.add("resizable","alsoResize",{start:function(){var t=T(this).resizable("instance").options;T(t.alsoResize).each(function(){var t=T(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var e=T(this).resizable("instance"),n=e.options,s=e.originalSize,o=e.originalPosition,r={height:e.size.height-s.height||0,width:e.size.width-s.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};T(n.alsoResize).each(function(){var t=T(this),n=T(this).data("ui-resizable-alsoresize"),s={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];T.each(e,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&0<=i&&(s[e]=i||null)}),t.css(s)})},stop:function(){T(this).removeData("resizable-alsoresize")}}),T.ui.plugin.add("resizable","ghost",{start:function(){var t=T(this).resizable("instance"),e=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=T(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=T(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),T.ui.plugin.add("resizable","grid",{resize:function(){var t,e=T(this).resizable("instance"),i=e.options,n=e.size,s=e.originalSize,o=e.originalPosition,r=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,h=a[1]||1,c=Math.round((n.width-s.width)/l)*l,d=Math.round((n.height-s.height)/h)*h,p=s.width+c,u=s.height+d,f=i.maxWidth&&p>i.maxWidth,g=i.maxHeight&&u>i.maxHeight,m=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>u;i.grid=a,m&&(p+=l),v&&(u+=h),f&&(p-=l),g&&(u-=h),/^(se|s|e)$/.test(r)?(e.size.width=p,e.size.height=u):/^(ne)$/.test(r)?(e.size.width=p,e.size.height=u,e.position.top=o.top-d):/^(sw)$/.test(r)?(e.size.width=p,e.size.height=u,e.position.left=o.left-c):((u-h<=0||p-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<u-h?(e.size.height=u,e.position.top=o.top-d):(u=h-t.height,e.size.height=u,e.position.top=o.top+s.height-u),0<p-l?(e.size.width=p,e.position.left=o.left-c):(p=l-t.width,e.size.width=p,e.position.left=o.left+s.width-p))}}),T.ui.resizable,T.widget("ui.selectable",T.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,e=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=T(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var t=T(this),e=t.offset();T.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=T("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(i){var n=this,t=this.options;this.opos=[i.pageX,i.pageY],this.options.disabled||(this.selectees=T(t.filter,this.element[0]),this._trigger("start",i),T(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=T.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",i,{unselecting:t.element}))}),T(i.target).parents().addBack().each(function(){var t,e=T.data(this,"selectable-item");return e?(t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(t?"ui-unselecting":"ui-selected").addClass(t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?n._trigger("selecting",i,{selecting:e.element}):n._trigger("unselecting",i,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var t,n=this,s=this.options,o=this.opos[0],r=this.opos[1],a=i.pageX,l=i.pageY;return a<o&&(t=a,a=o,o=t),l<r&&(t=l,l=r,r=t),this.helper.css({left:o,top:r,width:a-o,height:l-r}),this.selectees.each(function(){var t=T.data(this,"selectable-item"),e=!1;t&&t.element!==n.element[0]&&("touch"===s.tolerance?e=!(t.left>a||o>t.right||t.top>l||r>t.bottom):"fit"===s.tolerance&&(e=t.left>o&&a>t.right&&t.top>r&&l>t.bottom),e?(t.selected&&(t.$element.removeClass("ui-selected"),t.selected=!1),t.unselecting&&(t.$element.removeClass("ui-unselecting"),t.unselecting=!1),t.selecting||(t.$element.addClass("ui-selecting"),t.selecting=!0,n._trigger("selecting",i,{selecting:t.element}))):(t.selecting&&((i.metaKey||i.ctrlKey)&&t.startselected?(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.$element.addClass("ui-selected"),t.selected=!0):(t.$element.removeClass("ui-selecting"),t.selecting=!1,t.startselected&&(t.$element.addClass("ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",i,{unselecting:t.element}))),t.selected&&(i.metaKey||i.ctrlKey||t.startselected||(t.$element.removeClass("ui-selected"),t.selected=!1,t.$element.addClass("ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",i,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,T(".ui-unselecting",this.element[0]).each(function(){var t=T.data(this,"selectable-item");t.$element.removeClass("ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),T(".ui-selecting",this.element[0]).each(function(){var t=T.data(this,"selectable-item");t.$element.removeClass("ui-selecting").addClass("ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),T.widget("ui.sortable",T.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),T.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,n=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),T(t.target).parents().each(function(){return T.data(this,s.widgetName+"-item")===s?(i=T(this),!1):void 0}),T.data(t.target,s.widgetName+"-item")===s&&(i=T(t.target)),!!i&&(!(this.options.handle&&!e&&(T(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var n,s,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},T.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=T("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return T.ui.ddmanager&&(T.ui.ddmanager.current=this),T.ui.ddmanager&&!o.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,n,s,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==r&&T.ui.ddmanager&&!o.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(n=(i=this.items[e]).item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==n&&!T.contains(this.placeholder[0],n)&&("semi-dynamic"!==this.options.type||!T.contains(this.element[0],n))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),T.ui.ddmanager&&T.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(T.ui.ddmanager&&!this.options.dropBehaviour&&T.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,T(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),T.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?T(this.domPosition.prev).after(this.currentItem):T(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},T(t).each(function(){var t=(T(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(T(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||a<n+h&&n+h<l,p="y"===this.options.axis||o<e+c&&e+c<r,u=d&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:e+this.helperProportions.width/2>o&&r>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){r.push(this)}var i,n,s,o,r=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;0<=i;i--)for(n=(s=T(l[i],this.document[0])).length-1;0<=n;n--)(o=T.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([T.isFunction(o.options.items)?o.options.items.call(o.element):T(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([T.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):T(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;0<=i;i--)a[i][0].each(e);return T(r)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=T.grep(this.items,function(t){for(var e=0;i.length>e;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,n,s,o,r,a,l,h=this.items,c=[[T.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):T(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(e=d.length-1;0<=e;e--)for(i=(n=T(d[e],this.document[0])).length-1;0<=i;i--)(s=T.data(n[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&(c.push([T.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):T(s.options.items,s.element),s]),this.containers.push(s));for(e=c.length-1;0<=e;e--)for(o=c[e][1],i=0,l=(r=c[e][0]).length;i<l;i++)(a=T(r[i])).data(this.widgetName+"-item",o),h.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,n,s;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?T(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),s=n.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)s=this.containers[e].element.offset(),this.containers[e].containerCache.left=s.left,this.containers[e].containerCache.top=s.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var n,s=(i=i||this).options;s.placeholder&&s.placeholder.constructor!==String||(n=s.placeholder,s.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=T("<"+t+">",i.document[0]).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===t?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),T("<tr>",i.document[0]).appendTo(e)):"tr"===t?i._createTrPlaceholder(i.currentItem,e):"img"===t&&e.attr("src",i.currentItem.attr("src")),n||e.css("visibility","hidden"),e},update:function(t,e){(!n||s.forcePlaceholderSize)&&(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=T(s.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),s.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){T("<td>&#160;</td>",i.document[0]).attr("colspan",T(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,n,s,o,r,a,l,h,c,d=null,p=null;for(e=this.containers.length-1;0<=e;e--)if(!T.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(d&&T.contains(this.containers[e].element[0],d.element[0]))continue;d=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,s=null,o=(h=d.floating||this._isFloating(this.currentItem))?"left":"top",r=h?"width":"height",c=h?"clientX":"clientY",i=this.items.length-1;0<=i;i--)T.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[o],l=!1,t[c]-a>this.items[i][r]/2&&(l=!0),n>Math.abs(t[c]-a)&&(n=Math.abs(t[c]-a),s=this.items[i],this.direction=l?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=T.isFunction(e.helper)?T(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||T("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||e.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||e.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),T.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&T.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=T(n.containment)[0],e=T(n.containment).offset(),i="hidden"!==T(t).css("overflow"),this.containment=[e.left+(parseInt(T(t).css("borderLeftWidth"),10)||0)+(parseInt(T(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(T(t).css("borderTopWidth"),10)||0)+(parseInt(T(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(T(t).css("borderLeftWidth"),10)||0)-(parseInt(T(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(T(t).css("borderTopWidth"),10)||0)-(parseInt(T(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&T.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())*i}},_generatePosition:function(t){var e,i,n=this.options,s=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&T.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-n.grid[1]:e+n.grid[1]:e,i=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(e,i,n){return function(t){n._trigger(e,t,i._uiHash(i))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)e||s.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;s.length>n;n++)s[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===T.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||T([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});var c,d="ui-effects-",p=T;T.effects={effect:{}},function(c,d){function p(t,e,i){var n=m[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:t<0?0:t>n.max?n.max:t)}function a(r){var a=f(),l=a._rgba=[];return r=r.toLowerCase(),v(t,function(t,e){var i,n=e.re.exec(r),s=n&&e.parse(n),o=e.space||"rgba";return s?(i=a[o](s),a[g[o].cache]=i[g[o].cache],l=a._rgba=i._rgba,!1):d}),l.length?("0,0,0,0"===l.join()&&c.extend(l,h.transparent),a):h[r]}function l(t,e,i){return 6*(i=(i+1)%1)<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+6*(e-t)*(2/3-i):t}var h,u=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],f=c.Color=function(t,e,i,n){return new c.Color.fn.parse(t,e,i,n)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},r=f.support={},e=c("<p>")[0],v=c.each;e.style.cssText="background-color:rgba(1,1,1,.5)",r.rgba=-1<e.style.backgroundColor.indexOf("rgba"),v(g,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),f.fn=c.extend(f.prototype,{parse:function(s,t,e,i){if(s===d)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=c(s).css(t),t=d);var o=this,n=c.type(s),r=this._rgba=[];return t!==d&&(s=[s,t,e,i],n="array"),"string"===n?this.parse(a(s)||h._default):"array"===n?(v(g.rgba.props,function(t,e){r[e.idx]=p(s[e.idx],e)}),this):"object"===n?(v(g,s instanceof f?function(t,e){s[e.cache]&&(o[e.cache]=s[e.cache].slice())}:function(t,i){var n=i.cache;v(i.props,function(t,e){if(!o[n]&&i.to){if("alpha"===t||null==s[t])return;o[n]=i.to(o._rgba)}o[n][e.idx]=p(s[t],e,!0)}),o[n]&&c.inArray(null,o[n].slice(0,3))<0&&(o[n][3]=1,i.from&&(o._rgba=i.from(o[n])))}),this):d},is:function(t){var s=f(t),o=!0,r=this;return v(g,function(t,e){var i,n=s[e.cache];return n&&(i=r[e.cache]||e.to&&e.to(r._rgba)||[],v(e.props,function(t,e){return null!=n[e.idx]?o=n[e.idx]===i[e.idx]:d})),o}),o},_space:function(){var i=[],n=this;return v(g,function(t,e){n[e.cache]&&i.push(t)}),i.pop()},transition:function(t,r){var a=f(t),e=a._space(),i=g[e],n=0===this.alpha()?f("transparent"):this,l=n[i.cache]||i.to(n._rgba),h=l.slice();return a=a[i.cache],v(i.props,function(t,e){var i=e.idx,n=l[i],s=a[i],o=m[e.type]||{};null!==s&&(null===n?h[i]=s:(o.mod&&(s-n>o.mod/2?n+=o.mod:n-s>o.mod/2&&(n-=o.mod)),h[i]=p((s-n)*r+n,e)))}),this[e](h)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),n=f(t)._rgba;return f(c.map(e,function(t,e){return(1-i)*n[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=c.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=c.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+c.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,r=t[3],a=Math.max(n,s,o),l=Math.min(n,s,o),h=a-l,c=a+l,d=.5*c;return e=l===a?0:n===a?60*(s-o)/h+360:s===a?60*(o-n)/h+120:60*(n-s)/h+240,i=0===h?0:d<=.5?h/c:h/(2-c),[Math.round(e)%360,i,d,null==r?1:r]},g.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],o=n<=.5?n*(1+i):n+i-n*i,r=2*n-o;return[Math.round(255*l(r,o,e+1/3)),Math.round(255*l(r,o,e)),Math.round(255*l(r,o,e-1/3)),s]},v(g,function(l,t){var i=t.props,r=t.cache,a=t.to,h=t.from;f.fn[l]=function(t){if(a&&!this[r]&&(this[r]=a(this._rgba)),t===d)return this[r].slice();var e,n=c.type(t),s="array"===n||"object"===n?t:arguments,o=this[r].slice();return v(i,function(t,e){var i=s["object"===n?t:e.idx];null==i&&(i=o[e.idx]),o[e.idx]=p(i,e)}),h?((e=f(h(o)))[r]=o,e):f(o)},v(i,function(r,a){f.fn[r]||(f.fn[r]=function(t){var e,i=c.type(t),n="alpha"===r?this._hsla?"hsla":"rgba":l,s=this[n](),o=s[a.idx];return"undefined"===i?o:("function"===i&&(t=t.call(this,o),i=c.type(t)),null==t&&a.empty?this:("string"===i&&((e=u.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1))),s[a.idx]=t,this[n](s)))})})}),f.hook=function(t){var e=t.split(" ");v(e,function(t,o){c.cssHooks[o]={set:function(t,e){var i,n,s="";if("transparent"!==e&&("string"!==c.type(e)||(i=a(e)))){if(e=f(i||e),!r.rgba&&1!==e._rgba[3]){for(n="backgroundColor"===o?t.parentNode:t;(""===s||"transparent"===s)&&n&&n.style;)try{s=c.css(n,"backgroundColor"),n=n.parentNode}catch(t){}e=e.blend(s&&"transparent"!==s?s:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},c.fx.step[o]=function(t){t.colorInit||(t.start=f(t.elem,o),t.end=f(t.end),t.colorInit=!0),c.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})},f.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),c.cssHooks.borderColor={expand:function(i){var n={};return v(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=i}),n}},h=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function r(t){var e,i,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[e=n[i]]&&(s[T.camelCase(e)]=n[e]);else for(e in n)"string"==typeof n[e]&&(s[e]=n[e]);return s}var o,s,a,l=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};T.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){T.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,e,t.end),t.setAttr=!0)}}),T.fn.addBack||(T.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),T.effects.animateClass=function(s,t,e,i){var o=T.speed(t,e,i);return this.queue(function(){var t,i=T(this),e=i.attr("class")||"",n=o.children?i.find("*").addBack():i;n=n.map(function(){return{el:T(this),start:r(this)}}),(t=function(){T.each(l,function(t,e){s[e]&&i[e+"Class"](s[e])})})(),n=n.map(function(){return this.end=r(this.el[0]),this.diff=function(t,e){var i,n,s={};for(i in e)n=e[i],t[i]!==n&&(h[i]||(T.fx.step[i]||!isNaN(parseFloat(n)))&&(s[i]=n));return s}(this.start,this.end),this}),i.attr("class",e),n=n.map(function(){var t=this,e=T.Deferred(),i=T.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),T.when.apply(T,n.get()).done(function(){t(),T.each(arguments,function(){var e=this.el;T.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},T.fn.extend({addClass:(a=T.fn.addClass,function(t,e,i,n){return e?T.effects.animateClass.call(this,{add:t},e,i,n):a.apply(this,arguments)}),removeClass:(s=T.fn.removeClass,function(t,e,i,n){return 1<arguments.length?T.effects.animateClass.call(this,{remove:t},e,i,n):s.apply(this,arguments)}),toggleClass:(o=T.fn.toggleClass,function(t,e,i,n,s){return"boolean"==typeof e||void 0===e?i?T.effects.animateClass.call(this,e?{add:t}:{remove:t},i,n,s):o.apply(this,arguments):T.effects.animateClass.call(this,{toggle:t},e,i,n)}),switchClass:function(t,e,i,n,s){return T.effects.animateClass.call(this,{add:e,remove:t},i,n,s)}})}(),function(){function n(t,e,i,n){return T.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),T.isFunction(e)&&(n=e,i=null,e={}),("number"==typeof e||T.fx.speeds[e])&&(n=i,i=e,e={}),T.isFunction(i)&&(n=i,i=null),e&&T.extend(t,e),i=i||e.duration,t.duration=T.fx.off?0:"number"==typeof i?i:i in T.fx.speeds?T.fx.speeds[i]:T.fx.speeds._default,t.complete=n||e.complete,t}function i(t){return!(t&&"number"!=typeof t&&!T.fx.speeds[t])||("string"==typeof t&&!T.effects.effect[t]||(!!T.isFunction(t)||"object"==typeof t&&!t.effect))}var s,o,r;T.extend(T.effects,{version:"1.11.4",save:function(t,e){for(var i=0;e.length>i;i++)null!==e[i]&&t.data(d+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;e.length>n;n++)null!==e[n]&&(void 0===(i=t.data(d+e[n]))&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=T("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},s=document.activeElement;try{s.id}catch(t){s=document.body}return i.wrap(t),(i[0]===s||T.contains(i[0],s))&&T(s).focus(),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(T.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),T.each(["top","left","bottom","right"],function(t,e){n[e]=i.css(e),isNaN(parseInt(n[e],10))&&(n[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(n).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||T.contains(t[0],e))&&T(e).focus()),t},setTransition:function(n,t,s,o){return o=o||{},T.each(t,function(t,e){var i=n.cssUnit(e);0<i[0]&&(o[e]=i[0]*s+i[1])}),o}}),T.fn.extend({effect:function(){function t(t){function e(){T.isFunction(n)&&n.call(i[0]),T.isFunction(t)&&t()}var i=T(this),n=o.complete,s=o.mode;(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),e()):r.call(i[0],o,e)}var o=n.apply(this,arguments),e=o.mode,i=o.queue,r=T.effects.effect[o.effect];return T.fx.off||!r?e?this[e](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):!1===i?this.each(t):this.queue(i||"fx",t)},show:(r=T.fn.show,function(t){if(i(t))return r.apply(this,arguments);var e=n.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(o=T.fn.hide,function(t){if(i(t))return o.apply(this,arguments);var e=n.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(s=T.fn.toggle,function(t){if(i(t)||"boolean"==typeof t)return s.apply(this,arguments);var e=n.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var i=this.css(t),n=[];return T.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(n=[parseFloat(i),e])}),n}})}(),c={},T.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){c[t]=function(t){return Math.pow(t,e+2)}}),T.extend(c,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),T.each(c,function(t,e){T.easing["easeIn"+t]=e,T.easing["easeOut"+t]=function(t){return 1-e(1-t)},T.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}}),T.effects,T.effects.effect.blind=function(t,e){var i,n,s,o=T(this),r=["position","top","bottom","left","right","height","width"],a=T.effects.setMode(o,t.mode||"hide"),l=t.direction||"up",h=/up|down|vertical/.test(l),c=h?"height":"width",d=h?"top":"left",p=/up|left|vertical|horizontal/.test(l),u={},f="show"===a;o.parent().is(".ui-effects-wrapper")?T.effects.save(o.parent(),r):T.effects.save(o,r),o.show(),n=(i=T.effects.createWrapper(o).css({overflow:"hidden"}))[c](),s=parseFloat(i.css(d))||0,u[c]=f?n:0,p||(o.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),u[d]=f?s:n+s),f&&(i.css(c,0),p||i.css(d,s+n)),i.animate(u,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===a&&o.hide(),T.effects.restore(o,r),T.effects.removeWrapper(o),e()}})},T.effects.effect.bounce=function(t,e){var i,n,s,o=T(this),r=["position","top","bottom","left","right","height","width"],a=T.effects.setMode(o,t.mode||"effect"),l="hide"===a,h="show"===a,c=t.direction||"up",d=t.distance,p=t.times||5,u=2*p+(h||l?1:0),f=t.duration/u,g=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=o.queue(),b=y.length;for((h||l)&&r.push("opacity"),T.effects.save(o,r),o.show(),T.effects.createWrapper(o),d||(d=o["top"===m?"outerHeight":"outerWidth"]()/3),h&&((s={opacity:1})[m]=0,o.css("opacity",0).css(m,v?2*-d:2*d).animate(s,f,g)),l&&(d/=Math.pow(2,p-1)),i=(s={})[m]=0;i<p;i++)(n={})[m]=(v?"-=":"+=")+d,o.animate(n,f,g).animate(s,f,g),d=l?2*d:d/2;l&&((n={opacity:0})[m]=(v?"-=":"+=")+d,o.animate(n,f,g)),o.queue(function(){l&&o.hide(),T.effects.restore(o,r),T.effects.removeWrapper(o),e()}),1<b&&y.splice.apply(y,[1,0].concat(y.splice(b,u+1))),o.dequeue()},T.effects.effect.clip=function(t,e){var i,n,s,o=T(this),r=["position","top","bottom","left","right","height","width"],a="show"===T.effects.setMode(o,t.mode||"hide"),l="vertical"===(t.direction||"vertical"),h=l?"height":"width",c=l?"top":"left",d={};T.effects.save(o,r),o.show(),i=T.effects.createWrapper(o).css({overflow:"hidden"}),s=(n="IMG"===o[0].tagName?i:o)[h](),a&&(n.css(h,0),n.css(c,s/2)),d[h]=a?s:0,d[c]=a?0:s/2,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){a||o.hide(),T.effects.restore(o,r),T.effects.removeWrapper(o),e()}})},T.effects.effect.drop=function(t,e){var i,n=T(this),s=["position","top","bottom","left","right","opacity","height","width"],o=T.effects.setMode(n,t.mode||"hide"),r="show"===o,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a?"pos":"neg",c={opacity:r?1:0};T.effects.save(n,s),n.show(),T.effects.createWrapper(n),i=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===h?-i:i),c[l]=(r?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+i,n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),T.effects.restore(n,s),T.effects.removeWrapper(n),e()}})},T.effects.effect.explode=function(t,e){function i(){m.push(this),m.length===h*c&&(d.css({visibility:"visible"}),T(m).remove(),p||d.hide(),e())}var n,s,o,r,a,l,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=h,d=T(this),p="show"===T.effects.setMode(d,t.mode||"hide"),u=d.show().css("visibility","hidden").offset(),f=Math.ceil(d.outerWidth()/c),g=Math.ceil(d.outerHeight()/h),m=[];for(n=0;n<h;n++)for(r=u.top+n*g,l=n-(h-1)/2,s=0;s<c;s++)o=u.left+s*f,a=s-(c-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*f,top:-n*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:g,left:o+(p?a*f:0),top:r+(p?l*g:0),opacity:p?0:1}).animate({left:o+(p?0:a*f),top:r+(p?0:l*g),opacity:p?1:0},t.duration||500,t.easing,i)},T.effects.effect.fade=function(t,e){var i=T(this),n=T.effects.setMode(i,t.mode||"toggle");i.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:e})},T.effects.effect.fold=function(t,e){var i,n,s=T(this),o=["position","top","bottom","left","right","height","width"],r=T.effects.setMode(s,t.mode||"hide"),a="show"===r,l="hide"===r,h=t.size||15,c=/([0-9]+)%/.exec(h),d=!!t.horizFirst,p=a!==d,u=p?["width","height"]:["height","width"],f=t.duration/2,g={},m={};T.effects.save(s,o),s.show(),i=T.effects.createWrapper(s).css({overflow:"hidden"}),n=p?[i.width(),i.height()]:[i.height(),i.width()],c&&(h=parseInt(c[1],10)/100*n[l?0:1]),a&&i.css(d?{height:0,width:h}:{height:h,width:0}),g[u[0]]=a?n[0]:h,m[u[1]]=a?n[1]:0,i.animate(g,f,t.easing).animate(m,f,t.easing,function(){l&&s.hide(),T.effects.restore(s,o),T.effects.removeWrapper(s),e()})},T.effects.effect.highlight=function(t,e){var i=T(this),n=["backgroundImage","backgroundColor","opacity"],s=T.effects.setMode(i,t.mode||"show"),o={backgroundColor:i.css("backgroundColor")};"hide"===s&&(o.opacity=0),T.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),T.effects.restore(i,n),e()}})},T.effects.effect.size=function(o,t){var e,i,r,a=T(this),n=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],s=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=T.effects.setMode(a,o.mode||"effect"),p=o.restore||"effect"!==d,u=o.scale||"both",f=o.origin||["middle","center"],g=a.css("position"),m=p?n:["position","top","bottom","left","right","overflow","opacity"],v={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&a.show(),e={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===o.mode&&"show"===d?(a.from=o.to||v,a.to=o.from||e):(a.from=o.from||("show"===d?v:e),a.to=o.to||("hide"===d?v:e)),r={from:{y:a.from.height/e.height,x:a.from.width/e.width},to:{y:a.to.height/e.height,x:a.to.width/e.width}},("box"===u||"both"===u)&&(r.from.y!==r.to.y&&(m=m.concat(h),a.from=T.effects.setTransition(a,h,r.from.y,a.from),a.to=T.effects.setTransition(a,h,r.to.y,a.to)),r.from.x!==r.to.x&&(m=m.concat(c),a.from=T.effects.setTransition(a,c,r.from.x,a.from),a.to=T.effects.setTransition(a,c,r.to.x,a.to))),("content"===u||"both"===u)&&r.from.y!==r.to.y&&(m=m.concat(s).concat(l),a.from=T.effects.setTransition(a,s,r.from.y,a.from),a.to=T.effects.setTransition(a,s,r.to.y,a.to)),T.effects.save(a,m),a.show(),T.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),f&&(i=T.effects.getBaseline(f,e),a.from.top=(e.outerHeight-a.outerHeight())*i.y,a.from.left=(e.outerWidth-a.outerWidth())*i.x,a.to.top=(e.outerHeight-a.to.outerHeight)*i.y,a.to.left=(e.outerWidth-a.to.outerWidth)*i.x),a.css(a.from),("content"===u||"both"===u)&&(h=h.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),l=n.concat(h).concat(c),a.find("*[width]").each(function(){var t=T(this),e=t.height(),i=t.width(),n=t.outerHeight(),s=t.outerWidth();p&&T.effects.save(t,l),t.from={height:e*r.from.y,width:i*r.from.x,outerHeight:n*r.from.y,outerWidth:s*r.from.x},t.to={height:e*r.to.y,width:i*r.to.x,outerHeight:e*r.to.y,outerWidth:i*r.to.x},r.from.y!==r.to.y&&(t.from=T.effects.setTransition(t,h,r.from.y,t.from),t.to=T.effects.setTransition(t,h,r.to.y,t.to)),r.from.x!==r.to.x&&(t.from=T.effects.setTransition(t,c,r.from.x,t.from),t.to=T.effects.setTransition(t,c,r.to.x,t.to)),t.css(t.from),t.animate(t.to,o.duration,o.easing,function(){p&&T.effects.restore(t,l)})})),a.animate(a.to,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===d&&a.hide(),T.effects.restore(a,m),p||("static"===g?a.css({position:"relative",top:a.to.top,left:a.to.left}):T.each(["top","left"],function(s,t){a.css(t,function(t,e){var i=parseInt(e,10),n=s?a.to.left:a.to.top;return"auto"===e?n+"px":i+n+"px"})})),T.effects.removeWrapper(a),t()}})},T.effects.effect.scale=function(t,e){var i=T(this),n=T.extend(!0,{},t),s=T.effects.setMode(i,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),r=t.direction||"both",a=t.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},h="horizontal"!==r?o/100:1,c="vertical"!==r?o/100:1;n.effect="size",n.queue=!1,n.complete=e,"effect"!==s&&(n.origin=a||["middle","center"],n.restore=!0),n.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*h,width:l.width*c,outerHeight:l.outerHeight*h,outerWidth:l.outerWidth*c},n.fade&&("show"===s&&(n.from.opacity=0,n.to.opacity=1),"hide"===s&&(n.from.opacity=1,n.to.opacity=0)),i.effect(n)},T.effects.effect.puff=function(t,e){var i=T(this),n=T.effects.setMode(i,t.mode||"hide"),s="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,a={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};T.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:e,percent:s?o:100,from:s?a:{height:a.height*r,width:a.width*r,outerHeight:a.outerHeight*r,outerWidth:a.outerWidth*r}}),i.effect(t)},T.effects.effect.pulsate=function(t,e){var i,n=T(this),s=T.effects.setMode(n,t.mode||"show"),o="show"===s,r="hide"===s,a=o||"hide"===s,l=2*(t.times||5)+(a?1:0),h=t.duration/l,c=0,d=n.queue(),p=d.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),c=1),i=1;i<l;i++)n.animate({opacity:c},h,t.easing),c=1-c;n.animate({opacity:c},h,t.easing),n.queue(function(){r&&n.hide(),e()}),1<p&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()},T.effects.effect.shake=function(t,e){var i,n=T(this),s=["position","top","bottom","left","right","height","width"],o=T.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",a=t.distance||20,l=t.times||3,h=2*l+1,c=Math.round(t.duration/h),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,u={},f={},g={},m=n.queue(),v=m.length;for(T.effects.save(n,s),n.show(),T.effects.createWrapper(n),u[d]=(p?"-=":"+=")+a,f[d]=(p?"+=":"-=")+2*a,g[d]=(p?"-=":"+=")+2*a,n.animate(u,c,t.easing),i=1;i<l;i++)n.animate(f,c,t.easing).animate(g,c,t.easing);n.animate(f,c,t.easing).animate(u,c/2,t.easing).queue(function(){"hide"===o&&n.hide(),T.effects.restore(n,s),T.effects.removeWrapper(n),e()}),1<v&&m.splice.apply(m,[1,0].concat(m.splice(v,h+1))),n.dequeue()},T.effects.effect.slide=function(t,e){var i,n=T(this),s=["position","top","bottom","left","right","width","height"],o=T.effects.setMode(n,t.mode||"show"),r="show"===o,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a,c={};T.effects.save(n,s),n.show(),i=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),T.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,h?isNaN(i)?"-"+i:-i:i),c[l]=(r?h?"+=":"-=":h?"-=":"+=")+i,n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),T.effects.restore(n,s),T.effects.removeWrapper(n),e()}})},T.effects.effect.transfer=function(t,e){var i=T(this),n=T(t.to),s="fixed"===n.css("position"),o=T("body"),r=s?o.scrollTop():0,a=s?o.scrollLeft():0,l=n.offset(),h={top:l.top-r,left:l.left-a,height:n.innerHeight(),width:n.innerWidth()},c=i.offset(),d=T("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-r,left:c.left-a,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(h,t.duration,t.easing,function(){d.remove(),e()})}});var URLSearchParams=URLSearchParams||function(){"use strict";function a(t){var e,i,n,s,o,r,a=Object.create(null);if(this[c]=a,t)if("string"==typeof t)for("?"===t.charAt(0)&&(t=t.slice(1)),o=0,r=(s=t.split("&")).length;o<r;o++)-1<(e=(n=s[o]).indexOf("="))?d(a,p(n.slice(0,e)),p(n.slice(e+1))):n.length&&d(a,p(n),"");else if(l(t))for(o=0,r=t.length;o<r;o++)d(a,(n=t[o])[0],n[1]);else for(i in t)d(a,i,t[i])}var l=Array.isArray,h=a.prototype,e=/[!'\(\)~]|%20|%00/g,i=/\+/g,n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},s=function(t){return n[t]},c="__URLSearchParams__:"+Math.random();function d(t,e,i){e in t?t[e].push(""+i):t[e]=l(i)?i:[""+i]}function p(t){return decodeURIComponent(t.replace(i," "))}function r(t){return encodeURIComponent(t).replace(e,s)}h.append=function(t,e){d(this[c],t,e)},h.delete=function(t){delete this[c][t]},h.get=function(t){var e=this[c];return t in e?e[t][0]:null},h.getAll=function(t){var e=this[c];return t in e?e[t].slice(0):[]},h.has=function(t){return t in this[c]},h.set=function(t,e){this[c][t]=[""+e]},h.forEach=function(i,n){var t=this[c];Object.getOwnPropertyNames(t).forEach(function(e){t[e].forEach(function(t){i.call(n,t,e,this)},this)},this)},h.toJSON=function(){return{}},h.toString=function(){var t,e,i,n,s=this[c],o=[];for(e in s)for(i=r(e),t=0,n=s[e];t<n.length;t++)o.push(i+"="+r(n[t]));return o.join("&")};var u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=function(t){var e=t.append;t.append=h.append,a.call(t,t._usp.search.slice(1)),t.append=e},m=function(t,e){if(!(t instanceof e))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+e.name)},t=function(e){var i,n,t=e.prototype,s=f(t,"searchParams"),o=f(t,"href"),r=f(t,"search");!s&&r&&r.set&&(n=function(i){function n(t,e){h.append.call(this,t,e),t=this.toString(),i.set.call(this._usp,t?"?"+t:"")}function s(t){h.delete.call(this,t),t=this.toString(),i.set.call(this._usp,t?"?"+t:"")}function o(t,e){h.set.call(this,t,e),t=this.toString(),i.set.call(this._usp,t?"?"+t:"")}return function(t,e){return t.append=n,t.delete=s,t.set=o,u(t,"_usp",{configurable:!0,writable:!0,value:e})}}(r),i=function(t,e){return u(t,"_searchParams",{configurable:!0,writable:!0,value:n(e,t)}),e},Object.defineProperties(t,{href:{get:function(){return o.get.call(this)},set:function(t){var e=this._searchParams;o.set.call(this,t),e&&g(e)}},search:{get:function(){return r.get.call(this)},set:function(t){var e=this._searchParams;r.set.call(this,t),e&&g(e)}},searchParams:{get:function(){return m(this,e),this._searchParams||i(this,new a(this.search.slice(1)))},set:function(t){m(this,e),i(this,t)}}}))};return t(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&t(URL),a}();function init_infoBox(){BB.gmap.infobox.prototype=new google.maps.OverlayView,BB.gmap.infobox.prototype.remove=function(){if(this._div){try{this._div.parentNode.removeChild(this._div)}catch(t){}this._div=null}},BB.gmap.infobox.prototype.set_position=function(t){if(!t)return this;if("string"==typeof t&&(t=t.split(",")),!(t instanceof google.maps.LatLng)){if(void 0===t[0]||void 0===t[1])return this;t=new google.maps.LatLng(t[0],t[1])}return this.opts.position=t,this.map&&this.draw(),this},BB.gmap.infobox.prototype.set_map=function(t){this.__MAP=t,this.setMap(this.__MAP)},BB.gmap.infobox.prototype.draw=function(){this.createElement(),google.maps.event.trigger(this.__MAP,"infobox_opened",{elem:this});var t=this.getProjection().fromLatLngToDivPixel(this.opts.position);t&&(this._div.style.width=this._width+"px",this._div.style.left=t.x+this._offsetX+"px",this._div.style.height=this._height+"px",this._div.style.top=t.y+this._offsetY+"px",this._div.style.display="block",this._div.style.zIndex=1)},BB.gmap.infobox.prototype.createElement=function(){this.generateInfoboxContent();var t=this.getPanes(),e=this._div;if(e&&e.parentNode!=t.floatPane)try{e.parentNode.removeChild(e)}catch(t){}e||((e=this._div=document.createElement("div")).style.border="0",e.style.position="absolute"),e.innerHTML="",e.appendChild(this.__ELEM),t.floatPane.appendChild(e),this._height=this.__ELEM.offsetHeight,this._width=this.__ELEM.offsetWidth,e.style.width=this._width+"px",e.style.height=this._height+"px",e.setAttribute("class","gmap_infobox");var i=this.opts.placement.split(" ");switch(i[0]){case"top":this._offsetY=-parseFloat(this.opts.offsetY);break;case"over":this._offsetY=-parseFloat(this.opts.offsetY)-parseInt(this._height);break;case"bottom":this._offsetY=-parseFloat(this._height);break;case"under":this._offsetY=0;break;case"center":this._offsetY=-parseFloat(this.opts.offsetY)/2-parseInt(this._height)/2}switch(i[1]){case"right":this._offsetX=parseFloat(this.opts.offsetX)-parseInt(this._width);break;case"left":this._offsetX=-parseFloat(this.opts.offsetX);break;case"center":this._offsetX=-parseInt(this._width)/2;break;case"out-right":this._offsetX=parseFloat(this.opts.offsetX);break;case"out-left":this._offsetX=-parseFloat(this.opts.offsetX)-parseInt(this._width)}this.panMap()},BB.gmap.infobox.prototype.generateInfoboxContent=function(){var t=this.infoboxContent;if("function"==typeof t&&(t=t(this.__MARKER.data())),"number"==typeof t&&(t=t.toString()),"string"==typeof t){var e=document.getElementById(t);e||((e=document.createElement("div")).style.position="absolute",e.innerHTML=t),t=e}return t instanceof jQuery&&(t=t.get(0)),this.__ELEM=t,this},BB.gmap.infobox.prototype.refresh=function(){this.generateInfoboxContent()},BB.gmap.infobox.prototype.panMap=function(){var t=this.map,e=t.getBounds();if(e){var i=this.opts.position,n=this._width,s=this._height,o=this._offsetX,r=this._offsetY,a=t.getDiv(),l=a.offsetWidth,h=a.offsetHeight,c=e.toSpan(),d=c.lng()/l,p=c.lat()/h,u=(e.getSouthWest().lng(),e.getNorthEast().lng(),e.getNorthEast().lat(),e.getSouthWest().lat(),i.lng(),i.lng(),i.lat(),i.lat(),t.getCenter());if(!u||void 0===u)return!1;u.lng(),u.lat(),null!==this._bounds_changed_listener&&google.maps.event.removeListener(this._bounds_changed_listener),this._bounds_changed_listener=null}}}!function(t){var n=function(){try{return!!Symbol.iterator}catch(t){return!1}}();"forEach"in t||(t.forEach=function(i,n){var t=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach(function(e){!e.length||e in t||(t[e]=this.getAll(e)).forEach(function(t){i.call(n,t,e,this)},this)},this)}),"keys"in t||(t.keys=function(){var i=[];this.forEach(function(t,e){i.push(e)});var t={next:function(){var t=i.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}),"values"in t||(t.values=function(){var e=[];this.forEach(function(t){e.push(t)});var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}),"entries"in t||(t.entries=function(){var i=[];this.forEach(function(t,e){i.push([e,t])});var t={next:function(){var t=i.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}),!n||Symbol.iterator in t||(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,e,i,n=this.entries(),s=n.next(),o=s.done,r=[],a=Object.create(null);!o;)e=(i=s.value)[0],r.push(e),e in a||(a[e]=[]),a[e].push(i[1]),o=(s=n.next()).done;for(r.sort(),t=0;t<r.length;t++)this.delete(r[t]);for(t=0;t<r.length;t++)e=r[t],this.append(e,a[e].shift())})}(URLSearchParams.prototype),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?e(require("jquery")):(e(t.jquery),t.bootstrapSwitch={})}(this,function(t){"use strict";var e,i=(e=t)&&e.__esModule?e:{default:e},n=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},s=function(){function n(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),a=i.default||window.jQuery||window.$,l=function(){function e(n){var s=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.$element=a(n),this.options=a.extend({},a.fn.bootstrapSwitch.defaults,this._getElementOptions(),t),this.prevOptions={},this.$wrapper=a("<div>",{class:function(){var t=[];return t.push(s.options.state?"on":"off"),s.options.size&&t.push(s.options.size),s.options.disabled&&t.push("disabled"),s.options.readonly&&t.push("readonly"),s.options.indeterminate&&t.push("indeterminate"),s.options.inverse&&t.push("inverse"),s.$element.attr("id")&&t.push("id-"+s.$element.attr("id")),t.map(s._getClass.bind(s)).concat([s.options.baseClass],s._getClasses(s.options.wrapperClass)).join(" ")}}),this.$container=a("<div>",{class:this._getClass("container")}),this.$on=a("<span>",{html:this.options.onText,class:this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=a("<span>",{html:this.options.offText,class:this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=a("<span>",{html:this.options.labelText,class:this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,n)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];!1===s.options.onSwitchChange.apply(n,e)&&(s.$element.is(":radio")?a('[name="'+s.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):s.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return s(e,[{key:"setPrevOptions",value:function(){this.prevOptions=n({},this.options)}},{key:"state",value:function(t,e){return void 0===t?this.options.state:(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||(this.$element.is(":radio")?a('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",!!t).trigger("change.bootstrapSwitch",e)),this.$element)}},{key:"toggleState",value:function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)}},{key:"size",value:function(t){return void 0===t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),t&&this.$wrapper.addClass(this._getClass(t)),this._width(),this._containerPosition(),this.options.size=t,this.$element)}},{key:"animate",value:function(t){return void 0===t?this.options.animate:this.options.animate===!!t?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(t){return void 0===t?this.options.disabled:this.options.disabled===!!t?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(t){return void 0===t?this.options.readonly:this.options.readonly===!!t?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(t){return void 0===t?this.options.indeterminate:this.options.indeterminate===!!t?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(t){return void 0===t?this.options.inverse:this.options.inverse===!!t?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var t=this.$on.clone(!0),e=this.$off.clone(!0);return this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(t){return void 0===t?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(t)),this.options.onColor=t,this.$element)}},{key:"offColor",value:function(t){return void 0===t?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(t)),this.options.offColor=t,this.$element)}},{key:"onText",value:function(t){return void 0===t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)}},{key:"offText",value:function(t){return void 0===t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)}},{key:"labelText",value:function(t){return void 0===t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)}},{key:"handleWidth",value:function(t){return void 0===t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(t){return void 0===t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(t){return void 0===t?this.options.wrapperClass:(t||(t=a.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)}},{key:"radioAllOff",value:function(t){if(void 0===t)return this.options.radioAllOff;var e=!!t;return this.options.radioAllOff===e||(this.options.radioAllOff=e),this.$element}},{key:"onInit",value:function(t){return void 0===t?this.options.onInit:(t||(t=a.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)}},{key:"onSwitchChange",value:function(t){return void 0===t?this.options.onSwitchChange:(t||(t=a.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)}},{key:"destroy",value:function(){var t=this.$element.closest("form");return t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var i=this,t=this.$on.add(this.$off).add(this.$label).css("width",""),n="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return t.width(n),this.$label.width(function(t,e){return"auto"===i.options.labelWidth?e<n?n:e:i.options.labelWidth}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){var e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1];this.$container.css("margin-left",function(){var t=[0,"-"+e._handleWidth+"px"];return e.options.indeterminate?"-"+e._handleWidth/2+"px":i?e.options.inverse?t[1]:t[0]:e.options.inverse?t[0]:t[1]})}},{key:"_init",value:function(){var t=this,e=function(){t.setPrevOptions(),t._width(),t._containerPosition(),setTimeout(function(){if(t.options.animate)return t.$wrapper.addClass(t._getClass("animate"))},50)};if(this.$wrapper.is(":visible"))e();else var i=window.setInterval(function(){if(t.$wrapper.is(":visible"))return e(),window.clearInterval(i)},50)}},{key:"_elementHandlers",value:function(){var n=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){n.options=n.prevOptions,n.options.indeterminate&&n.$wrapper.addClass(n._getClass("indeterminate")),n.$element.prop("checked",n.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(t,e){t.preventDefault(),t.stopImmediatePropagation();var i=n.$element.is(":checked");n._containerPosition(i),i===n.options.state||(n.options.state=i,n.$wrapper.toggleClass(n._getClass("off")).toggleClass(n._getClass("on")),!e&&(n.$element.is(":radio")&&a('[name="'+n.$element.attr("name")+'"]').not(n.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),n.$element.trigger("switchChange.bootstrapSwitch",[i])))},"focus.bootstrapSwitch":function(t){t.preventDefault(),n.$wrapper.addClass(n._getClass("focused"))},"blur.bootstrapSwitch":function(t){t.preventDefault(),n.$wrapper.removeClass(n._getClass("focused"))},"keydown.bootstrapSwitch":function(t){!t.which||n.options.disabled||n.options.readonly||(37===t.which||39===t.which)&&(t.preventDefault(),t.stopImmediatePropagation(),n.state(39===t.which))}})}},{key:"_handleHandlers",value:function(){var e=this;return this.$on.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(t){return t.preventDefault(),t.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var i=this;this.$label.on({click:function(t){t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){i._dragStart||i.options.disabled||i.options.readonly||(t.preventDefault(),t.stopPropagation(),i._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(i.$container.css("margin-left"),10),i.options.animate&&i.$wrapper.removeClass(i._getClass("animate")),i.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){if(null!=i._dragStart){var e=(t.pageX||t.originalEvent.touches[0].pageX)-i._dragStart;t.preventDefault(),e<-i._handleWidth||0<e||(i._dragEnd=e,i.$container.css("margin-left",i._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){if(i._dragStart){if(t.preventDefault(),i.options.animate&&i.$wrapper.addClass(i._getClass("animate")),i._dragEnd){var e=i._dragEnd>-i._handleWidth/2;i._dragEnd=!1,i.state(i.options.inverse?!e:e)}else i.state(!i.options.state);i._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){i.$label.trigger("mouseup.bootstrapSwitch")}})}},{key:"_externalLabelHandler",value:function(){var e=this,i=this.$element.closest("label");i.on("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),t.target===i[0]&&e.toggleState()})}},{key:"_formHandler",value:function(){var t=this.$element.closest("form");t.data("bootstrap-switch")||t.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){t.find("input").filter(function(){return a(this).data("bootstrap-switch")}).each(function(){return a(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(t){return this.options.baseClass+"-"+t}},{key:"_getClasses",value:function(t){return a.isArray(t)?t.map(this._getClass.bind(this)):[this._getClass(t)]}}]),e}();a.fn.bootstrapSwitch=function(o){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return Array.prototype.reduce.call(this,function(t,e){var i=a(e),n=i.data("bootstrap-switch"),s=n||new l(e,o);return n||i.data("bootstrap-switch",s),"string"==typeof o?s[o].apply(s,r):t},this)},a.fn.bootstrapSwitch.Constructor=l,a.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapDialog=e(t.jQuery)}(this,function(a){"use strict";var i=a.fn.modal.Constructor,e=function(t,e){i.call(this,t,e)};e.getModalVersion=function(){return void 0===a.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(a.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(a.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},e.ORIGINAL_BODY_PADDING=parseInt(a("body").css("padding-right")||0,10),(e.METHODS_TO_OVERRIDE={})["v3.1"]={},e.METHODS_TO_OVERRIDE["v3.2"]={hide:function(t){(t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented())&&(this.isShown=!1,0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())}},e.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var t=e.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},resetScrollbar:function(){0===this.getGlobalOpenedDialogs().length&&this.$body.css("padding-right",e.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(a.proxy(function(){0===this.getGlobalOpenedDialogs().length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},e.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},e.METHODS_TO_OVERRIDE["v3.3"]),e.prototype={constructor:e,getGlobalOpenedDialogs:function(){var i=[];return a.each(o.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&i.push(e)}),i}},e.prototype=a.extend(e.prototype,i.prototype,e.METHODS_TO_OVERRIDE[e.getModalVersion()]);var o=function(t){this.defaultOptions=a.extend(!0,{id:o.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},o.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(t),this.holdThisInstance()};return o.BootstrapDialogModal=e,o.NAMESPACE="bootstrap-dialog",o.TYPE_DEFAULT="type-default",o.TYPE_INFO="type-info",o.TYPE_PRIMARY="type-primary",o.TYPE_SUCCESS="type-success",o.TYPE_WARNING="type-warning",o.TYPE_DANGER="type-danger",o.DEFAULT_TEXTS={},o.DEFAULT_TEXTS[o.TYPE_DEFAULT]="Information",o.DEFAULT_TEXTS[o.TYPE_INFO]="Information",o.DEFAULT_TEXTS[o.TYPE_PRIMARY]="Information",o.DEFAULT_TEXTS[o.TYPE_SUCCESS]="Success",o.DEFAULT_TEXTS[o.TYPE_WARNING]="Warning",o.DEFAULT_TEXTS[o.TYPE_DANGER]="Danger",o.DEFAULT_TEXTS.OK="OK",o.DEFAULT_TEXTS.CANCEL="Cancel",o.DEFAULT_TEXTS.CONFIRM="Confirmation",o.SIZE_NORMAL="size-normal",o.SIZE_SMALL="size-small",o.SIZE_WIDE="size-wide",o.SIZE_LARGE="size-large",o.BUTTON_SIZES={},o.BUTTON_SIZES[o.SIZE_NORMAL]="",o.BUTTON_SIZES[o.SIZE_SMALL]="",o.BUTTON_SIZES[o.SIZE_WIDE]="",o.BUTTON_SIZES[o.SIZE_LARGE]="btn-lg",o.ICON_SPINNER="glyphicon glyphicon-asterisk",o.BUTTONS_ORDER_CANCEL_OK="btns-order-cancel-ok",o.BUTTONS_ORDER_OK_CANCEL="btns-order-ok-cancel",o.defaultOptions={type:o.TYPE_PRIMARY,size:o.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,closeIcon:"&#215;",spinicon:o.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1,btnsOrder:o.BUTTONS_ORDER_CANCEL_OK},o.configDefaultOptions=function(t){o.defaultOptions=a.extend(!0,o.defaultOptions,t)},o.dialogs={},o.openAll=function(){a.each(o.dialogs,function(t,e){e.open()})},o.closeAll=function(){a.each(o.dialogs,function(t,e){e.close()})},o.getDialog=function(t){var e=null;return void 0!==o.dialogs[t]&&(e=o.dialogs[t]),e},o.setDialog=function(t){return o.dialogs[t.getId()]=t},o.addDialog=function(t){return o.setDialog(t)},o.moveFocus=function(){var i=null;a.each(o.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&(i=e)}),null!==i&&i.getModal().focus()},o.METHODS_TO_OVERRIDE={},o.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){t.target===this&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},updateZIndex:function(){if(this.isOpened()){var i=0;a.each(o.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&i++});var t=this.getModal(),e=t.data("bs.modal").$backdrop;t.css("z-index",1050+20*(i-1)),e.css("z-index",1040+20*(i-1))}return this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},o.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:o.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:o.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:o.METHODS_TO_OVERRIDE["v3.1"].open},o.METHODS_TO_OVERRIDE["v3.3"]={},o.METHODS_TO_OVERRIDE["v3.3.4"]=a.extend({},o.METHODS_TO_OVERRIDE["v3.1"]),o.prototype={constructor:o,initOptions:function(t){return this.options=a.extend(!0,this.defaultOptions,t),this},holdThisInstance:function(){return o.addDialog(this),this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var t=a('<div class="modal" role="dialog" aria-hidden="true"></div>');return t.prop("id",this.getId()),t.attr("aria-labelledby",this.getId()+"_title"),t},getModal:function(){return this.$modal},setModal:function(t){return this.$modal=t,this},createModalDialog:function(){return a('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(t){return this.$modalDialog=t,this},createModalContent:function(){return a('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(t){return this.$modalContent=t,this},createModalHeader:function(){return a('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(t){return this.$modalHeader=t,this},createModalBody:function(){return a('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(t){return this.$modalBody=t,this},createModalFooter:function(){return a('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(t){return this.$modalFooter=t,this},createDynamicContent:function(t){var e=null;return"string"==typeof(e="function"==typeof t?t.call(t,this):t)&&(e=this.formatStringContent(e)),e},formatStringContent:function(t){return this.options.nl2br?t.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):t},setData:function(t,e){return this.options.data[t]=e,this},getData:function(t){return this.options.data[t]},setId:function(t){return this.options.id=t,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(t){return this.options.type=t,this.updateType(),this},updateType:function(){if(this.isRealized()){var t=[o.TYPE_DEFAULT,o.TYPE_INFO,o.TYPE_PRIMARY,o.TYPE_SUCCESS,o.TYPE_WARNING,o.TYPE_DANGER];this.getModal().removeClass(t.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(t){return this.options.size=t,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var r=this;this.getModal().removeClass(o.SIZE_NORMAL).removeClass(o.SIZE_SMALL).removeClass(o.SIZE_WIDE).removeClass(o.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===o.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===o.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),a.each(this.options.buttons,function(t,e){var i=r.getButton(e.id),n=["btn-lg","btn-sm","btn-xs"],s=!1;if("string"==typeof e.cssClass){var o=e.cssClass.split(" ");a.each(o,function(t,e){-1!==a.inArray(e,n)&&(s=!0)})}s||(i.removeClass(n.join(" ")),i.addClass(r.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(t){return this.options.cssClass=t,this},getTitle:function(){return this.options.title},setTitle:function(t){return this.options.title=t,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var t=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(t).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(t){return this.options.message=t,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var t=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(t)}return this},isClosable:function(){return this.options.closable},setClosable:function(t){return this.options.closable=t,this.updateClosable(),this},setCloseByBackdrop:function(t){return this.options.closeByBackdrop=t,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(t){return this.options.closeByKeyboard=t,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(t){return this.options.animate=t,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(t){return this.options.spinicon=t,this},addButton:function(t){return this.options.buttons.push(t),this},addButtons:function(t){var i=this;return a.each(t,function(t,e){i.addButton(e)}),this},getButtons:function(){return this.options.buttons},setButtons:function(t){return this.options.buttons=t,this.updateButtons(),this},getButton:function(t){return void 0!==this.indexedButtons[t]?this.indexedButtons[t]:null},getButtonSize:function(){return void 0!==o.BUTTON_SIZES[this.getSize()]?o.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(t){this.options.autodestroy=t},getDescription:function(){return this.options.description},setDescription:function(t){return this.options.description=t,this},setTabindex:function(t){return this.options.tabindex=t,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return o.DEFAULT_TEXTS[this.getType()]},getNamespace:function(t){return o.NAMESPACE+"-"+t},createHeaderContent:function(){var t=a("<div></div>");return t.addClass(this.getNamespace("header")),t.append(this.createTitleContent()),t.prepend(this.createCloseButton()),t},createTitleContent:function(){var t=a("<div></div>");return t.addClass(this.getNamespace("title")),t},createCloseButton:function(){var t=a("<div></div>");t.addClass(this.getNamespace("close-button"));var e=a('<button class="close" aria-label="close"></button>');return e.append(this.options.closeIcon),t.append(e),t.on("click",{dialog:this},function(t){t.data.dialog.close()}),t},createBodyContent:function(){var t=a("<div></div>");return t.addClass(this.getNamespace("body")),t.append(this.createMessageContent()),t},createMessageContent:function(){var t=a("<div></div>");return t.addClass(this.getNamespace("message")),t},createFooterContent:function(){var t=a("<div></div>");return t.addClass(this.getNamespace("footer")),t},createFooterButtons:function(){var n=this,s=a("<div></div>");return s.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},a.each(this.options.buttons,function(t,e){e.id||(e.id=o.newGuid());var i=n.createButton(e);n.indexedButtons[e.id]=i,s.append(i)}),s},createButton:function(t){var i=a('<button class="btn"></button>');return i.prop("id",t.id),i.data("button",t),void 0!==t.icon&&""!==a.trim(t.icon)&&i.append(this.createButtonIcon(t.icon)),void 0!==t.label&&i.append(t.label),void 0!==t.title&&i.attr("title",t.title),i.addClass(void 0!==t.cssClass&&""!==a.trim(t.cssClass)?t.cssClass:"btn-default"),"object"==typeof t.data&&t.data.constructor==={}.constructor&&a.each(t.data,function(t,e){i.attr("data-"+t,e)}),void 0!==t.hotkey&&(this.registeredButtonHotkeys[t.hotkey]=i),i.on("click",{dialog:this,$button:i,button:t},function(t){var e=t.data.dialog,i=t.data.$button,n=i.data("button");return n.autospin&&i.toggleSpin(!0),"function"==typeof n.action?n.action.call(i,e,t):void 0}),this.enhanceButton(i),void 0!==t.enabled&&i.toggleEnable(t.enabled),i},enhanceButton:function(n){return n.dialog=this,n.toggleEnable=function(t){return void 0!==t?this.prop("disabled",!t).toggleClass("disabled",!t):this.prop("disabled",!this.prop("disabled")),this},n.enable=function(){return this.toggleEnable(!0),this},n.disable=function(){return this.toggleEnable(!1),this},n.toggleSpin=function(t){var e=this.dialog,i=this.find("."+e.getNamespace("button-icon"));return void 0===t&&(t=!(0<n.find(".icon-spin").length)),t?(i.hide(),n.prepend(e.createButtonIcon(e.getSpinicon()).addClass("icon-spin"))):(i.show(),n.find(".icon-spin").remove()),this},n.spin=function(){return this.toggleSpin(!0),this},n.stopSpin=function(){return this.toggleSpin(!1),this},this},createButtonIcon:function(t){var e=a("<span></span>");return e.addClass(this.getNamespace("button-icon")).addClass(t),e},enableButtons:function(i){return a.each(this.indexedButtons,function(t,e){e.toggleEnable(i)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(t){return this.options.onshow=t,this},onShown:function(t){return this.options.onshown=t,this},onHide:function(t){return this.options.onhide=t,this},onHidden:function(t){return this.options.onhidden=t,this},isRealized:function(){return this.realized},setRealized:function(t){return this.realized=t,this},isOpened:function(){return this.opened},setOpened:function(t){return this.opened=t,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!0),e.isModalEvent(t)&&"function"==typeof e.options.onshow){var i=e.options.onshow(e);return!1===i&&e.setOpened(!1),i}}),this.getModal().on("shown.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onshown&&e.options.onshown(e)}),this.getModal().on("hide.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!1),e.isModalEvent(t)&&"function"==typeof e.options.onhide){var i=e.options.onhide(e);return!1===i&&e.setOpened(!0),i}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onhidden&&e.options.onhidden(e),e.isAutodestroy()&&(e.setRealized(!1),delete o.dialogs[e.getId()],a(this).remove()),o.moveFocus(),a(".modal").hasClass("in")&&a("body").addClass("modal-open")}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(t){27===t.which&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByKeyboard()&&t.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(t){var e=t.data.dialog;if(void 0!==e.registeredButtonHotkeys[t.which]){var i=a(e.registeredButtonHotkeys[t.which]);!i.prop("disabled")&&i.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){a(t.target).hasClass("modal-backdrop")&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},isModalEvent:function(t){return void 0!==t.namespace&&"bs.modal"===t.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown=!0;var i=e.getModalDialog().offset();e.draggableData.mouseOffset={top:t.clientY-i.top,left:t.clientX-i.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(t){t.data.dialog.draggableData.isMouseDown=!1}),a("body").on("mousemove",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown&&e.getModalDialog().offset({top:t.clientY-e.draggableData.mouseOffset.top,left:t.clientX-e.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(o.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new e(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("hide"),this}},o.prototype=a.extend(o.prototype,o.METHODS_TO_OVERRIDE[e.getModalVersion()]),o.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},o.show=function(t){return new o(t).open()},o.alert=function(){var t,e={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:o.DEFAULT_TEXTS.OK,buttonHotkey:null,callback:null};t="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?a.extend(!0,e,arguments[0]):a.extend(!0,e,{message:arguments[0],callback:void 0!==arguments[1]?arguments[1]:null});var i=new o(t);return i.setData("callback",t.callback),i.addButton({label:t.buttonLabel,hotkey:t.buttonHotkey,action:function(t){return("function"!=typeof t.getData("callback")||!1!==t.getData("callback").call(this,!0))&&(t.setData("btnClicked",!0),t.close())}}),i.onHide("function"==typeof i.options.onhide?function(t){var e=!0;return!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&(e=t.getData("callback")(!1)),!1!==e&&(e=this.onhide(t))}.bind({onhide:i.options.onhide}):function(t){var e=!0;return!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&(e=t.getData("callback")(!1)),e}),i.open()},o.confirm=function(){var t={},e={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:o.DEFAULT_TEXTS.CANCEL,btnCancelClass:null,btnCancelHotkey:null,btnOKLabel:o.DEFAULT_TEXTS.OK,btnOKClass:null,btnOKHotkey:null,btnsOrder:o.defaultOptions.btnsOrder,callback:null};null===(t="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?a.extend(!0,e,arguments[0]):a.extend(!0,e,{message:arguments[0],callback:void 0!==arguments[1]?arguments[1]:null})).btnOKClass&&(t.btnOKClass=["btn",t.type.split("-")[1]].join("-"));var i=new o(t);i.setData("callback",t.callback);var n=[{label:t.btnCancelLabel,cssClass:t.btnCancelClass,hotkey:t.btnCancelHotkey,action:function(t){return("function"!=typeof t.getData("callback")||!1!==t.getData("callback").call(this,!1))&&t.close()}},{label:t.btnOKLabel,cssClass:t.btnOKClass,hotkey:t.btnOKHotkey,action:function(t){return("function"!=typeof t.getData("callback")||!1!==t.getData("callback").call(this,!0))&&t.close()}}];return t.btnsOrder===o.BUTTONS_ORDER_OK_CANCEL&&n.reverse(),i.addButtons(n),i.open()},o.warning=function(t,e){return new o({type:o.TYPE_WARNING,message:t}).open()},o.danger=function(t,e){return new o({type:o.TYPE_DANGER,message:t}).open()},o.success=function(t,e){return new o({type:o.TYPE_SUCCESS,message:t}).open()},o}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){!function(C){"use strict";var a,t,l,e,i,h,n;function y(t){return C.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t.replace(this.re,this.ch)}),t}function c(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),s=new RegExp(i,"g"),o=null==t?"":""+t;return n.test(o)?o.replace(s,function(t){return e[t]}):o}String.prototype.includes||(a={}.toString,t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),l="".indexOf,e=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==a.call(t))throw new TypeError;var i=e.length,n=String(t),s=n.length,o=1<arguments.length?arguments[1]:void 0,r=o?Number(o):0;return r!=r&&(r=0),!(i<s+Math.min(Math.max(r,0),i))&&-1!=l.call(e,n,r)},t?t(String.prototype,"includes",{value:e,configurable:!0,writable:!0}):String.prototype.includes=e),String.prototype.startsWith||(i=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),h={}.toString,n=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==h.call(t))throw new TypeError;var i=e.length,n=String(t),s=n.length,o=1<arguments.length?arguments[1]:void 0,r=o?Number(o):0;r!=r&&(r=0);var a=Math.min(Math.max(r,0),i);if(i<s+a)return!1;for(var l=-1;++l<s;)if(e.charCodeAt(a+l)!=n.charCodeAt(l))return!1;return!0},i?i(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n),Object.keys||(Object.keys=function(t,e,i){for(e in i=[],t)i.hasOwnProperty.call(t,e)&&i.push(e);return i}),C.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?("function"==typeof Event?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),i.dispatchEvent(e)):(i.fireEvent&&((e=document.createEventObject()).eventType=t,i.fireEvent("on"+t,e)),this.trigger(t))},C.expr[":"].icontains=function(t,e,i){var n=C(t);return(n.data("tokens")||n.text()).toUpperCase().includes(i[3].toUpperCase())},C.expr[":"].ibegins=function(t,e,i){var n=C(t);return(n.data("tokens")||n.text()).toUpperCase().startsWith(i[3].toUpperCase())},C.expr[":"].aicontains=function(t,e,i){var n=C(t);return(n.data("tokens")||n.data("normalizedText")||n.text()).toUpperCase().includes(i[3].toUpperCase())},C.expr[":"].aibegins=function(t,e,i){var n=C(t);return(n.data("tokens")||n.data("normalizedText")||n.text()).toUpperCase().startsWith(i[3].toUpperCase())};var d=function(t,e,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=C(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=e,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=d.prototype.val,this.render=d.prototype.render,this.refresh=d.prototype.refresh,this.setStyle=d.prototype.setStyle,this.selectAll=d.prototype.selectAll,this.deselectAll=d.prototype.deselectAll,this.destroy=d.prototype.destroy,this.remove=d.prototype.remove,this.show=d.prototype.show,this.hide=d.prototype.hide,this.init()};function s(t,e){var o,r=arguments,a=t,l=e;[].shift.apply(r);var i=this.each(function(){var t=C(this);if(t.is("select")){var e=t.data("selectpicker"),i="object"==typeof a&&a;if(e){if(i)for(var n in i)i.hasOwnProperty(n)&&(e.options[n]=i[n])}else{var s=C.extend({},d.DEFAULTS,C.fn.selectpicker.defaults||{},t.data(),i);s.template=C.extend({},d.DEFAULTS.template,C.fn.selectpicker.defaults?C.fn.selectpicker.defaults.template:{},t.data().template,i.template),t.data("selectpicker",e=new d(this,s,l))}"string"==typeof a&&(o=e[a]instanceof Function?e[a].apply(e,r):e.options[a])}});return void 0!==o?o:i}d.VERSION="1.7.7",d.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},d.prototype={constructor:d,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==t&&(this.$button.attr("data-id",t),C('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",n=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",s=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+c(this.options.liveSearchPlaceholder)+'"')+"></div>":"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",r=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",a='<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+n+s+o+'<ul class="dropdown-menu inner" role="menu"></ul>'+r+"</div></div>";return C(a)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menuInner[0].innerHTML=t},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var p=this,u=[],f=0,t=document.createElement("option"),g=-1,m=function(t,e,i,n){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==e&null!==e?' data-original-index="'+e+'"':"")+(void 0!==n&null!==n?'data-optgroup="'+n+'"':"")+">"+t+"</li>"},v=function(t,e,i,n){return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(void 0!==i?' style="'+i+'"':"")+(p.options.liveSearchNormalize?' data-normalized-text="'+y(c(t))+'"':"")+(void 0!==n||null!==n?' data-tokens="'+n+'"':"")+">"+t+'<span class="'+p.options.iconBase+" "+p.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(g--,!this.$element.find(".bs-title-option").length)){var e=this.$element[0];t.className="bs-title-option",t.appendChild(document.createTextNode(this.options.title)),t.value="",e.insertBefore(t,e.firstChild),void 0===C(e.options[e.selectedIndex]).attr("selected")&&(t.selected=!0)}return this.$element.find("option").each(function(t){var e=C(this);if(g++,!e.hasClass("bs-title-option")){var i=this.className||"",n=this.style.cssText,s=e.data("content")?e.data("content"):e.html(),o=e.data("tokens")?e.data("tokens"):null,r=void 0!==e.data("subtext")?'<small class="text-muted">'+e.data("subtext")+"</small>":"",a=void 0!==e.data("icon")?'<span class="'+p.options.iconBase+" "+e.data("icon")+'"></span> ':"",l=this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled;if(""!==a&&l&&(a="<span>"+a+"</span>"),p.options.hideDisabled&&l)g--;else{if(e.data("content")||(s=a+'<span class="text">'+s+r+"</span>"),"OPTGROUP"===this.parentNode.tagName&&!0!==e.data("divider")){var h=" "+this.parentNode.className||"";if(0===e.index()){f+=1;var c=this.parentNode.label,d=void 0!==e.parent().data("subtext")?'<small class="text-muted">'+e.parent().data("subtext")+"</small>":"";c=(e.parent().data("icon")?'<span class="'+p.options.iconBase+" "+e.parent().data("icon")+'"></span> ':"")+'<span class="text">'+c+d+"</span>",0!==t&&0<u.length&&(g++,u.push(m("",null,"divider",f+"div"))),g++,u.push(m(c,null,"dropdown-header"+h,f))}u.push(m(v(s,"opt "+i+h,n,o),t,"",f))}else!0===e.data("divider")?u.push(m("",t,"divider")):!0===e.data("hidden")?u.push(m(v(s,i,n,o),t,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(g++,u.push(m("",null,"divider",f+"div"))),u.push(m(v(s,i,n,o),t)));p.liObj[t]=g}}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),u.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var e,n=this;!1!==t&&this.$element.find("option").each(function(t){var e=n.findLis().eq(n.liObj[t]);n.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),n.setSelected(t,this.selected,e)}),this.tabIndex();var i=this.$element.find("option").map(function(){if(this.selected){if(n.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,e=C(this),i=e.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+e.data("icon")+'"></i> ':"";return t=n.options.showSubtext&&e.data("subtext")&&!n.multiple?' <small class="text-muted">'+e.data("subtext")+"</small>":"",void 0!==e.attr("title")?e.attr("title"):e.data("content")&&n.options.showContent?e.data("content"):i+e.html()+t}}).toArray(),s=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var o=this.options.selectedTextFormat.split(">");if(1<o.length&&i.length>o[1]||1==o.length&&2<=i.length){e=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+e).length;s=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,r):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",r.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(s=this.options.title),s||(s=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",C.trim(s.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(s),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var e=document.createElement("div"),i=document.createElement("div"),n=document.createElement("ul"),s=document.createElement("li"),o=document.createElement("li"),r=document.createElement("a"),a=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(a.className="text",e.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",n.className="dropdown-menu inner",s.className="divider",a.appendChild(document.createTextNode("Inner text")),r.appendChild(a),o.appendChild(r),n.appendChild(o),n.appendChild(s),l&&i.appendChild(l),h){var p=document.createElement("span");h.className="bs-searchbox",p.className="form-control",h.appendChild(p),i.appendChild(h)}c&&i.appendChild(c),i.appendChild(n),d&&i.appendChild(d),e.appendChild(i),document.body.appendChild(e);var u=r.offsetHeight,f=l?l.offsetHeight:0,g=h?h.offsetHeight:0,m=c?c.offsetHeight:0,v=d?d.offsetHeight:0,y=C(s).outerHeight(!0),b="function"==typeof getComputedStyle&&getComputedStyle(i),_=b?null:C(i),w=parseInt(b?b.paddingTop:_.css("paddingTop"))+parseInt(b?b.paddingBottom:_.css("paddingBottom"))+parseInt(b?b.borderTopWidth:_.css("borderTopWidth"))+parseInt(b?b.borderBottomWidth:_.css("borderBottomWidth")),x=w+parseInt(b?b.marginTop:_.css("marginTop"))+parseInt(b?b.marginBottom:_.css("marginBottom"))+2;document.body.removeChild(e),this.sizeInfo={liHeight:u,headerHeight:f,searchHeight:g,actionsHeight:m,doneButtonHeight:v,dividerHeight:y,menuPadding:w,menuExtras:x}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var o,r,a,l,h=this,c=this.$menu,d=this.$menuInner,t=C(window),e=this.$newElement[0].offsetHeight,p=this.sizeInfo.liHeight,u=this.sizeInfo.headerHeight,f=this.sizeInfo.searchHeight,g=this.sizeInfo.actionsHeight,m=this.sizeInfo.doneButtonHeight,i=this.sizeInfo.dividerHeight,v=this.sizeInfo.menuPadding,y=this.sizeInfo.menuExtras,n=this.options.hideDisabled?".disabled":"",b=function(){a=h.$newElement.offset().top-t.scrollTop(),l=t.height()-a-e};if(b(),"auto"===this.options.size){var s=function(){var t,e=function(e,i){return function(t){return i?t.classList?t.classList.contains(e):C(t).hasClass(e):!(t.classList?t.classList.contains(e):C(t).hasClass(e))}},i=h.$menuInner[0].getElementsByTagName("li"),n=Array.prototype.filter?Array.prototype.filter.call(i,e("hidden",!1)):h.$lis.not(".hidden"),s=Array.prototype.filter?Array.prototype.filter.call(n,e("dropdown-header",!0)):n.filter(".dropdown-header");b(),o=l-y,h.options.container?(c.data("height")||c.data("height",c.height()),r=c.data("height")):r=c.height(),h.options.dropupAuto&&h.$newElement.toggleClass("dropup",l<a&&o-y<r),h.$newElement.hasClass("dropup")&&(o=a-y),t=3<n.length+s.length?3*p+y-2:0,c.css({"max-height":o+"px",overflow:"hidden","min-height":t+u+f+g+m+"px"}),d.css({"max-height":o-u-f-g-m-v+"px","overflow-y":"auto","min-height":Math.max(t-v,0)+"px"})};s(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",s),t.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",s)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(n).length>this.options.size){var _=this.$lis.not(".divider").not(n).children().slice(0,this.options.size).last().parent().index(),w=this.$lis.slice(0,_+1).filter(".divider").length;o=p*this.options.size+w*i+v,h.options.container?(c.data("height")||c.data("height",c.height()),r=c.data("height")):r=c.height(),h.options.dropupAuto&&this.$newElement.toggleClass("dropup",l<a&&o-y<r),c.css({"max-height":o+u+f+g+m+"px",overflow:"hidden","min-height":""}),d.css({"max-height":o-v+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,i=t.children(".dropdown-menu").outerWidth(),n=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(i,n)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=C('<div class="bs-container" />');var e,i,n=this,s=function(t){n.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,n.$bsContainer.css({top:e.top+i,left:e.left,width:t[0].offsetWidth})};this.$newElement.on("click",function(){var t=C(this);n.isDisabled()||(s(t),n.$bsContainer.appendTo(n.options.container).toggleClass("open",!t.hasClass("open")).append(n.$menu))}),C(window).on("resize scroll",function(){s(n.$newElement)}),this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height()),n.$bsContainer.detach()})},setSelected:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),i.toggleClass("selected",e)},setDisabled:function(t,e,i){i||(i=this.findLis().eq(this.liObj[t])),e?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var y=this,e=C(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$newElement.on("click",function(){y.setSize(),y.$element.on("shown.bs.select",function(){if(y.options.liveSearch||y.multiple){if(!y.multiple){var t=y.liObj[y.$element[0].selectedIndex];if("number"!=typeof t||!1===y.options.size)return;var e=y.$lis.eq(t)[0].offsetTop-y.$menuInner[0].offsetTop;e=e-y.$menuInner[0].offsetHeight/2+y.sizeInfo.liHeight/2,y.$menuInner[0].scrollTop=e}}else y.$menuInner.find(".selected a").focus()})}),this.$menuInner.on("click","li a",function(t){var e=C(this),i=e.parent().data("originalIndex"),n=y.$element.val(),s=y.$element.prop("selectedIndex");if(y.multiple&&t.stopPropagation(),t.preventDefault(),!y.isDisabled()&&!e.parent().hasClass("disabled")){var o=y.$element.find("option"),r=o.eq(i),a=r.prop("selected"),l=r.parent("optgroup"),h=y.options.maxOptions,c=l.data("maxOptions")||!1;if(y.multiple){if(r.prop("selected",!a),y.setSelected(i,!a),e.blur(),!1!==h||!1!==c){var d=h<o.filter(":selected").length,p=c<l.find("option:selected").length;if(h&&d||c&&p)if(h&&1==h)o.prop("selected",!1),r.prop("selected",!0),y.$menuInner.find(".selected").removeClass("selected"),y.setSelected(i,!0);else if(c&&1==c){l.find("option:selected").prop("selected",!1),r.prop("selected",!0);var u=e.parent().data("optgroup");y.$menuInner.find('[data-optgroup="'+u+'"]').removeClass("selected"),y.setSelected(i,!0)}else{var f="function"==typeof y.options.maxOptionsText?y.options.maxOptionsText(h,c):y.options.maxOptionsText,g=f[0].replace("{n}",h),m=f[1].replace("{n}",c),v=C('<div class="notify"></div>');f[2]&&(g=g.replace("{var}",f[2][1<h?0:1]),m=m.replace("{var}",f[2][1<c?0:1])),r.prop("selected",!1),y.$menu.append(v),h&&d&&(v.append(C("<div>"+g+"</div>")),y.$element.trigger("maxReached.bs.select")),c&&p&&(v.append(C("<div>"+m+"</div>")),y.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){y.setSelected(i,!1)},10),v.delay(750).fadeOut(300,function(){C(this).remove()})}}}else o.prop("selected",!1),r.prop("selected",!0),y.$menuInner.find(".selected").removeClass("selected"),y.setSelected(i,!0);y.multiple?y.options.liveSearch&&y.$searchbox.focus():y.$button.focus(),(n!=y.$element.val()&&y.multiple||s!=y.$element.prop("selectedIndex")&&!y.multiple)&&(y.$element.triggerNative("change"),y.$element.trigger("changed.bs.select",[i,r.prop("selected"),a]))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),y.options.liveSearch&&!C(t.target).hasClass("close")?y.$searchbox.focus():y.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),y.options.liveSearch?y.$searchbox.focus():y.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){y.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){y.options.liveSearch?y.$searchbox.focus():y.$button.focus(),t.preventDefault(),t.stopPropagation(),C(this).hasClass("bs-select-all")?y.selectAll():y.deselectAll(),y.$element.triggerNative("change")}),this.$element.change(function(){y.render(!1)})},liveSearchListener:function(){var n=this,e=C('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active"),n.$searchbox.val()&&(n.$searchbox.val(""),n.$lis.not(".is-hidden").removeClass("hidden"),e.parent().length&&e.remove()),n.multiple||n.$menuInner.find(".selected").addClass("active"),setTimeout(function(){n.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var t=n.$lis.not(".is-hidden").removeClass("hidden").children("a");(t=n.options.liveSearchNormalize?t.not(":a"+n._searchStyle()+'("'+y(n.$searchbox.val())+'")'):t.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')).parent().addClass("hidden"),n.$lis.filter(".dropdown-header").each(function(){var t=C(this),e=t.data("optgroup");0===n.$lis.filter("[data-optgroup="+e+"]").not(t).not(".hidden").length&&(t.addClass("hidden"),n.$lis.filter("[data-optgroup="+e+"div]").addClass("hidden"))});var i=n.$lis.not(".hidden");i.each(function(t){var e=C(this);e.hasClass("divider")&&(e.index()===i.first().index()||e.index()===i.last().index()||i.eq(t+1).hasClass("divider"))&&e.addClass("hidden")}),n.$lis.not(".hidden, .no-results").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(n.options.noneResultsText.replace("{0}",'"'+c(n.$searchbox.val())+'"')).show(),n.$menuInner.append(e))}else n.$lis.not(".is-hidden").removeClass("hidden"),e.parent().length&&e.remove();n.$lis.filter(".active").removeClass("active"),n.$searchbox.val()&&n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),C(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(t){void 0===t&&(t=!0),this.findLis();for(var e=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",t),n=i.length,s=[],o=0;o<n;o++){var r=i[o].getAttribute("data-original-index");s[s.length]=e.eq(r)[0]}C(s).prop("selected",t),this.render(!1)},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},keydown:function(t){var e,i,n,s,o,r,a,l,h,c=C(this),d=c.is("input")?c.parent().parent():c.parent(),p=d.data("this"),u=":not(.disabled, .hidden, .dropdown-header, .divider)",f={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(p.options.liveSearch&&(d=c.parent().parent()),p.options.container&&(d=p.$menu),e=C("[role=menu] li",d),!(h=p.$menu.parent().hasClass("open"))&&(48<=t.keyCode&&t.keyCode<=57||96<=t.keyCode&&t.keyCode<=105||65<=t.keyCode&&t.keyCode<=90)&&(p.options.container?p.$newElement.trigger("click"):(p.setSize(),p.$menu.parent().addClass("open"),h=!0),p.$searchbox.focus()),p.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&h&&0===p.$menu.find(".active").length&&(t.preventDefault(),p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus()),e=C("[role=menu] li"+u,d),c.val()||/(38|40)/.test(t.keyCode.toString(10))||0===e.filter(".active").length&&(e=p.$menuInner.find("li"),e=p.options.liveSearchNormalize?e.filter(":a"+p._searchStyle()+"("+y(f[t.keyCode])+")"):e.filter(":"+p._searchStyle()+"("+f[t.keyCode]+")"))),e.length){if(/(38|40)/.test(t.keyCode.toString(10)))i=e.index(e.find("a").filter(":focus").parent()),s=e.filter(u).first().index(),o=e.filter(u).last().index(),n=e.eq(i).nextAll(u).eq(0).index(),r=e.eq(i).prevAll(u).eq(0).index(),a=e.eq(n).prevAll(u).eq(0).index(),p.options.liveSearch&&(e.each(function(t){C(this).hasClass("disabled")||C(this).data("index",t)}),i=e.index(e.filter(".active")),s=e.first().data("index"),o=e.last().data("index"),n=e.eq(i).nextAll().eq(0).data("index"),r=e.eq(i).prevAll().eq(0).data("index"),a=e.eq(n).prevAll().eq(0).data("index")),l=c.data("prevIndex"),38==t.keyCode?(p.options.liveSearch&&i--,i!=a&&r<i&&(i=r),i<s&&(i=s),i==l&&(i=o)):40==t.keyCode&&(p.options.liveSearch&&i++,-1==i&&(i=0),i!=a&&i<n&&(i=n),o<i&&(i=o),i==l&&(i=s)),c.data("prevIndex",i),p.options.liveSearch?(t.preventDefault(),c.hasClass("dropdown-toggle")||(e.removeClass("active").eq(i).addClass("active").children("a").focus(),c.focus())):e.eq(i).children("a").focus();else if(!c.is("input")){var g,m=[];e.each(function(){C(this).hasClass("disabled")||C.trim(C(this).children("a").text().toLowerCase()).substring(0,1)==f[t.keyCode]&&m.push(C(this).index())}),g=C(document).data("keycount"),g++,C(document).data("keycount",g),C.trim(C(":focus").text().toLowerCase()).substring(0,1)!=f[t.keyCode]?(g=1,C(document).data("keycount",g)):g>=m.length&&(C(document).data("keycount",0),g>m.length&&(g=1)),e.eq(m[g-1]).children("a").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&p.options.selectOnTab)&&h){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),p.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(p.$menuInner.find(".active a").click(),c.focus());else{var v=C(":focus");v.click(),v.focus(),t.preventDefault(),C(document).data("spaceSelect",!0)}C(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&h&&(p.multiple||p.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!h)&&(p.$menu.parent().removeClass("open"),p.options.container&&p.$newElement.removeClass("open"),p.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var o=C.fn.selectpicker;C.fn.selectpicker=s,C.fn.selectpicker.Constructor=d,C.fn.selectpicker.noConflict=function(){return C.fn.selectpicker=o,this},C(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',d.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(t){t.stopPropagation()}),C(window).on("load.bs.select.data-api",function(){C(".selectpicker").each(function(){var t=C(this);s.call(t,t.data())})})}(t)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,s;function y(){return t.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function h(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var i in e)b(e,i)&&(t[i]=e[i]);return b(e,"toString")&&(t.toString=e.toString),b(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,i,n){return ke(t,e,i,n,!0).utc()}function _(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=_(t),i=s.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function m(t){var e=f(NaN);return null!=t?u(_(e),t):_(e).userInvalidated=!0,e}s=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var o=y.momentProperties=[];function v(t,e){var i,n,s;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=_(e)),h(e._locale)||(t._locale=e._locale),0<o.length)for(i=0;i<o.length;i++)h(s=e[n=o[i]])||(t[n]=s);return t}var e=!1;function w(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,y.updateOffset(this),e=!1)}function x(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function C(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function k(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=C(e)),i}function r(t,e,i){var n,s=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),r=0;for(n=0;n<s;n++)(i&&t[n]!==e[n]||!i&&k(t[n])!==k(e[n]))&&r++;return r+o}function S(t){!1===y.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function i(s,o){var r=!0;return u(function(){if(null!=y.deprecationHandler&&y.deprecationHandler(null,s),r){for(var t,e=[],i=0;i<arguments.length;i++){if(t="","object"==typeof arguments[i]){for(var n in t+="\n["+i+"] ",arguments[0])t+=n+": "+arguments[0][n]+", ";t=t.slice(0,-2)}else t=arguments[i];e.push(t)}S(s+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),r=!1}return o.apply(this,arguments)},o)}var n,D={};function M(t,e){null!=y.deprecationHandler&&y.deprecationHandler(t,e),D[t]||(S(e),D[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var i,n=u({},t);for(i in e)b(e,i)&&(l(t[i])&&l(e[i])?(n[i]={},u(n[i],t[i]),u(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)b(t,i)&&!b(e,i)&&l(t[i])&&(n[i]=u({},n[i]));return n}function B(t){null!=t&&this.set(t)}y.suppressDeprecationWarnings=!1,y.deprecationHandler=null,n=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)b(t,e)&&i.push(e);return i};var P={};function E(t,e){var i=t.toLowerCase();P[i]=P[i+"s"]=P[e]=t}function $(t){return"string"==typeof t?P[t]||P[t.toLowerCase()]:void 0}function I(t){var e,i,n={};for(i in t)b(t,i)&&(e=$(i))&&(n[e]=t[i]);return n}var A={};function L(t,e){A[t]=e}function H(t,e,i){var n=""+Math.abs(t),s=e-n.length;return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},W={};function Y(t,e,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),t&&(W[t]=s),e&&(W[e[0]]=function(){return H(s.apply(this,arguments),e[1],e[2])}),i&&(W[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=F(e,t.localeData()),R[e]=R[e]||function(n){var t,s,e,o=n.match(z);for(t=0,s=o.length;t<s;t++)W[o[t]]?o[t]=W[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,i="";for(e=0;e<s;e++)i+=T(o[e])?o[e].call(t,n):o[e];return i}}(e),R[e](t)):t.localeData().invalidDate()}function F(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(N.lastIndex=0;0<=i&&N.test(t);)t=t.replace(N,n),N.lastIndex=0,i-=1;return t}var U=/\d/,q=/\d\d/,V=/\d{3}/,G=/\d{4}/,X=/[+-]?\d{6}/,Z=/\d\d?/,K=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,J=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,it=/\d+/,nt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,rt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,at={};function lt(t,i,n){at[t]=T(i)?i:function(t,e){return t&&n?n:i}}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ct={};function dt(t,i){var e,n=i;for("string"==typeof t&&(t=[t]),c(i)&&(n=function(t,e){e[i]=k(t)}),e=0;e<t.length;e++)ct[t[e]]=n}function pt(t,s){dt(t,function(t,e,i,n){i._w=i._w||{},s(t,i._w,i,n)})}var ut=0,ft=1,gt=2,mt=3,vt=4,yt=5,bt=6,_t=7,wt=8;function xt(t){return Ct(t)?366:365}function Ct(t){return t%4==0&&t%100!=0||t%400==0}Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),E("year","y"),L("year",1),lt("Y",nt),lt("YY",Z,q),lt("YYYY",tt,G),lt("YYYYY",et,X),lt("YYYYYY",et,X),dt(["YYYYY","YYYYYY"],ut),dt("YYYY",function(t,e){e[ut]=2===t.length?y.parseTwoDigitYear(t):k(t)}),dt("YY",function(t,e){e[ut]=y.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[ut]=parseInt(t,10)}),y.parseTwoDigitYear=function(t){return k(t)+(68<k(t)?1900:2e3)};var kt,St=Dt("FullYear",!0);function Dt(e,i){return function(t){return null!=t?(Tt(this,e,t),y.updateOffset(this,i),this):Mt(this,e)}}function Mt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Tt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Ct(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Ot(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=(e%12+12)%12;return t+=(e-i)/12,1===i?Ct(t)?29:28:31-i%7%2}kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),E("month","M"),L("month",8),lt("M",Z),lt("MM",Z,q),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[ft]=k(t)-1}),dt(["MMM","MMMM"],function(t,e,i,n){var s=i._locale.monthsParse(t,n,i._strict);null!=s?e[ft]=s:_(i).invalidMonth=t});var Bt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function $t(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function It(t){return null!=t?($t(this,t),y.updateOffset(this,!0),this):Mt(this,"Month")}var At=rt,Lt=rt;function Ht(){function t(t,e){return e.length-t.length}var e,i,n=[],s=[],o=[];for(e=0;e<12;e++)i=f([2e3,e]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(t),s.sort(t),o.sort(t),e=0;e<12;e++)n[e]=ht(n[e]),s[e]=ht(s[e]);for(e=0;e<24;e++)o[e]=ht(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function zt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Nt(t,e,i){var n=7+e-i;return-(7+zt(t,0,n).getUTCDay()-e)%7+n-1}function Rt(t,e,i,n,s){var o,r,a=1+7*(e-1)+(7+i-n)%7+Nt(t,n,s);return a<=0?r=xt(o=t-1)+a:a>xt(t)?(o=t+1,r=a-xt(t)):(o=t,r=a),{year:o,dayOfYear:r}}function Wt(t,e,i){var n,s,o=Nt(t.year(),e,i),r=Math.floor((t.dayOfYear()-o-1)/7)+1;return r<1?n=r+Yt(s=t.year()-1,e,i):r>Yt(t.year(),e,i)?(n=r-Yt(t.year(),e,i),s=t.year()+1):(s=t.year(),n=r),{week:n,year:s}}function Yt(t,e,i){var n=Nt(t,e,i),s=Nt(t+1,e,i);return(xt(t)-n+s)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),L("week",5),L("isoWeek",5),lt("w",Z),lt("ww",Z,q),lt("W",Z),lt("WW",Z,q),pt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=k(t)}),Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),lt("d",Z),lt("e",Z),lt("E",Z),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),pt(["dd","ddd","dddd"],function(t,e,i,n){var s=i._locale.weekdaysParse(t,n,i._strict);null!=s?e.d=s:_(i).invalidWeekday=t}),pt(["d","e","E"],function(t,e,i,n){e[n]=k(t)});var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qt=rt,Vt=rt,Gt=rt;function Xt(){function t(t,e){return e.length-t.length}var e,i,n,s,o,r=[],a=[],l=[],h=[];for(e=0;e<7;e++)i=f([2e3,1]).day(e),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),o=this.weekdays(i,""),r.push(n),a.push(s),l.push(o),h.push(n),h.push(s),h.push(o);for(r.sort(t),a.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)a[e]=ht(a[e]),l[e]=ht(l[e]),h[e]=ht(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Kt(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Qt(t,e){return e._meridiemParse}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Zt),Y("k",["kk",2],0,function(){return this.hours()||24}),Y("hmm",0,0,function(){return""+Zt.apply(this)+H(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Zt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),E("hour","h"),L("hour",13),lt("a",Qt),lt("A",Qt),lt("H",Z),lt("h",Z),lt("k",Z),lt("HH",Z,q),lt("hh",Z,q),lt("kk",Z,q),lt("hmm",K),lt("hmmss",Q),lt("Hmm",K),lt("Hmmss",Q),dt(["H","HH"],mt),dt(["k","kk"],function(t,e,i){var n=k(t);e[mt]=24===n?0:n}),dt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),dt(["h","hh"],function(t,e,i){e[mt]=k(t),_(i).bigHour=!0}),dt("hmm",function(t,e,i){var n=t.length-2;e[mt]=k(t.substr(0,n)),e[vt]=k(t.substr(n)),_(i).bigHour=!0}),dt("hmmss",function(t,e,i){var n=t.length-4,s=t.length-2;e[mt]=k(t.substr(0,n)),e[vt]=k(t.substr(n,2)),e[yt]=k(t.substr(s)),_(i).bigHour=!0}),dt("Hmm",function(t,e,i){var n=t.length-2;e[mt]=k(t.substr(0,n)),e[vt]=k(t.substr(n))}),dt("Hmmss",function(t,e,i){var n=t.length-4,s=t.length-2;e[mt]=k(t.substr(0,n)),e[vt]=k(t.substr(n,2)),e[yt]=k(t.substr(s))});var Jt,te=Dt("Hours",!0),ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pt,monthsShort:Et,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:Ut,weekdaysShort:Ft,meridiemParse:/[ap]\.?m?\.?/i},ie={},ne={};function se(t){return t?t.toLowerCase().replace("_","-"):t}function oe(t){var e=null;if(!ie[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Jt._abbr,require("./locale/"+t),re(e)}catch(t){}return ie[t]}function re(t,e){var i;return t&&((i=h(e)?le(t):ae(t,e))?Jt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Jt._abbr}function ae(t,e){if(null!==e){var i,n=ee;if(e.abbr=t,null!=ie[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ie[t]._config;else if(null!=e.parentLocale)if(null!=ie[e.parentLocale])n=ie[e.parentLocale]._config;else{if(null==(i=oe(e.parentLocale)))return ne[e.parentLocale]||(ne[e.parentLocale]=[]),ne[e.parentLocale].push({name:t,config:e}),null;n=i._config}return ie[t]=new B(O(n,e)),ne[t]&&ne[t].forEach(function(t){ae(t.name,t.config)}),re(t),ie[t]}return delete ie[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Jt;if(!a(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,i,n,s,o=0;o<t.length;){for(e=(s=se(t[o]).split("-")).length,i=(i=se(t[o+1]))?i.split("-"):null;0<e;){if(n=oe(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&r(s,i,!0)>=e-1)break;e--}o++}return Jt}(t)}function he(t){var e,i=t._a;return i&&-2===_(t).overflow&&(e=i[ft]<0||11<i[ft]?ft:i[gt]<1||i[gt]>Ot(i[ut],i[ft])?gt:i[mt]<0||24<i[mt]||24===i[mt]&&(0!==i[vt]||0!==i[yt]||0!==i[bt])?mt:i[vt]<0||59<i[vt]?vt:i[yt]<0||59<i[yt]?yt:i[bt]<0||999<i[bt]?bt:-1,_(t)._overflowDayOfYear&&(e<ut||gt<e)&&(e=gt),_(t)._overflowWeeks&&-1===e&&(e=_t),_(t)._overflowWeekday&&-1===e&&(e=wt),_(t).overflow=e),t}function ce(t,e,i){return null!=t?t:null!=e?e:i}function de(t){var e,i,n,s,o,r=[];if(!t._d){var a,l;for(a=t,l=new Date(y.now()),n=a._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[gt]&&null==t._a[ft]&&function(t){var e,i,n,s,o,r,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,r=4,i=ce(e.GG,t._a[ut],Wt(Se(),1,4).year),n=ce(e.W,1),((s=ce(e.E,1))<1||7<s)&&(l=!0);else{o=t._locale._week.dow,r=t._locale._week.doy;var h=Wt(Se(),o,r);i=ce(e.gg,t._a[ut],h.year),n=ce(e.w,h.week),null!=e.d?((s=e.d)<0||6<s)&&(l=!0):null!=e.e?(s=e.e+o,(e.e<0||6<e.e)&&(l=!0)):s=o}n<1||n>Yt(i,o,r)?_(t)._overflowWeeks=!0:null!=l?_(t)._overflowWeekday=!0:(a=Rt(i,n,s,o,r),t._a[ut]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=ce(t._a[ut],n[ut]),(t._dayOfYear>xt(o)||0===t._dayOfYear)&&(_(t)._overflowDayOfYear=!0),i=zt(o,0,t._dayOfYear),t._a[ft]=i.getUTCMonth(),t._a[gt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[mt]&&0===t._a[vt]&&0===t._a[yt]&&0===t._a[bt]&&(t._nextDay=!0,t._a[mt]=0),t._d=(t._useUTC?zt:function(t,e,i,n,s,o,r){var a=new Date(t,e,i,n,s,o,r);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[mt]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(_(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ve=/^\/?Date\((\-?\d+)/i;function ye(t){var e,i,n,s,o,r,a=t._i,l=pe.exec(a)||ue.exec(a);if(l){for(_(t).iso=!0,e=0,i=ge.length;e<i;e++)if(ge[e][1].exec(l[1])){s=ge[e][0],n=!1!==ge[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,i=me.length;e<i;e++)if(me[e][1].exec(l[3])){o=(l[2]||" ")+me[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(l[4]){if(!fe.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=s+(o||"")+(r||""),xe(t)}else t._isValid=!1}var be=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var _e={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function we(t){var e,i,n,s,o,r,a,l,h,c,d,p=be.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(p){var u=(s=p[4],o=p[3],r=p[2],a=p[5],l=p[6],h=p[7],d=[(c=parseInt(s,10),c<=49?2e3+c:c<=999?1900+c:c),Et.indexOf(o),parseInt(r,10),parseInt(a,10),parseInt(l,10)],h&&d.push(parseInt(h,10)),d);if(i=u,n=t,(e=p[1])&&Ft.indexOf(e)!==new Date(i[0],i[1],i[2]).getDay()&&(_(n).weekdayMismatch=!0,n._isValid=!1,1))return;t._a=u,t._tzm=function(t,e,i){if(t)return _e[t];if(e)return 0;var n=parseInt(i,10),s=n%100;return(n-s)/100*60+s}(p[8],p[9],p[10]),t._d=zt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),_(t).rfc2822=!0}else t._isValid=!1}function xe(t){if(t._f!==y.ISO_8601)if(t._f!==y.RFC_2822){t._a=[],_(t).empty=!0;var e,i,n,s,o,r,a,l,h=""+t._i,c=h.length,d=0;for(n=F(t._f,t._locale).match(z)||[],e=0;e<n.length;e++)s=n[e],(i=(h.match((m=s,v=t,b(at,m)?at[m](v._strict,v._locale):new RegExp(ht(m.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s})))))||[])[0])&&(0<(o=h.substr(0,h.indexOf(i))).length&&_(t).unusedInput.push(o),h=h.slice(h.indexOf(i)+i.length),d+=i.length),W[s]?(i?_(t).empty=!1:_(t).unusedTokens.push(s),r=s,l=t,null!=(a=i)&&b(ct,r)&&ct[r](a,l._a,l,r)):t._strict&&!i&&_(t).unusedTokens.push(s);_(t).charsLeftOver=c-d,0<h.length&&_(t).unusedInput.push(h),t._a[mt]<=12&&!0===_(t).bigHour&&0<t._a[mt]&&(_(t).bigHour=void 0),_(t).parsedDateParts=t._a.slice(0),_(t).meridiem=t._meridiem,t._a[mt]=(p=t._locale,u=t._a[mt],null==(f=t._meridiem)?u:null!=p.meridiemHour?p.meridiemHour(u,f):(null!=p.isPM&&((g=p.isPM(f))&&u<12&&(u+=12),g||12!==u||(u=0)),u)),de(t),he(t)}else we(t);else ye(t);var p,u,f,g,m,v}function Ce(t){var e,i,n,s,o=t._i,r=t._f;return t._locale=t._locale||le(t._l),null===o||void 0===r&&""===o?m({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),x(o)?new w(he(o)):(d(o)?t._d=o:a(r)?function(t){var e,i,n,s,o;if(0===t._f.length)return _(t).invalidFormat=!0,t._d=new Date(NaN);for(s=0;s<t._f.length;s++)o=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],xe(e),g(e)&&(o+=_(e).charsLeftOver,o+=10*_(e).unusedTokens.length,_(e).score=o,(null==n||o<n)&&(n=o,i=e));u(t,i||e)}(t):r?xe(t):h(i=(e=t)._i)?e._d=new Date(y.now()):d(i)?e._d=new Date(i.valueOf()):"string"==typeof i?(n=e,null===(s=ve.exec(n._i))?(ye(n),!1===n._isValid&&(delete n._isValid,we(n),!1===n._isValid&&(delete n._isValid,y.createFromInputFallback(n)))):n._d=new Date(+s[1])):a(i)?(e._a=p(i.slice(0),function(t){return parseInt(t,10)}),de(e)):l(i)?function(t){if(!t._d){var e=I(t._i);t._a=p([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}(e):c(i)?e._d=new Date(i):y.createFromInputFallback(e),g(t)||(t._d=null),t))}function ke(t,e,i,n,s){var o,r={};return!0!==i&&!1!==i||(n=i,i=void 0),(l(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||a(t)&&0===t.length)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=i,r._i=t,r._f=e,r._strict=n,(o=new w(he(Ce(r))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Se(t,e,i,n){return ke(t,e,i,n,!1)}y.createFromInputFallback=i("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),y.ISO_8601=function(){},y.RFC_2822=function(){};var De=i("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Me=i("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:m()});function Te(t,e){var i,n;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Se();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Be(t){var e=I(t),i=e.year||0,n=e.quarter||0,s=e.month||0,o=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===kt.call(Oe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Oe.length;++n)if(t[Oe[n]]){if(i)return!1;parseFloat(t[Oe[n]])!==k(t[Oe[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*a*60*60,this._days=+r+7*o,this._months=+s+3*n+12*i,this._data={},this._locale=le(),this._bubble()}function Pe(t){return t instanceof Be}function Ee(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function $e(t,i){Y(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+H(~~(t/60),2)+i+H(~~t%60,2)})}$e("Z",":"),$e("ZZ",""),lt("Z",ot),lt("ZZ",ot),dt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ae(ot,t)});var Ie=/([\+\-]|\d\d)/gi;function Ae(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Ie)||["-",0,0],s=60*n[1]+k(n[2]);return 0===s?0:"+"===n[0]?s:-s}function Le(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(x(t)||d(t)?t.valueOf():Se(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),y.updateOffset(i,!1),i):Se(t).local()}function He(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}y.updateOffset=function(){};var Ne=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Re=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function We(t,e){var i,n,s,o,r,a,l=t,h=null;return Pe(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(l={},e?l[e]=t:l.milliseconds=t):(h=Ne.exec(t))?(i="-"===h[1]?-1:1,l={y:0,d:k(h[gt])*i,h:k(h[mt])*i,m:k(h[vt])*i,s:k(h[yt])*i,ms:k(Ee(1e3*h[bt]))*i}):(h=Re.exec(t))?(i="-"===h[1]?-1:(h[1],1),l={y:Ye(h[2],i),M:Ye(h[3],i),w:Ye(h[4],i),d:Ye(h[5],i),h:Ye(h[6],i),m:Ye(h[7],i),s:Ye(h[8],i)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=Se(l.from),r=Se(l.to),s=o.isValid()&&r.isValid()?(r=Le(r,o),o.isBefore(r)?a=je(o,r):((a=je(r,o)).milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0},(l={}).ms=s.milliseconds,l.M=s.months),n=new Be(l),Pe(t)&&b(t,"_locale")&&(n._locale=t._locale),n}function Ye(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function je(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Fe(n,s){return function(t,e){var i;return null===e||isNaN(+e)||(M(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=e,e=i),Ue(this,We(t="string"==typeof t?+t:t,e),n),this}}function Ue(t,e,i,n){var s=e._milliseconds,o=Ee(e._days),r=Ee(e._months);t.isValid()&&(n=null==n||n,r&&$t(t,Mt(t,"Month")+r*i),o&&Tt(t,"Date",Mt(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),n&&y.updateOffset(t,o||r))}We.fn=Be.prototype,We.invalid=function(){return We(NaN)};var qe=Fe(1,"add"),Ve=Fe(-1,"subtract");function Ge(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Xe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",y.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ze=i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ke(){return this._locale}function Qe(t,e){Y(0,[t,t.length],0,e)}function Je(t,e,i,n,s){var o;return null==t?Wt(this,n,s).year:(e>(o=Yt(t,n,s))&&(e=o),function(t,e,i,n,s){var o=Rt(t,e,i,n,s),r=zt(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,t,e,i,n,s))}Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Qe("gggg","weekYear"),Qe("ggggg","weekYear"),Qe("GGGG","isoWeekYear"),Qe("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),lt("G",nt),lt("g",nt),lt("GG",Z,q),lt("gg",Z,q),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",et,X),lt("ggggg",et,X),pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=k(t)}),pt(["gg","GG"],function(t,e,i,n){e[n]=y.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),E("quarter","Q"),L("quarter",7),lt("Q",U),dt("Q",function(t,e){e[ft]=3*(k(t)-1)}),Y("D",["DD",2],"Do","date"),E("date","D"),L("date",9),lt("D",Z),lt("DD",Z,q),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],gt),dt("Do",function(t,e){e[gt]=k(t.match(Z)[0])});var ti=Dt("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),L("dayOfYear",4),lt("DDD",J),lt("DDDD",V),dt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=k(t)}),Y("m",["mm",2],0,"minute"),E("minute","m"),L("minute",14),lt("m",Z),lt("mm",Z,q),dt(["m","mm"],vt);var ei=Dt("Minutes",!1);Y("s",["ss",2],0,"second"),E("second","s"),L("second",15),lt("s",Z),lt("ss",Z,q),dt(["s","ss"],yt);var ii,ni=Dt("Seconds",!1);for(Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),E("millisecond","ms"),L("millisecond",16),lt("S",J,U),lt("SS",J,q),lt("SSS",J,V),ii="SSSS";ii.length<=9;ii+="S")lt(ii,it);function si(t,e){e[bt]=k(1e3*("0."+t))}for(ii="S";ii.length<=9;ii+="S")dt(ii,si);var oi=Dt("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var ri=w.prototype;function ai(t){return t}ri.add=qe,ri.calendar=function(t,e){var i=t||Se(),n=Le(i,this).startOf("day"),s=y.calendarFormat(this,n)||"sameElse",o=e&&(T(e[s])?e[s].call(this,i):e[s]);return this.format(o||this.localeData().calendar(s,this,Se(i)))},ri.clone=function(){return new w(this)},ri.diff=function(t,e,i){var n,s,o;if(!this.isValid())return NaN;if(!(n=Le(t,this)).isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),e=$(e)){case"year":o=Ge(this,n)/12;break;case"month":o=Ge(this,n);break;case"quarter":o=Ge(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-s)/864e5;break;case"week":o=(this-n-s)/6048e5;break;default:o=this-n}return i?o:C(o)},ri.endOf=function(t){return void 0===(t=$(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},ri.format=function(t){t||(t=this.isUtc()?y.defaultFormatUtc:y.defaultFormat);var e=j(this,t);return this.localeData().postformat(e)},ri.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Se(t).isValid())?We({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ri.fromNow=function(t){return this.from(Se(),t)},ri.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||Se(t).isValid())?We({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ri.toNow=function(t){return this.to(Se(),t)},ri.get=function(t){return T(this[t=$(t)])?this[t]():this},ri.invalidAt=function(){return _(this).overflow},ri.isAfter=function(t,e){var i=x(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=$(h(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},ri.isBefore=function(t,e){var i=x(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=$(h(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},ri.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},ri.isSame=function(t,e){var i,n=x(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},ri.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ri.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ri.isValid=function(){return g(this)},ri.lang=Ze,ri.locale=Xe,ri.localeData=Ke,ri.max=Me,ri.min=De,ri.parsingFlags=function(){return u({},_(this))},ri.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:A[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(T(this[t=$(t)]))return this[t](e);return this},ri.startOf=function(t){switch(t=$(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},ri.subtract=Ve,ri.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ri.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ri.toDate=function(){return new Date(this.valueOf())},ri.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||9999<i.year()?j(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(i,"Z")):j(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ri.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+s)},ri.toJSON=function(){return this.isValid()?this.toISOString():null},ri.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ri.unix=function(){return Math.floor(this.valueOf()/1e3)},ri.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ri.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ri.year=St,ri.isLeapYear=function(){return Ct(this.year())},ri.weekYear=function(t){return Je.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ri.isoWeekYear=function(t){return Je.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ri.quarter=ri.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ri.month=It,ri.daysInMonth=function(){return Ot(this.year(),this.month())},ri.week=ri.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ri.isoWeek=ri.isoWeeks=function(t){var e=Wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ri.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},ri.isoWeeksInYear=function(){return Yt(this.year(),1,4)},ri.date=ti,ri.day=ri.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-n,"d")):n},ri.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ri.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(i=t,n=this.localeData(),"string"==typeof i?n.weekdaysParse(i)%7||7:isNaN(i)?null:i);return this.day(this.day()%7?e:e-7)}return this.day()||7;var i,n},ri.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ri.hour=ri.hours=te,ri.minute=ri.minutes=ei,ri.second=ri.seconds=ni,ri.millisecond=ri.milliseconds=oi,ri.utcOffset=function(t,e,i){var n,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ae(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=He(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==t&&(!e||this._changeInProgress?Ue(this,We(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:He(this)},ri.utc=function(t){return this.utcOffset(0,t)},ri.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(He(this),"m")),this},ri.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ae(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ri.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ri.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ri.isLocal=function(){return!!this.isValid()&&!this._isUTC},ri.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ri.isUtc=ze,ri.isUTC=ze,ri.zoneAbbr=function(){return this._isUTC?"UTC":""},ri.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ri.dates=i("dates accessor is deprecated. Use date instead.",ti),ri.months=i("months accessor is deprecated. Use month instead",It),ri.years=i("years accessor is deprecated. Use year instead",St),ri.zone=i("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),ri.isDSTShifted=i("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Ce(t))._a){var e=t._isUTC?f(t._a):Se(t._a);this._isDSTShifted=this.isValid()&&0<r(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var li=B.prototype;function hi(t,e,i,n){var s=le(),o=f().set(n,e);return s[i](o,t)}function ci(t,e,i){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return hi(t,e,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=hi(t,n,i,"month");return s}function di(t,e,i,n){"boolean"==typeof t||(i=e=t,t=!1),c(e)&&(i=e,e=void 0),e=e||"";var s,o=le(),r=t?o._week.dow:0;if(null!=i)return hi(e,(i+r)%7,n,"day");var a=[];for(s=0;s<7;s++)a[s]=hi(e,(s+r)%7,n,"day");return a}li.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return T(n)?n.call(e,i):n},li.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},li.invalidDate=function(){return this._invalidDate},li.ordinal=function(t){return this._ordinal.replace("%d",t)},li.preparse=ai,li.postformat=ai,li.relativeTime=function(t,e,i,n){var s=this._relativeTime[i];return T(s)?s(t,e,i,n):s.replace(/%d/i,t)},li.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return T(i)?i(e):i.replace(/%s/i,e)},li.set=function(t){var e,i;for(i in t)T(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},li.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Bt).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},li.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Bt.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},li.monthsParse=function(t,e,i){var n,s,o;if(this._monthsParseExact)return function(t,e,i){var n,s,o,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=f([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(s=kt.call(this._shortMonthsParse,r))?s:null:-1!==(s=kt.call(this._longMonthsParse,r))?s:null:"MMM"===e?-1!==(s=kt.call(this._shortMonthsParse,r))?s:-1!==(s=kt.call(this._longMonthsParse,r))?s:null:-1!==(s=kt.call(this._longMonthsParse,r))?s:-1!==(s=kt.call(this._shortMonthsParse,r))?s:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=f([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},li.monthsRegex=function(t){return this._monthsParseExact?(b(this,"_monthsRegex")||Ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):(b(this,"_monthsRegex")||(this._monthsRegex=Lt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},li.monthsShortRegex=function(t){return this._monthsParseExact?(b(this,"_monthsRegex")||Ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(b(this,"_monthsShortRegex")||(this._monthsShortRegex=At),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},li.week=function(t){return Wt(t,this._week.dow,this._week.doy).week},li.firstDayOfYear=function(){return this._week.doy},li.firstDayOfWeek=function(){return this._week.dow},li.weekdays=function(t,e){return t?a(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},li.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},li.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},li.weekdaysParse=function(t,e,i){var n,s,o;if(this._weekdaysParseExact)return function(t,e,i){var n,s,o,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=f([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(s=kt.call(this._weekdaysParse,r))?s:null:"ddd"===e?-1!==(s=kt.call(this._shortWeekdaysParse,r))?s:null:-1!==(s=kt.call(this._minWeekdaysParse,r))?s:null:"dddd"===e?-1!==(s=kt.call(this._weekdaysParse,r))?s:-1!==(s=kt.call(this._shortWeekdaysParse,r))?s:-1!==(s=kt.call(this._minWeekdaysParse,r))?s:null:"ddd"===e?-1!==(s=kt.call(this._shortWeekdaysParse,r))?s:-1!==(s=kt.call(this._weekdaysParse,r))?s:-1!==(s=kt.call(this._minWeekdaysParse,r))?s:null:-1!==(s=kt.call(this._minWeekdaysParse,r))?s:-1!==(s=kt.call(this._weekdaysParse,r))?s:-1!==(s=kt.call(this._shortWeekdaysParse,r))?s:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=f([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},li.weekdaysRegex=function(t){return this._weekdaysParseExact?(b(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(b(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},li.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(b(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(b(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},li.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(b(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(b(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},li.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},li.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},re("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),y.lang=i("moment.lang is deprecated. Use moment.locale instead.",re),y.langData=i("moment.langData is deprecated. Use moment.localeData instead.",le);var pi=Math.abs;function ui(t,e,i,n){var s=We(e,i);return t._milliseconds+=n*s._milliseconds,t._days+=n*s._days,t._months+=n*s._months,t._bubble()}function fi(t){return t<0?Math.floor(t):Math.ceil(t)}function gi(t){return 4800*t/146097}function mi(t){return 146097*t/4800}function vi(t){return function(){return this.as(t)}}var yi=vi("ms"),bi=vi("s"),_i=vi("m"),wi=vi("h"),xi=vi("d"),Ci=vi("w"),ki=vi("M"),Si=vi("y");function Di(t){return function(){return this.isValid()?this._data[t]:NaN}}var Mi=Di("milliseconds"),Ti=Di("seconds"),Oi=Di("minutes"),Bi=Di("hours"),Pi=Di("days"),Ei=Di("months"),$i=Di("years"),Ii=Math.round,Ai={ss:44,s:45,m:45,h:22,d:26,M:11},Li=Math.abs;function Hi(t){return(0<t)-(t<0)||+t}function zi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Li(this._milliseconds)/1e3,n=Li(this._days),s=Li(this._months);e=C((t=C(i/60))/60),i%=60,t%=60;var o=C(s/12),r=s%=12,a=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",u=Hi(this._months)!==Hi(d)?"-":"",f=Hi(this._days)!==Hi(d)?"-":"",g=Hi(this._milliseconds)!==Hi(d)?"-":"";return p+"P"+(o?u+o+"Y":"")+(r?u+r+"M":"")+(a?f+a+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Ni=Be.prototype;return Ni.isValid=function(){return this._isValid},Ni.abs=function(){var t=this._data;return this._milliseconds=pi(this._milliseconds),this._days=pi(this._days),this._months=pi(this._months),t.milliseconds=pi(t.milliseconds),t.seconds=pi(t.seconds),t.minutes=pi(t.minutes),t.hours=pi(t.hours),t.months=pi(t.months),t.years=pi(t.years),this},Ni.add=function(t,e){return ui(this,t,e,1)},Ni.subtract=function(t,e){return ui(this,t,e,-1)},Ni.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=$(t))||"year"===t)return e=this._days+n/864e5,i=this._months+gi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(mi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Ni.asMilliseconds=yi,Ni.asSeconds=bi,Ni.asMinutes=_i,Ni.asHours=wi,Ni.asDays=xi,Ni.asWeeks=Ci,Ni.asMonths=ki,Ni.asYears=Si,Ni.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},Ni._bubble=function(){var t,e,i,n,s,o=this._milliseconds,r=this._days,a=this._months,l=this._data;return 0<=o&&0<=r&&0<=a||o<=0&&r<=0&&a<=0||(o+=864e5*fi(mi(a)+r),a=r=0),l.milliseconds=o%1e3,t=C(o/1e3),l.seconds=t%60,e=C(t/60),l.minutes=e%60,i=C(e/60),l.hours=i%24,a+=s=C(gi(r+=C(i/24))),r-=fi(mi(s)),n=C(a/12),a%=12,l.days=r,l.months=a,l.years=n,this},Ni.clone=function(){return We(this)},Ni.get=function(t){return t=$(t),this.isValid()?this[t+"s"]():NaN},Ni.milliseconds=Mi,Ni.seconds=Ti,Ni.minutes=Oi,Ni.hours=Bi,Ni.days=Pi,Ni.weeks=function(){return C(this.days()/7)},Ni.months=Ei,Ni.years=$i,Ni.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,i,n,s,o,r,a,l,h,c,d=this.localeData(),p=(e=!t,i=d,n=We(this).abs(),s=Ii(n.as("s")),o=Ii(n.as("m")),r=Ii(n.as("h")),a=Ii(n.as("d")),l=Ii(n.as("M")),h=Ii(n.as("y")),(c=s<=Ai.ss&&["s",s]||s<Ai.s&&["ss",s]||o<=1&&["m"]||o<Ai.m&&["mm",o]||r<=1&&["h"]||r<Ai.h&&["hh",r]||a<=1&&["d"]||a<Ai.d&&["dd",a]||l<=1&&["M"]||l<Ai.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=e,c[3]=0<+this,c[4]=i,function(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}.apply(null,c));return t&&(p=d.pastFuture(+this,p)),d.postformat(p)},Ni.toISOString=zi,Ni.toString=zi,Ni.toJSON=zi,Ni.locale=Xe,Ni.localeData=Ke,Ni.toIsoString=i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zi),Ni.lang=Ze,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),lt("x",nt),lt("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,i){i._d=new Date(k(t))}),y.version="2.21.0",t=Se,y.fn=ri,y.min=function(){return Te("isBefore",[].slice.call(arguments,0))},y.max=function(){return Te("isAfter",[].slice.call(arguments,0))},y.now=function(){return Date.now?Date.now():+new Date},y.utc=f,y.unix=function(t){return Se(1e3*t)},y.months=function(t,e){return ci(t,e,"months")},y.isDate=d,y.locale=re,y.invalid=m,y.duration=We,y.isMoment=x,y.weekdays=function(t,e,i){return di(t,e,i,"weekdays")},y.parseZone=function(){return Se.apply(null,arguments).parseZone()},y.localeData=le,y.isDuration=Pe,y.monthsShort=function(t,e){return ci(t,e,"monthsShort")},y.weekdaysMin=function(t,e,i){return di(t,e,i,"weekdaysMin")},y.defineLocale=ae,y.updateLocale=function(t,e){if(null!=e){var i,n,s=ee;null!=(n=oe(t))&&(s=n._config),(i=new B(e=O(s,e))).parentLocale=ie[t],ie[t]=i,re(t)}else null!=ie[t]&&(null!=ie[t].parentLocale?ie[t]=ie[t].parentLocale:null!=ie[t]&&delete ie[t]);return ie[t]},y.locales=function(){return n(ie)},y.weekdaysShort=function(t,e,i){return di(t,e,i,"weekdaysShort")},y.normalizeUnits=$,y.relativeTimeRounding=function(t){return void 0===t?Ii:"function"==typeof t&&(Ii=t,!0)},y.relativeTimeThreshold=function(t,e){return void 0!==Ai[t]&&(void 0===e?Ai[t]:(Ai[t]=e,"s"===t&&(Ai.ss=e-1),!0))},y.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},y.prototype=ri,y.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},y}),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)module.exports=t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(Q,J){"use strict";if(!J)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var o=function(o,c){var d,p,i,l,n,s,r,a,h,u={},f=!0,g=!1,m=!1,v=0,e=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],y=["days","months","years","decades"],b=["top","bottom","auto"],_=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},C={},k=function(){return void 0!==J.tz&&void 0!==c.timeZone&&null!==c.timeZone&&""!==c.timeZone},S=function(t){var e;return e=null==t?J():J.isDate(t)||J.isMoment(t)?J(t):k()?J.tz(t,s,c.useStrict,c.timeZone):J(t,s,c.useStrict),k()&&e.tz(c.timeZone),e},D=function(t){if("string"!=typeof t||1<t.length)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==n.indexOf("Y");case"M":return-1!==n.indexOf("M");case"d":return-1!==n.toLowerCase().indexOf("d");case"h":case"H":return-1!==n.toLowerCase().indexOf("h");case"m":return-1!==n.indexOf("m");case"s":return-1!==n.indexOf("s");default:return!1}},M=function(){return D("h")||D("m")||D("s")},T=function(){return D("y")||D("M")||D("d")},O=function(){var t,e,i,n=Q("<div>").addClass("timepicker-hours").append(Q("<table>").addClass("table-condensed")),s=Q("<div>").addClass("timepicker-minutes").append(Q("<table>").addClass("table-condensed")),o=Q("<div>").addClass("timepicker-seconds").append(Q("<table>").addClass("table-condensed")),r=[(t=Q("<tr>"),e=Q("<tr>"),i=Q("<tr>"),D("h")&&(t.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(Q("<span>").addClass(c.icons.up)))),e.append(Q("<td>").append(Q("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:c.tooltips.pickHour}).attr("data-action","showHours"))),i.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(Q("<span>").addClass(c.icons.down))))),D("m")&&(D("h")&&(t.append(Q("<td>").addClass("separator")),e.append(Q("<td>").addClass("separator").html(":")),i.append(Q("<td>").addClass("separator"))),t.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(Q("<span>").addClass(c.icons.up)))),e.append(Q("<td>").append(Q("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:c.tooltips.pickMinute}).attr("data-action","showMinutes"))),i.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(Q("<span>").addClass(c.icons.down))))),D("s")&&(D("m")&&(t.append(Q("<td>").addClass("separator")),e.append(Q("<td>").addClass("separator").html(":")),i.append(Q("<td>").addClass("separator"))),t.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(Q("<span>").addClass(c.icons.up)))),e.append(Q("<td>").append(Q("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:c.tooltips.pickSecond}).attr("data-action","showSeconds"))),i.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:c.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(Q("<span>").addClass(c.icons.down))))),l||(t.append(Q("<td>").addClass("separator")),e.append(Q("<td>").append(Q("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:c.tooltips.togglePeriod}))),i.append(Q("<td>").addClass("separator"))),Q("<div>").addClass("timepicker-picker").append(Q("<table>").addClass("table-condensed").append([t,e,i])))];return D("h")&&r.push(n),D("m")&&r.push(s),D("s")&&r.push(o),r},B=function(){var t,e,i,n=Q("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),s=Q("<div>").addClass("datepicker").append((e=Q("<thead>").append(Q("<tr>").append(Q("<th>").addClass("prev").attr("data-action","previous").append(Q("<span>").addClass(c.icons.previous))).append(Q("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",c.calendarWeeks?"6":"5")).append(Q("<th>").addClass("next").attr("data-action","next").append(Q("<span>").addClass(c.icons.next)))),i=Q("<tbody>").append(Q("<tr>").append(Q("<td>").attr("colspan",c.calendarWeeks?"8":"7"))),[Q("<div>").addClass("datepicker-days").append(Q("<table>").addClass("table-condensed").append(e).append(Q("<tbody>"))),Q("<div>").addClass("datepicker-months").append(Q("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),Q("<div>").addClass("datepicker-years").append(Q("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),Q("<div>").addClass("datepicker-decades").append(Q("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))])),o=Q("<div>").addClass("timepicker").append(O()),r=Q("<ul>").addClass("list-unstyled"),a=Q("<li>").addClass("picker-switch"+(c.collapse?" accordion-toggle":"")).append((t=[],c.showTodayButton&&t.push(Q("<td>").append(Q("<a>").attr({"data-action":"today",title:c.tooltips.today}).append(Q("<span>").addClass(c.icons.today)))),!c.sideBySide&&T()&&M()&&t.push(Q("<td>").append(Q("<a>").attr({"data-action":"togglePicker",title:c.tooltips.selectTime}).append(Q("<span>").addClass(c.icons.time)))),c.showClear&&t.push(Q("<td>").append(Q("<a>").attr({"data-action":"clear",title:c.tooltips.clear}).append(Q("<span>").addClass(c.icons.clear)))),c.showClose&&t.push(Q("<td>").append(Q("<a>").attr({"data-action":"close",title:c.tooltips.close}).append(Q("<span>").addClass(c.icons.close)))),Q("<table>").addClass("table-condensed").append(Q("<tbody>").append(Q("<tr>").append(t)))));return c.inline&&n.removeClass("dropdown-menu"),l&&n.addClass("usetwentyfour"),D("s")&&!l&&n.addClass("wider"),c.sideBySide&&T()&&M()?(n.addClass("timepicker-sbs"),"top"===c.toolbarPlacement&&n.append(a),n.append(Q("<div>").addClass("row").append(s.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===c.toolbarPlacement&&n.append(a),n):("top"===c.toolbarPlacement&&r.append(a),T()&&r.append(Q("<li>").addClass(c.collapse&&M()?"collapse in":"").append(s)),"default"===c.toolbarPlacement&&r.append(a),M()&&r.append(Q("<li>").addClass(c.collapse&&T()?"collapse":"").append(o)),"bottom"===c.toolbarPlacement&&r.append(a),n.append(r))},P=function(){var t,e=(g||o).position(),i=(g||o).offset(),n=c.widgetPositioning.vertical,s=c.widgetPositioning.horizontal;if(c.widgetParent)t=c.widgetParent.append(m);else if(o.is("input"))t=o.after(m).parent();else{if(c.inline)return void(t=o.append(m));(t=o).children().first().after(m)}if("auto"===n&&(n=i.top+1.5*m.height()>=Q(window).height()+Q(window).scrollTop()&&m.height()+o.outerHeight()<i.top?"top":"bottom"),"auto"===s&&(s=t.width()<i.left+m.outerWidth()/2&&i.left+m.outerWidth()>Q(window).width()?"right":"left"),"top"===n?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===s?m.addClass("pull-right"):m.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==Q(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");m.css({top:"top"===n?"auto":e.top+o.outerHeight(),bottom:"top"===n?t.outerHeight()-(t===o?0:e.top):"auto",left:"left"===s?t===o?0:e.left:"auto",right:"left"===s?"auto":t.outerWidth()-o.outerWidth()-(t===o?0:e.left)})},E=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||o.trigger(t)},$=function(t){"y"===t&&(t="YYYY"),E({type:"dp.update",change:t,viewDate:p.clone()})},I=function(t){m&&(t&&(r=Math.max(v,Math.min(3,r+t))),m.find(".datepicker > div").hide().filter(".datepicker-"+e[r].clsName).show())},A=function(t,e){if(!t.isValid())return!1;if(c.disabledDates&&"d"===e&&(i=t,!0===c.disabledDates[i.format("YYYY-MM-DD")]))return!1;var i,n,s,o;if(c.enabledDates&&"d"===e&&(n=t,!0!==c.enabledDates[n.format("YYYY-MM-DD")]))return!1;if(c.minDate&&t.isBefore(c.minDate,e))return!1;if(c.maxDate&&t.isAfter(c.maxDate,e))return!1;if(c.daysOfWeekDisabled&&"d"===e&&-1!==c.daysOfWeekDisabled.indexOf(t.day()))return!1;if(c.disabledHours&&("h"===e||"m"===e||"s"===e)&&(s=t,!0===c.disabledHours[s.format("H")]))return!1;if(c.enabledHours&&("h"===e||"m"===e||"s"===e)&&(o=t,!0!==c.enabledHours[o.format("H")]))return!1;if(c.disabledTimeIntervals&&("h"===e||"m"===e||"s"===e)){var r=!1;if(Q.each(c.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},L=function(){var t,e,i,n,s,o,r=m.find(".datepicker-days"),a=r.find("th"),l=[],h=[];if(T()){for(a.eq(0).find("span").attr("title",c.tooltips.prevMonth),a.eq(1).attr("title",c.tooltips.selectMonth),a.eq(2).find("span").attr("title",c.tooltips.nextMonth),r.find(".disabled").removeClass("disabled"),a.eq(1).text(p.format(c.dayViewHeaderFormat)),A(p.clone().subtract(1,"M"),"M")||a.eq(0).addClass("disabled"),A(p.clone().add(1,"M"),"M")||a.eq(2).addClass("disabled"),t=p.clone().startOf("M").startOf("w").startOf("d"),i=0;i<42;i++)0===t.weekday()&&(e=Q("<tr>"),c.calendarWeeks&&e.append('<td class="cw">'+t.week()+"</td>"),l.push(e)),h=["day"],t.isBefore(p,"M")&&h.push("old"),t.isAfter(p,"M")&&h.push("new"),t.isSame(d,"d")&&!f&&h.push("active"),A(t,"d")||h.push("disabled"),t.isSame(S(),"d")&&h.push("today"),0!==t.day()&&6!==t.day()||h.push("weekend"),E({type:"dp.classify",date:t,classNames:h}),e.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+h.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");r.find("tbody").empty().append(l),n=m.find(".datepicker-months"),s=n.find("th"),o=n.find("tbody").find("span"),s.eq(0).find("span").attr("title",c.tooltips.prevYear),s.eq(1).attr("title",c.tooltips.selectYear),s.eq(2).find("span").attr("title",c.tooltips.nextYear),n.find(".disabled").removeClass("disabled"),A(p.clone().subtract(1,"y"),"y")||s.eq(0).addClass("disabled"),s.eq(1).text(p.year()),A(p.clone().add(1,"y"),"y")||s.eq(2).addClass("disabled"),o.removeClass("active"),d.isSame(p,"y")&&!f&&o.eq(d.month()).addClass("active"),o.each(function(t){A(p.clone().month(t),"M")||Q(this).addClass("disabled")}),function(){var t=m.find(".datepicker-years"),e=t.find("th"),i=p.clone().subtract(5,"y"),n=p.clone().add(6,"y"),s="";for(e.eq(0).find("span").attr("title",c.tooltips.prevDecade),e.eq(1).attr("title",c.tooltips.selectDecade),e.eq(2).find("span").attr("title",c.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),c.minDate&&c.minDate.isAfter(i,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(i.year()+"-"+n.year()),c.maxDate&&c.maxDate.isBefore(n,"y")&&e.eq(2).addClass("disabled");!i.isAfter(n,"y");)s+='<span data-action="selectYear" class="year'+(i.isSame(d,"y")&&!f?" active":"")+(A(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");t.find("td").html(s)}(),function(){var t,e=m.find(".datepicker-decades"),i=e.find("th"),n=J({y:p.year()-p.year()%100-1}),s=n.clone().add(100,"y"),o=n.clone(),r=!1,a=!1,l="";for(i.eq(0).find("span").attr("title",c.tooltips.prevCentury),i.eq(2).find("span").attr("title",c.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(n.isSame(J({y:1900}))||c.minDate&&c.minDate.isAfter(n,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(n.year()+"-"+s.year()),(n.isSame(J({y:2e3}))||c.maxDate&&c.maxDate.isBefore(s,"y"))&&i.eq(2).addClass("disabled");!n.isAfter(s,"y");)t=n.year()+12,r=c.minDate&&c.minDate.isAfter(n,"y")&&c.minDate.year()<=t,a=c.maxDate&&c.maxDate.isAfter(n,"y")&&c.maxDate.year()<=t,l+='<span data-action="selectDecade" class="decade'+(d.isAfter(n)&&d.year()<=t?" active":"")+(A(n,"y")||r||a?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"</span>",n.add(12,"y");l+="<span></span><span></span><span></span>",e.find("td").html(l),i.eq(1).text(o.year()+1+"-"+n.year())}()}},t=function(){var t,e,i=m.find(".timepicker span[data-time-component]");l||(t=m.find(".timepicker [data-action=togglePeriod]"),e=d.clone().add(12<=d.hours()?-12:12,"h"),t.text(d.format("A")),A(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),i.filter("[data-time-component=hours]").text(d.format(l?"HH":"hh")),i.filter("[data-time-component=minutes]").text(d.format("mm")),i.filter("[data-time-component=seconds]").text(d.format("ss")),function(){var t=m.find(".timepicker-hours table"),e=p.clone().startOf("d"),i=[],n=Q("<tr>");for(11<p.hour()&&!l&&e.hour(12);e.isSame(p,"d")&&(l||p.hour()<12&&e.hour()<12||11<p.hour());)e.hour()%4==0&&(n=Q("<tr>"),i.push(n)),n.append('<td data-action="selectHour" class="hour'+(A(e,"h")?"":" disabled")+'">'+e.format(l?"HH":"hh")+"</td>"),e.add(1,"h");t.empty().append(i)}(),function(){for(var t=m.find(".timepicker-minutes table"),e=p.clone().startOf("h"),i=[],n=Q("<tr>"),s=1===c.stepping?5:c.stepping;p.isSame(e,"h");)e.minute()%(4*s)==0&&(n=Q("<tr>"),i.push(n)),n.append('<td data-action="selectMinute" class="minute'+(A(e,"m")?"":" disabled")+'">'+e.format("mm")+"</td>"),e.add(s,"m");t.empty().append(i)}(),function(){for(var t=m.find(".timepicker-seconds table"),e=p.clone().startOf("m"),i=[],n=Q("<tr>");p.isSame(e,"m");)e.second()%20==0&&(n=Q("<tr>"),i.push(n)),n.append('<td data-action="selectSecond" class="second'+(A(e,"s")?"":" disabled")+'">'+e.format("ss")+"</td>"),e.add(5,"s");t.empty().append(i)}()},H=function(){m&&(L(),t())},z=function(t){var e=f?null:d;if(!t)return f=!0,i.val(""),o.data("date",""),E({type:"dp.change",date:!1,oldDate:e}),void H();if(t=t.clone().locale(c.locale),k()&&t.tz(c.timeZone),1!==c.stepping)for(t.minutes(Math.round(t.minutes()/c.stepping)*c.stepping).seconds(0);c.minDate&&t.isBefore(c.minDate);)t.add(c.stepping,"minutes");A(t)?(p=(d=t).clone(),i.val(d.format(n)),o.data("date",d.format(n)),f=!1,H(),E({type:"dp.change",date:d.clone(),oldDate:e})):(c.keepInvalid?E({type:"dp.change",date:t,oldDate:e}):i.val(f?"":d.format(n)),E({type:"dp.error",date:t,oldDate:e}))},N=function(){var e=!1;return m&&(m.find(".collapse").each(function(){var t=Q(this).data("collapse");return!t||!t.transitioning||(e=!0,!1)}),e||(g&&g.hasClass("btn")&&g.toggleClass("active"),m.hide(),Q(window).off("resize",P),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,E({type:"dp.hide",date:d.clone()}),i.blur(),p=d.clone())),u},R=function(){z(null)},W=function(t){return void 0===c.parseInputDate?(!J.isMoment(t)||t instanceof Date)&&(t=S(t)):t=c.parseInputDate(t),t},Y={next:function(){var t=e[r].navFnc;p.add(e[r].navStep,t),L(),$(t)},previous:function(){var t=e[r].navFnc;p.subtract(e[r].navStep,t),L(),$(t)},pickerSwitch:function(){I(1)},selectMonth:function(t){var e=Q(t.target).closest("tbody").find("span").index(Q(t.target));p.month(e),r===v?(z(d.clone().year(p.year()).month(p.month())),c.inline||N()):(I(-1),L()),$("M")},selectYear:function(t){var e=parseInt(Q(t.target).text(),10)||0;p.year(e),r===v?(z(d.clone().year(p.year())),c.inline||N()):(I(-1),L()),$("YYYY")},selectDecade:function(t){var e=parseInt(Q(t.target).data("selection"),10)||0;p.year(e),r===v?(z(d.clone().year(p.year())),c.inline||N()):(I(-1),L()),$("YYYY")},selectDay:function(t){var e=p.clone();Q(t.target).is(".old")&&e.subtract(1,"M"),Q(t.target).is(".new")&&e.add(1,"M"),z(e.date(parseInt(Q(t.target).text(),10))),M()||c.keepOpen||c.inline||N()},incrementHours:function(){var t=d.clone().add(1,"h");A(t,"h")&&z(t)},incrementMinutes:function(){var t=d.clone().add(c.stepping,"m");A(t,"m")&&z(t)},incrementSeconds:function(){var t=d.clone().add(1,"s");A(t,"s")&&z(t)},decrementHours:function(){var t=d.clone().subtract(1,"h");A(t,"h")&&z(t)},decrementMinutes:function(){var t=d.clone().subtract(c.stepping,"m");A(t,"m")&&z(t)},decrementSeconds:function(){var t=d.clone().subtract(1,"s");A(t,"s")&&z(t)},togglePeriod:function(){z(d.clone().add(12<=d.hours()?-12:12,"h"))},togglePicker:function(t){var e,i=Q(t.target),n=i.closest("ul"),s=n.find(".in"),o=n.find(".collapse:not(.in)");if(s&&s.length){if((e=s.data("collapse"))&&e.transitioning)return;s.collapse?(s.collapse("hide"),o.collapse("show")):(s.removeClass("in"),o.addClass("in")),i.is("span")?i.toggleClass(c.icons.time+" "+c.icons.date):i.find("span").toggleClass(c.icons.time+" "+c.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var e=parseInt(Q(t.target).text(),10);l||(12<=d.hours()?12!==e&&(e+=12):12===e&&(e=0)),z(d.clone().hours(e)),Y.showPicker.call(u)},selectMinute:function(t){z(d.clone().minutes(parseInt(Q(t.target).text(),10))),Y.showPicker.call(u)},selectSecond:function(t){z(d.clone().seconds(parseInt(Q(t.target).text(),10))),Y.showPicker.call(u)},clear:R,today:function(){var t=S();A(t,"d")&&z(t)},close:N},j=function(t){return!Q(t.currentTarget).is(".disabled")&&(Y[Q(t.currentTarget).data("action")].apply(u,arguments),!1)},F=function(){var t;return i.prop("disabled")||!c.ignoreReadonly&&i.prop("readonly")||m||(void 0!==i.val()&&0!==i.val().trim().length?z(W(i.val().trim())):f&&c.useCurrent&&(c.inline||i.is("input")&&0===i.val().trim().length)&&(t=S(),"string"==typeof c.useCurrent&&(t={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}}[c.useCurrent](t)),z(t)),m=B(),function(){var t=Q("<tr>"),e=p.clone().startOf("w").startOf("d");for(!0===c.calendarWeeks&&t.append(Q("<th>").addClass("cw").text("#"));e.isBefore(p.clone().endOf("w"));)t.append(Q("<th>").addClass("dow").text(e.format("dd"))),e.add(1,"d");m.find(".datepicker-days thead").append(t)}(),function(){for(var t=[],e=p.clone().startOf("y").startOf("d");e.isSame(p,"y");)t.push(Q("<span>").attr("data-action","selectMonth").addClass("month").text(e.format("MMM"))),e.add(1,"M");m.find(".datepicker-months td").empty().append(t)}(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),H(),I(),Q(window).on("resize",P),m.on("click","[data-action]",j),m.on("mousedown",!1),g&&g.hasClass("btn")&&g.toggleClass("active"),P(),m.show(),c.focusOnShow&&!i.is(":focus")&&i.focus(),E({type:"dp.show"})),u},U=function(){return m?N():F()},q=function(t){var e,i,n,s,o=null,r=[],a={},l=t.which;for(e in C[l]="p",C)C.hasOwnProperty(e)&&"p"===C[e]&&(r.push(e),parseInt(e,10)!==l&&(a[e]=!0));for(e in c.keyBinds)if(c.keyBinds.hasOwnProperty(e)&&"function"==typeof c.keyBinds[e]&&((n=e.split(" ")).length===r.length&&x[l]===n[n.length-1])){for(s=!0,i=n.length-2;0<=i;i--)if(!(x[n[i]]in a)){s=!1;break}if(s){o=c.keyBinds[e];break}}o&&(o.call(u,m),t.stopPropagation(),t.preventDefault())},V=function(t){C[t.which]="r",t.stopPropagation(),t.preventDefault()},G=function(t){var e=Q(t.target).val().trim(),i=e?W(e):null;return z(i),t.stopImmediatePropagation(),!1},X=function(t){var e={};return Q.each(t,function(){var t=W(this);t.isValid()&&(e[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(e).length&&e},Z=function(t){var e={};return Q.each(t,function(){e[this]=!0}),!!Object.keys(e).length&&e},K=function(){var t=c.format||"L LT";n=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return(d.localeData().longDateFormat(t)||t).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return d.localeData().longDateFormat(t)||t})}),(s=c.extraFormats?c.extraFormats.slice():[]).indexOf(t)<0&&s.indexOf(n)<0&&s.push(n),l=n.toLowerCase().indexOf("a")<1&&n.replace(/\[.*?\]/g,"").indexOf("h")<1,D("y")&&(v=2),D("M")&&(v=1),D("d")&&(v=0),r=Math.max(v,r),f||z(d)};if(u.destroy=function(){N(),i.off({change:G,blur:blur,keydown:q,keyup:V,focus:c.allowInputToggle?N:""}),o.is("input")?i.off({focus:F}):g&&(g.off("click",U),g.off("mousedown",!1)),o.removeData("DateTimePicker"),o.removeData("date")},u.toggle=U,u.show=F,u.hide=N,u.disable=function(){return N(),g&&g.hasClass("btn")&&g.addClass("disabled"),i.prop("disabled",!0),u},u.enable=function(){return g&&g.hasClass("btn")&&g.removeClass("disabled"),i.prop("disabled",!1),u},u.ignoreReadonly=function(t){if(0===arguments.length)return c.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return c.ignoreReadonly=t,u},u.options=function(t){if(0===arguments.length)return Q.extend(!0,{},c);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return Q.extend(!0,c,t),Q.each(c,function(t,e){if(void 0===u[t])throw new TypeError("option "+t+" is not recognized!");u[t](e)}),u},u.date=function(t){if(0===arguments.length)return f?null:d.clone();if(!(null===t||"string"==typeof t||J.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return z(null===t?null:W(t)),u},u.format=function(t){if(0===arguments.length)return c.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);return c.format=t,n&&K(),u},u.timeZone=function(t){if(0===arguments.length)return c.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return c.timeZone=t,u},u.dayViewHeaderFormat=function(t){if(0===arguments.length)return c.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return c.dayViewHeaderFormat=t,u},u.extraFormats=function(t){if(0===arguments.length)return c.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return c.extraFormats=t,s&&K(),u},u.disabledDates=function(t){if(0===arguments.length)return c.disabledDates?Q.extend({},c.disabledDates):c.disabledDates;if(!t)return c.disabledDates=!1,H(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return c.disabledDates=X(t),c.enabledDates=!1,H(),u},u.enabledDates=function(t){if(0===arguments.length)return c.enabledDates?Q.extend({},c.enabledDates):c.enabledDates;if(!t)return c.enabledDates=!1,H(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return c.enabledDates=X(t),c.disabledDates=!1,H(),u},u.daysOfWeekDisabled=function(t){if(0===arguments.length)return c.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return c.daysOfWeekDisabled=!1,H(),u;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(c.daysOfWeekDisabled=t.reduce(function(t,e){return 6<(e=parseInt(e,10))||e<0||isNaN(e)||-1===t.indexOf(e)&&t.push(e),t},[]).sort(),c.useCurrent&&!c.keepInvalid){for(var e=0;!A(d,"d");){if(d.add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}z(d)}return H(),u},u.maxDate=function(t){if(0===arguments.length)return c.maxDate?c.maxDate.clone():c.maxDate;if("boolean"==typeof t&&!1===t)return c.maxDate=!1,H(),u;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=W(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(c.minDate&&e.isBefore(c.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(n));return c.maxDate=e,c.useCurrent&&!c.keepInvalid&&d.isAfter(t)&&z(c.maxDate),p.isAfter(e)&&(p=e.clone().subtract(c.stepping,"m")),H(),u},u.minDate=function(t){if(0===arguments.length)return c.minDate?c.minDate.clone():c.minDate;if("boolean"==typeof t&&!1===t)return c.minDate=!1,H(),u;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=S()));var e=W(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(c.maxDate&&e.isAfter(c.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(n));return c.minDate=e,c.useCurrent&&!c.keepInvalid&&d.isBefore(t)&&z(c.minDate),p.isBefore(e)&&(p=e.clone().add(c.stepping,"m")),H(),u},u.defaultDate=function(t){if(0===arguments.length)return c.defaultDate?c.defaultDate.clone():c.defaultDate;if(!t)return c.defaultDate=!1,u;"string"==typeof t&&(t="now"===t||"moment"===t?S():S(t));var e=W(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!A(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return c.defaultDate=e,(c.defaultDate&&c.inline||""===i.val().trim())&&z(c.defaultDate),u},u.locale=function(t){if(0===arguments.length)return c.locale;if(!J.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return c.locale=t,d.locale(c.locale),p.locale(c.locale),n&&K(),m&&(N(),F()),u},u.stepping=function(t){return 0===arguments.length?c.stepping:(t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),c.stepping=t,u)},u.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return c.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return c.useCurrent=t,u},u.collapse=function(t){if(0===arguments.length)return c.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return c.collapse===t||(c.collapse=t,m&&(N(),F())),u},u.icons=function(t){if(0===arguments.length)return Q.extend({},c.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return Q.extend(c.icons,t),m&&(N(),F()),u},u.tooltips=function(t){if(0===arguments.length)return Q.extend({},c.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return Q.extend(c.tooltips,t),m&&(N(),F()),u},u.useStrict=function(t){if(0===arguments.length)return c.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return c.useStrict=t,u},u.sideBySide=function(t){if(0===arguments.length)return c.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return c.sideBySide=t,m&&(N(),F()),u},u.viewMode=function(t){if(0===arguments.length)return c.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===y.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+y.join(", ")+") value");return c.viewMode=t,r=Math.max(y.indexOf(t),v),I(),u},u.toolbarPlacement=function(t){if(0===arguments.length)return c.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return c.toolbarPlacement=t,m&&(N(),F()),u},u.widgetPositioning=function(t){if(0===arguments.length)return Q.extend({},c.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===_.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+_.join(", ")+")");c.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===b.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");c.widgetPositioning.vertical=t.vertical}return H(),u},u.calendarWeeks=function(t){if(0===arguments.length)return c.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return c.calendarWeeks=t,H(),u},u.showTodayButton=function(t){if(0===arguments.length)return c.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return c.showTodayButton=t,m&&(N(),F()),u},u.showClear=function(t){if(0===arguments.length)return c.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return c.showClear=t,m&&(N(),F()),u},u.widgetParent=function(t){if(0===arguments.length)return c.widgetParent;if("string"==typeof t&&(t=Q(t)),null!==t&&"string"!=typeof t&&!(t instanceof Q))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return c.widgetParent=t,m&&(N(),F()),u},u.keepOpen=function(t){if(0===arguments.length)return c.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return c.keepOpen=t,u},u.focusOnShow=function(t){if(0===arguments.length)return c.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return c.focusOnShow=t,u},u.inline=function(t){if(0===arguments.length)return c.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return c.inline=t,u},u.clear=function(){return R(),u},u.keyBinds=function(t){return 0===arguments.length?c.keyBinds:(c.keyBinds=t,u)},u.getMoment=function(t){return S(t)},u.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return c.debug=t,u},u.allowInputToggle=function(t){if(0===arguments.length)return c.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return c.allowInputToggle=t,u},u.showClose=function(t){if(0===arguments.length)return c.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return c.showClose=t,u},u.keepInvalid=function(t){if(0===arguments.length)return c.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return c.keepInvalid=t,u},u.datepickerInput=function(t){if(0===arguments.length)return c.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return c.datepickerInput=t,u},u.parseInputDate=function(t){if(0===arguments.length)return c.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return c.parseInputDate=t,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return c.disabledTimeIntervals?Q.extend({},c.disabledTimeIntervals):c.disabledTimeIntervals;if(!t)return c.disabledTimeIntervals=!1,H(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return c.disabledTimeIntervals=t,H(),u},u.disabledHours=function(t){if(0===arguments.length)return c.disabledHours?Q.extend({},c.disabledHours):c.disabledHours;if(!t)return c.disabledHours=!1,H(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(c.disabledHours=Z(t),c.enabledHours=!1,c.useCurrent&&!c.keepInvalid){for(var e=0;!A(d,"h");){if(d.add(1,"h"),24===e)throw"Tried 24 times to find a valid date";e++}z(d)}return H(),u},u.enabledHours=function(t){if(0===arguments.length)return c.enabledHours?Q.extend({},c.enabledHours):c.enabledHours;if(!t)return c.enabledHours=!1,H(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(c.enabledHours=Z(t),c.disabledHours=!1,c.useCurrent&&!c.keepInvalid){for(var e=0;!A(d,"h");){if(d.add(1,"h"),24===e)throw"Tried 24 times to find a valid date";e++}z(d)}return H(),u},u.viewDate=function(t){if(0===arguments.length)return p.clone();if(!t)return p=d.clone(),u;if(!("string"==typeof t||J.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return p=W(t),$(),u},o.is("input"))i=o;else if(0===(i=o.find(c.datepickerInput)).length)i=o.find("input");else if(!i.is("input"))throw new Error('CSS class "'+c.datepickerInput+'" cannot be applied to non input element');if(o.hasClass("input-group")&&(g=0===o.find(".datepickerbutton").length?o.find(".input-group-addon"):o.find(".datepickerbutton")),!c.inline&&!i.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return d=S(),p=d.clone(),Q.extend(!0,c,(h={},(a=o.is("input")||c.inline?o.data():o.find("input").data()).dateOptions&&a.dateOptions instanceof Object&&(h=Q.extend(!0,h,a.dateOptions)),Q.each(c,function(t){var e="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==a[e]&&(h[t]=a[e])}),h)),u.options(c),K(),i.on({change:G,blur:c.debug?"":N,keydown:q,keyup:V,focus:c.allowInputToggle?F:""}),o.is("input")?i.on({focus:F}):g&&(g.on("click",U),g.on("mousedown",!1)),i.prop("disabled")&&u.disable(),i.is("input")&&0!==i.val().trim().length?z(W(i.val().trim())):c.defaultDate&&void 0===i.attr("placeholder")&&z(c.defaultDate),c.inline&&F(),u};return Q.fn.datetimepicker=function(i){i=i||{};var e,n=Array.prototype.slice.call(arguments,1),s=!0;if("object"==typeof i)return this.each(function(){var t,e=Q(this);e.data("DateTimePicker")||(t=Q.extend(!0,{},Q.fn.datetimepicker.defaults,i),e.data("DateTimePicker",o(e,t)))});if("string"==typeof i)return this.each(function(){var t=Q(this).data("DateTimePicker");if(!t)throw new Error('bootstrap-datetimepicker("'+i+'") method was called on an element that is not using DateTimePicker');e=t[i].apply(t,n),s=e===t}),s||-1<Q.inArray(i,["destroy","hide","show","toggle"])?this:e;throw new TypeError("Invalid arguments for DateTimePicker: "+i)},Q.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:J.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t&&t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},Q.fn.datetimepicker});var BB=BB||{};if(BB.base=function(){this.__BB_DEBUG__=!1,this.__PROTECTED__=[],this._data=void 0},BB.base.prototype.set_data=function(t){return void 0===this._data&&(this._data=new BB.data),"object"!=typeof t||this._data.set_data(t),this},BB.base.prototype.remove_data=function(t){return this._data.remove_data(t),this},BB.base.prototype.get_data=function(t){var e=this.data();return void 0!==e[t]&&e[t]},BB.base.prototype.data=function(t){return this._data.get_data(t)},BB.base.prototype.sanitize=function(){var t=this.data();return t=this._escape_data(t),this.set_data(t),this},BB.base.prototype._escape_data=function(t){if(void 0===t)return"";if("object"==typeof t&&t.length)for(var e=0,i=t.length;e<i;e++)t[e]=this._escape_data(t[e]);if("object"==typeof t)for(var n in t)t[n]=this._escape_data(t[n]);return"string"==typeof t?escape(t):t},BB.base.prototype._unescape_data=function(t){if(void 0===t)return"";if("object"==typeof t)for(var e in t)t[e]=this._unescape_data(t[e]);return"string"==typeof t?unescape(t):t},BB.base.prototype.ident=function(){var t=this.data();return"string"!=typeof t.ident?(this.error("Ident is not a String which is odd. "+t.ident),""):t.ident},BB.base.prototype.set_ident=function(t){return"string"!=typeof t&&(t=""+t,this.error("Ident must be a string. Automatically converted to : "+t)),this.set_data({ident:t}),this},BB.base.prototype.error=function(t){if(this.__BB_DEBUG__)throw Error(t);return this},BB.base.prototype.is_empty_object=function(t){if("object"!=typeof t)return this.error("Invalid argument, Object expected at BB.base.is_empty_object()"),!0;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},BB.base.prototype.extend=function(t,e){var i,n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},(BB=BB||{}).data=function(t){if(this.__PROTECTED__=[],this.__HIDDEN_DATA__=!0,this.__HIDDEN_DATA__){var i=t||{};return{set_data:function(t){for(var e in t)i[e]=t[e]},get_data:function(t){return t?void 0!==i[t]?i[t]:"":i},remove_data:function(t){t||(i={}),void 0!==i[t]&&(i[t]=void 0,delete i[t])}}}return this.__DATA=t||{},this.set_data=function(t){if(this.__DATA){if(t)for(var e in t)this.__DATA[e]=t[e]}else this.__DATA=t||{}},this.get_data=function(t){return t?void 0!==this.__DATA[t]?this.__DATA[t]:void 0:this.__DATA},this.remove_data=function(t){t||(this.__DATA={}),void 0!==this.__DATA[t]&&(this.__DATA[t]=void 0,delete this.__DATA[t])},this},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.controller=function(t,e){return this._MAP=void 0,this.__CONTAINER=t,this.__EDITABLE=!1,this.__PLACES={markers:{},polygons:{},lines:{}},this.__FOCUSED_ITEM=void 0,this.__CLUSTERER=void 0,this.xhrs=void 0,this.set_data(e),this},BB.gmap.controller.prototype=new BB.base,BB.gmap.controller.prototype.map=function(){return this._MAP?this._MAP:(this.error("No map associated to the current controller at BB.gmap.controller.map()"),!1)},BB.gmap.controller.prototype.loading_place=function(t){var e=this.get_place(t);return e&&e.set_data({loaded:!1}),this},BB.gmap.controller.prototype.place_loaded=function(t){return t?!t.data("loaded")&&(t.set_data({loaded:!0}),this.check_loaded_places()&&this.data("tiles_loaded")&&this._ready(),this):this},BB.gmap.controller.prototype.check_loaded_places=function(){var e=!0;return this._loop_all(function(t){e=!(!e||!t.data("loaded"))}),e},BB.gmap.controller.prototype.ready=function(t){return"function"==typeof t&&this.set_data({map_ready:t}),this},BB.gmap.controller.prototype._ready=function(){var t=this.data();return this.data("loaded")||("function"==typeof t.map_ready&&t.map_ready(this),this.set_data({loaded:!0})),this},BB.gmap.controller.prototype.set_zoom=function(t){return this.map().setZoom(t),this},BB.gmap.controller.prototype.container=function(){return this.__CONTAINER},BB.gmap.controller.prototype.init=function(){var t=this.data();if(this.map())return this;var e=this.data("map");return e.center=new google.maps.LatLng(parseFloat(e.center.x),parseFloat(e.center.y)),this._MAP=new google.maps.Map(this.container(),e),"object"!=typeof t.places?this.error("You haven't set any places yet"):this.add_places(t.places),this.listeners(),this},BB.gmap.controller.prototype.set_styles=function(t){"object"!=typeof t&&this.error("Invalid type styles in BB.gmap.set_styles()"+t);var e=this.data("map");return e.styles=t,this.data("map",e),this.map()&&this.map().setOptions({styles:t}),this},BB.gmap.controller.prototype.add_by_url=function(t,e,s){s={id:"id",type:"type",coords:"coords",raw:"raw.mLatitude",date:"raw.mDate"};var o=function(t,e){var i,n,s,o;for(n=(i=e.split(".")).length,s=0,o=t;s<n;s++){if(void 0===o[i[s]])return t;o=o[i[s]]}return o},i=function(t,e){var i={};for(var n in s)i[n]=o(t,s[n]);return i},n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);"string"==typeof e&&""!=e&&(t=o(t,e)),t.hasOwnProperty("map")&&(t=t.map(i))}},n.open("GET",t,!0),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.send()},BB.gmap.controller.prototype.add_places=function(t){if(!t)return this.error("Invalid places specified :"+t),this;for(var e in t)this.add_place(e,t[e]);return this},BB.gmap.controller.prototype.set_place=function(t,e,i){return e&&i?void 0===this.__PLACES[t]?this.error("Invalid data type at BB.gmap.controlle.set_place( "+t+", "+e+", "+i+")"):(void 0===this.__PLACES[t][e]&&(this.__PLACES[t][e]={}),i.set_ident(e),this.__PLACES[t][e]=i):this.error("Missing parameters in BB.gmap.controller.set_place( "+t+", "+e+", "+i+")"),this},BB.gmap.controller.prototype.add_place=function(t,e){if(!e)return this.error("Missing parameter BB.gmap.controller.prototype.add_place ( ident, data ) : ( "+t+", "+e+" )"),this;if("string"!=typeof e.type)return this.error('Missing parameter "type" in BB.gmap.controller.prototype.add_place'),this;switch(e.ident=t,e.type){case"marker":i=new BB.gmap.marker(e,this),this.set_place("markers",t,i);break;case"richmarker":var i=new BB.gmap.richmarker(e,this);this.set_place("markers",t,i);break;case"line":this.set_place("lines",t,new BB.gmap.line(e,this));break;case"polygon":this.set_place("polygons",t,new BB.gmap.polygon(e,this))}return this},BB.gmap.controller.prototype.get_places=function(){return this.__PLACES},BB.gmap.controller.prototype.get_places_by_type=function(t){return this.__PLACES[t]},BB.gmap.controller.prototype.add_place_by_address=function(e,t,i){var n=this;this.geocode_address(t,function(t){i.coords=t,n.add_place(e,i)})},BB.gmap.controller.prototype.geocode_address=function(t,s){var o=Array();if("undefined"==typeof google)return error;(new google.maps.Geocoder).geocode({address:t},function(t,e){if(e==google.maps.GeocoderStatus.OK){var i=t[0].geometry.location.lat(),n=t[0].geometry.location.lng();"function"==typeof s&&s([i,n])}return o})},BB.gmap.controller.prototype.get_place=function(t){var e=this.get_places(),i=!1;for(var n in e){var s=this.get_places_by_type(n);this.is_empty_object(s)||(i="object"==typeof s[t]?s[t]:i)}return i||(this.error("Invalid ident at BB.gmap.controller.get_place( ident ) : "+t),!1)},BB.gmap.controller.prototype.remove_focus=function(){var t=this.focused();return t&&("function"==typeof this.data("onblur")&&this.data("onblur")(t,this),t.blur(),this.__FOCUSED_ITEM=void 0),this},BB.gmap.controller.prototype.set_focus=function(t){return this.remove_focus(),this.__FOCUSED_ITEM=t,"function"==typeof this.data("onfocus")&&this.data("onfocus")(t,this),this},BB.gmap.controller.prototype.focused=function(){return this.__FOCUSED_ITEM},BB.gmap.controller.prototype.translate_coords=function(t){if("object"==typeof t&&2==t.length)return new google.maps.LatLng(t[0],t[1])},BB.gmap.controller.prototype.listeners=function(){var e=this;return google.maps.event.clearListeners(this.map(),"click"),google.maps.event.addListener(this.map(),"click",function(t){e.map_click(t)}),google.maps.event.addListenerOnce(this.map(),"tilesloaded",function(t){e.set_data({tiles_loaded:!0}),e.check_loaded_places()&&e._ready()}),google.maps.event.addDomListener(document,"keyup",function(t){switch(t.keyCode?t.keyCode:t.which){case 46:e.focused()&&e.focused().data("editable")&&(e.focused().delete(),e.remove_focus());break;case 27:e.focused()&&e.remove_focus()}}),this},BB.gmap.controller.prototype.create_new=function(t,e){var i=this;e||(e="new_object");var n=this.data("default_styles");switch(n||(n={strokeColor:"#000000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:.35,hover:{strokeColor:"#000000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FFFFFF",fillOpacity:1},focused:{fillOpacity:1}}),t){case"polygon":var s={type:"polygon",editable:!0,styles:n},o=new BB.gmap.polygon(s,i);i.set_place("polygons",e,o),i.set_focus(o);break;case"line":s={type:"line",editable:!0,styles:n};var r=new BB.gmap.line(s,i);i.set_place("lines",e,r),i.set_focus(r);break;default:this.set_data({marker_creation:e})}},BB.gmap.controller.prototype.on=function(t,e){var i={};i["on"+t]=e,this.set_data(i)},BB.gmap.controller.prototype.map_click=function(t){this.data("marker_creation")&&(this.add_place(this.data("marker_creation"),{coords:[t.latLng.lat(),t.latLng.lng()],draggable:!0,editable:!0,type:"marker"}),this.set_focus(this.get_place(this.data("marker_creation"))),"function"==typeof this.data("marker_creation_callback")&&this.data("marker_creation_callback")(this.get_place(this.data("marker_creation"))),this.set_data({marker_creation:!1}));var e=this.focused();return e&&(e.data("editable")?e.map_click(t):this.remove_focus()),this},BB.gmap.controller.prototype._loop_all=function(t){if("function"!=typeof t)return this;var e=this.get_places();for(var i in e){var n=this.get_places_by_type(i);if(!this.is_empty_object(n))for(var s in n)t(n[s])}return this},BB.gmap.controller.prototype.filter=function(s){this._loop_all(function(t){if(!s)return t.show(),!1;var e=t.data("categories");if(!e)return t.hide(),!1;"string"==typeof e&&(e=e.split(",")),e||t.hide();var i=!1;for(var n in e)s==e[n]&&(i=!0);i?t.show():t.hide()})},BB.gmap.controller.prototype.fit_bounds=function(){var o=new google.maps.LatLngBounds,r=0;if(this._loop_all(function(t){var e,i=t.get_position();if(!i)return!1;if(i instanceof google.maps.LatLng)o.extend(i);else for(var n=0;n<i.getLength();n++){e=i.getAt(n);for(var s=0;s<e.getLength();s++)o.extend(e.getAt(s))}r++}),0<r&&(this.map().fitBounds(o),this.data("max_fitbounds_zoom"))){var t=this.data("max_fitbounds_zoom");this.map().getZoom()>t&&this.map().setZoom(t)}return this},BB.gmap.controller.prototype.get_all_markers=function(){var t=this.get_places_by_type("markers"),e=[];for(var i in t)e.push(t[i].object());return e},BB.gmap.controller.prototype.activate_clusterer=function(t){this.clusterer()&&this.clusterer().clearMarkers();var e=this.get_all_markers(),i=this.data("clusterer_options")||{};return this.set_clusterer(new MarkerClusterer(this.map(),e,i)),this},BB.gmap.controller.prototype.set_clusterer=function(t){this.__CLUSTERER=t},BB.gmap.controller.prototype.clusterer=function(){return this.__CLUSTERER},BB.gmap.controller.prototype._delete=function(t,e){switch(t){case"marker":if(void 0===this.__PLACES.markers[e])return!1;delete this.__PLACES.markers[e];break;case"line":if(void 0===this.__PLACES.lines[e])return!1;delete this.__PLACES.lines[e];break;case"polygon":if(void 0===this.__PLACES.polygons[e])return!1;delete this.__PLACES.polygons[e]}},BB.gmap.controller.prototype.export=function(){var e=this.data();void 0!==e.places&&delete e.places,void 0!==e.center&&delete e.center;var t=this.map().getCenter();return e.map.center.x=t.lat(),e.map.center.y=t.lng(),e.map.zoom=this.map().getZoom(),e.places={},this._loop_all(function(t){e.places[t.ident()]=t.export()}),e},BB.gmap.controller.prototype.get_map_image=function(){var t=this.data();void 0!==t.places&&delete t.places,void 0!==t.center&&delete t.center;var e=this.map().getCenter(),i="https://maps.googleapis.com/maps/api/staticmap?",d=[];return d.push("center="+e.lat()+","+e.lng()),d.push("zoom="+this.map().getZoom()),d.push("size=640x400"),this._loop_all(function(t){if("marker"==t.data("type")){if(!t.data("icon").src)return!1;var e=new Image;e.src=t.data("icon").src;var i=t.data("icon").width+"x"+t.data("icon").height,n=t.data("coords"),s="markers=size:"+i+"|icon:"+e.src+"|"+n[0]+","+n[1];d.push(s)}if("polygon"==t.data("type")){var o=t.data("paths");if(!o)return!1;var r=[],a=t.data("styles"),l=(a.strokeColor,a.strokeWeight);a.fillColor,r.push("color:black"),r.push("weight:"+l),r.push("fillcolor:white");for(var h=0,c=o.length;h<c;h++)r.push(o[h].join(","));r.push(o[0].join(",")),d.push("path="+r.join("|"))}}),i+d.join("&")},BB.gmap.controller.prototype.reset=function(){return this._loop_all(function(t){t.hide(),t.delete()}),this.set_data({places:void 0}),this.remove_focus(),this},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.statics=BB.gmap.statics||{},BB.gmap.infobox=function(t,e,i){BB.gmap.statics,this.__MAP=void 0,this.__MARKER=i,this.infoboxContent=t,this.__ELEM=void 0,google.maps.OverlayView.call(this),e.offsetY=e.offsetY||0,e.offsetX=e.offsetX||0,e.multiple=e.multiple||!1,this.opts=e,void 0===this.opts.placement&&(this.opts.placement="top center"),this.__MAP=e.map;var n=this;this._bounds_changed_listener=google.maps.event.addListener(this.__MAP,"bounds_changed",function(){return n.panMap.apply(n)}),this.opts.multiple||(this._infobox_open_listener=google.maps.event.addListener(this.__MAP,"infobox_opened",function(t){t.elem!=n&&n.setMap(null)})),this.set_map(e.map)},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.object=function(t,e){return this.__OBJECT=void 0,this.__CONTROLLER=e,this.__DELETED=!1,this.set_data(t),this.init(),this.controller().loading_place(this.ident()),this},BB.gmap.object.prototype=new BB.base,BB.gmap.object.prototype.set_object=function(t){return this.__OBJECT=t,this},BB.gmap.object.prototype.object=function(){return this.__OBJECT},BB.gmap.object.prototype.controller=function(){return this.__CONTROLLER},BB.gmap.object.prototype.set_controller=function(t){return this.__CONTROLLER=t,this},BB.gmap.object.prototype.set_map=function(t){return this.object().setMap(t),this},BB.gmap.object.prototype.map_click=function(t){return this},BB.gmap.object.prototype.show=function(){var t=this.object();return void 0===t?this.error("No object defined at BB.gmap.object.show()"):t.setMap(this.controller().map()),this},BB.gmap.object.prototype.hide=function(){var t=this.object();return void 0===t?this.error("No object defined at BB.gmap.object.hide()"):t.setMap(null),this},BB.gmap.object.prototype.delete=function(){this.__DELETED=!0;var t=this.object();if(void 0===t)return this.error("No object defined at BB.gmap.object.delete()"),this;this.clear_listeners(),t.setMap(null);var e=this.data();return"function"==typeof e.ondelete&&e.ondelete(this),this.controller()._delete(this.data("type"),this.ident()),delete t,this},BB.gmap.object.prototype.init=function(){return this},BB.gmap.object.prototype.display=function(){return this},BB.gmap.object.prototype.focus=function(){return this},BB.gmap.object.prototype.blur=function(){return this},BB.gmap.object.prototype.get_bounds=function(){return this},BB.gmap.object.prototype.get_position=function(){return this},BB.gmap.object.prototype.clear_listeners=function(){return this},BB.gmap.object.prototype.export=function(){return this.data()},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.statics=BB.gmap.statics||{},BB.gmap.marker=function(t,e){return BB.gmap.object.call(this,t,e),this.__MEDIA=void 0,this.__ICON=void 0,this._image_loaded=!1,this._marker_loaded=!1,this.__INFOBOX=void 0,this._listeners=!1,this},BB.gmap.marker.prototype=Object.create(BB.gmap.object.prototype),BB.gmap.marker.prototype.init=function(){var t=this.data();return"string"==typeof t.icon?this.set_image(t.icon):"object"==typeof t.icon?this.set_icon(t.icon):this.display(),this},BB.gmap.marker.prototype.icon=function(){return this.__ICON?this.__ICON:new Image},BB.gmap.marker.prototype.set_icon=function(t){return"object"!=typeof t?this.error("Invalid icon at BB.gmap.marker.prototype.set_icon( "+t+" )"):t instanceof Image||void 0!==t.path?(this.__ICON=t,this.display()):(t.width&&t.height&&(e={width:t.width,height:t.height}),this.set_image(t.src,e)),this;var e},BB.gmap.marker.prototype.set_image=function(t,e){var i=new Image;return i.data=this,i.onload=function(){this.data.set_icon(this)},i.onerror=function(){this.data.set_data({icon:void 0}),this.data.display()},i.src=t,e&&(i.height=e.height,i.width=e.width),this},BB.gmap.marker.prototype.display=function(){var t=this.data();if("object"!=typeof t.coords)return this.error("Requires coordinates [lat, lng] at BB.gmap.marker.display()"),!1;var e={map:this.controller().map(),position:new google.maps.LatLng(t.coords[0],t.coords[1])};e=this.extend(e,t);var i=this.icon();if(!(i instanceof Image)&&"string"==typeof i.path){var n=0,s=0;"string"==typeof i.height&&(n=parseInt(i.height)),"string"==typeof i.width&&(s=parseInt(i.width)),i.anchor=new google.maps.Point(s/2,n),e.icon=i}var o="object"==typeof t.options?t.options:{};for(var r in o)e[r]=o[r];if(this.icon().src){s=parseFloat(this.icon().width),n=parseFloat(this.icon().height);e.icon=new google.maps.MarkerImage(this.icon().src,new google.maps.Size(s,n),new google.maps.Point(0,0),new google.maps.Point(s/2,n),new google.maps.Size(s,n))}if(void 0!==this.object())this.object().setOptions(e);else{var a=new google.maps.Marker(e);this.set_marker(a)}return this._listeners||(this.listeners(),this._listeners=!0,this.marker_loaded()),this.data("hidden")&&this.hide(),this},BB.gmap.marker.prototype.marker_loaded=function(){var t=this.data();return"function"==typeof t.loaded_callback&&t.loaded_callback(this),this.controller().data("use_clusterer")&&(this.controller().data("clusterer_options"),this.controller().activate_clusterer({gridSize:10,maxZoom:15})),this.controller().place_loaded(this),this},BB.gmap.marker.prototype.set_marker=function(t){return this._marker_loaded?this.error("There is already a marker affected to this instanciation of a [BB.gmap.marker] ( "+this.ident()+" )"):(this._marker_loaded=!0,this.set_object(t)),this},BB.gmap.marker.prototype.listeners=function(){var t=this.object();(t.bbmarker=this).data("draggable")&&google.maps.event.addListener(t,"dragend",this.dragend),google.maps.event.addListener(t,"click",this.onclick)},BB.gmap.marker.prototype.clear_listeners=function(){var t=this.object();return google.maps.event.clearListeners(t,"dragend"),google.maps.event.clearListeners(t,"click"),this},BB.gmap.marker.prototype.dragend=function(t){var e=this.bbmarker,i=e.data();"function"==typeof i.ondragend&&i.ondragend(e,t),e.set_data({coords:[t.latLng.lat(),t.latLng.lng()]}),e.focus()},BB.gmap.marker.prototype.onclick=function(t){var e=this.bbmarker,i=e.data();if("function"==typeof i.onclick?i.onclick(t,e):"string"==typeof i.onclick&&"function"==typeof window[i.onclick]&&window[i.onclick](e,t),i.infobox){if(e.__INFOBOX)return e.__INFOBOX.map?e.__INFOBOX.set_map(null):(e.__INFOBOX.set_position(e.object().getPosition()),e.__INFOBOX.set_map(e.controller().map())),e.focus(),this;BB.gmap.statics.infobox_loaded||(init_infoBox(),BB.gmap.statics.infobox_loaded=!0);var n={};i.infobox_options&&(n=i.infobox_options),n.offsetY||(n.offsetY=e.icon().height),n.offsetX||(n.offsetX=e.icon().width/2),n.map=e.controller().map(),n.position=e.get_position(),e.__INFOBOX=new BB.gmap.infobox(i.infobox,n,e)}e.focus()},BB.gmap.marker.prototype.focus=function(){this.controller().set_focus(this);var t=this.data();t.icon_selected&&("object"==typeof t.icon_selected?this.set_icon(t.icon_selected):this.set_image(t.icon_selected))},BB.gmap.marker.prototype.blur=function(){if(!this.controller().get_place(this.ident()))return!1;var t=this.data();t.icon_selected&&("object"==typeof t.icon?this.set_icon(t.icon):this.set_image(t.icon))},BB.gmap.marker.prototype.get_bounds=function(){var t=new google.maps.LatLngBounds;return t.extend(this.object().getPosition()),t},BB.gmap.marker.prototype.get_position=function(){if(this.object())return this.object().getPosition()},BB.gmap.marker.prototype.set_position=function(t){if(!t)return this;if("string"==typeof t&&(t=t.split(",")),!(t instanceof google.maps.LatLng)){if(void 0===t[0]||void 0===t[1])return this;t=new google.maps.LatLng(t[0],t[1])}return this.object().setPosition(t),this.set_data({coords:[t.lat(),t.lng()]}),this.__INFOBOX&&this.__INFOBOX.set_position(t),this},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.statics=BB.gmap.statics||{},BB.gmap.richmarker=function(t,e){return BB.gmap.marker.call(this,t,e),this._listeners=!1,this},BB.gmap.richmarker.prototype=Object.create(BB.gmap.marker.prototype),BB.gmap.richmarker.prototype.init=function(){var t=this.data();return this.set_content(t.content),this.display(),this},BB.gmap.richmarker.prototype.set_content=function(t){return this._content=t,this},BB.gmap.richmarker.prototype.content=function(){return this._content},BB.gmap.richmarker.prototype.display=function(){var t=this.data();if("object"!=typeof t.coords)return this.error("Requires coordinates [lat, lng] at BB.gmap.richmarker.display()"),!1;var e={map:this.controller().map(),position:new google.maps.LatLng(t.coords[0],t.coords[1])};if("function"==typeof(e=this.extend(e,t)).html&&(e.html=e.html(t)),"function"==typeof e.selected_html&&(e.selected_html=e.selected_html(t)),void 0!==this.object())this.object().setOptions(e);else{var i=customMarker(e);this.set_marker(i)}return this._listeners||(this.listeners(),this._listeners=!0,this.controller().place_loaded(this)),this.data("hidden")&&this.hide(),this},BB.gmap.richmarker.prototype.listeners=function(){var t=this.object();(t.bbmarker=this).data("draggable")&&google.maps.event.addListener(t,"dragend",this.dragend),google.maps.event.addListener(t,"click",this.onclick)},BB.gmap.richmarker.prototype.clear_listeners=function(){var t=this.object();return google.maps.event.clearListeners(t,"dragend"),google.maps.event.clearListeners(t,"click"),this},BB.gmap.richmarker.prototype.focus=function(){if(this.controller().focused()&&this.controller().focused().ident()==this.ident())return this;this.controller().set_focus(this),this.object().setHtml(this.data("selected_html"))},BB.gmap.richmarker.prototype.blur=function(){if(!this.controller().get_place(this.ident()))return!1;this.object().setHtml(this.data("html"))},BB.gmap.richmarker.prototype.icon=function(){return{height:this.object().div.offsetHeight,width:this.object().div.offsetWidth}},customMarker=function(t){return"function"!=typeof BB.gmap.customMarker&&(BB.gmap.customMarker=function(t){this.MAP=t.map,void 0!==t.map&&this.setMap(this.MAP),void 0!==t.position&&(this.latlng=t.position),void 0!==t.html&&(this.html=t.html)},BB.gmap.customMarker.prototype=new google.maps.OverlayView,BB.gmap.customMarker.prototype.draw=function(){this.setHtml(this.html)},BB.gmap.customMarker.prototype.setHtml=function(t){var e=this,i=this.div;i||((i=document.createElement("div")).style.position="absolute",i.style.cursor="pointer",google.maps.event.addDomListener(i,"click",function(t){t.stopPropagation(),t.preventDefault(),google.maps.event.trigger(e,"click")}),this.getPanes().overlayImage.appendChild(i)),i.innerHTML=this.html;var n=this.getProjection().fromLatLngToDivPixel(this.latlng);if(n){var s=i.offsetHeight,o=i.offsetWidth;i.style.left=n.x-o/2+"px",i.style.top=n.y-s+"px"}this.div=i},BB.gmap.customMarker.prototype.remove=function(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)},BB.gmap.customMarker.prototype.setPosition=function(t){this.latlng=t,this.draw()},BB.gmap.customMarker.prototype.getPosition=function(){return this.latlng}),new BB.gmap.customMarker(t)},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.line=function(t,e){return this.__STYLES=void 0,this.__PATHS=void 0,this.__MARKERS=[],BB.gmap.object.call(this,t,e),this},BB.gmap.line.prototype=Object.create(BB.gmap.object.prototype),BB.gmap.line.prototype.init=function(){var t=this.data();if("object"!=typeof t.styles&&this.set_data({styles:this.controller().data("default_styles")}),this.add_styles(t.styles),this.set_paths([]),"object"==typeof t.paths)for(var e=0,i=t.paths.length;e<i;e++)this.add_point(t.paths[e]);return this.get_paths()&&this.get_styles()&&this.display(),t.editable&&this.set_editable(t.editable),this.listeners(),this.controller().place_loaded(this),this},BB.gmap.line.prototype.redraw=function(){for(var t=this.get_paths(),e=0,i=t.length,n=[];e<i;e++)n.push([t.getAt(e).lat(),t.getAt(e).lng()]);this.set_data({paths:n})},BB.gmap.line.prototype.add_styles=function(t){this.__STYLES=t},BB.gmap.line.prototype.set_styles=function(t){return this.add_styles(t),this.display(),this},BB.gmap.line.prototype.get_styles=function(){return this.__STYLES},BB.gmap.line.prototype.set_paths=function(t){if("object"==typeof t){if(!(t[0]instanceof google.maps.LatLng)){for(var e=0,i=t.length,n=new google.maps.MVCArray;e<i&&"object"==typeof t[e];e++){var s=this.controller().translate_coords(t[e]);n.insertAt(n.length,s)}t=n}this.__PATHS=t}else this.error("Invalid paths at BB.gmap.line.set_paths :"+t)},BB.gmap.line.prototype.get_paths=function(){return this.__PATHS},BB.gmap.line.prototype.display=function(){this.data();var t=this.get_styles();void 0===t&&this.error("Undefined styles at BB.gmap.line.display : "+t);var e=this.get_paths();if(void 0===e&&this.error("Undefined paths at BB.gmap.line.display : "+e),t.path=e,void 0!==this.object())this.object().setOptions(t);else{var i=new google.maps.Polyline(t);this.set_object(i)}return this.set_map(this.controller().map()),this.update_coords(),this},BB.gmap.line.prototype.refresh=function(){var t=this.data("_opts");this.object().setOptions(t)},BB.gmap.line.prototype.add_point=function(t,e){if("object"!=typeof t)return!1;if(t instanceof google.maps.LatLng||(t=this.controller().translate_coords(t)),!(t instanceof google.maps.LatLng||void 0!==t[0]&&void 0!==t[1]))return!1;var i=this,n=this.get_paths();if(void 0===n&&this.set_paths([[t.lat(),t.lng()]]),n=this.get_paths(),"number"!=typeof e&&(e=n.length),n.insertAt(e,t),this.data("editable")){var s=new BB.gmap.marker({coords:[t.lat(),t.lng()],draggable:!0,icon:{path:google.maps.SymbolPath.CIRCLE,scale:4},editable:!0,ondragend:function(t,e){i.move_point(t.object().index,[e.latLng.lat(),e.latLng.lng()])},ondelete:function(t){i.remove_point(t.object().index),i.focus(),i.get_paths().length||i.delete()},index:e},i.controller());this.__MARKERS||(this.__MARKERS=[]),this.__MARKERS[e]=s}return this},BB.gmap.line.prototype.move_point=function(t,e){var i=this.get_paths();return"object"!=typeof i?(this.error("You can not move a point when no path is given at BB.gmap.line.move_point( index, path )"),!1):e?(e instanceof google.maps.LatLng||(e=this.controller().translate_coords(e)),(e instanceof google.maps.LatLng||void 0!==e[0]&&void 0!==e[1])&&(i.setAt(t,e),this.update_coords(),this)):(this.error("Required arguments index:integer and path:object at BB.gmap.line.move_point( index, path )"),!1)},BB.gmap.line.prototype.remove_point=function(t){var e=this.get_paths();if("object"!=typeof e)return this.error("You can not move a point when no path is given at BB.gmap.line.remove_point( index, path )"),!1;e.removeAt(t),void 0!==this.__MARKERS[t]&&(this.__MARKERS[t].hide(),this.__MARKERS.splice(t,1));var i=this.__MARKERS;for(var n in i)i[n].object().index=parseInt(n);return this.redraw(),this.update_coords(),this},BB.gmap.line.prototype.set_editable=function(t){return t?(this.set_data({editable:!0}),this.show_markers(),this.focus()):(this.set_data({editable:!1}),this.hide_markers()),this},BB.gmap.line.prototype.show_markers=function(){for(var t=0;t<this.__MARKERS.length;t++)this.__MARKERS[t].show();return this},BB.gmap.line.prototype.hide_markers=function(){this.controller().focused();for(var t=0;t<this.__MARKERS.length;t++)this.__MARKERS[t].hide();return this},BB.gmap.line.prototype.map_click=function(t){this.add_point(t.latLng)},BB.gmap.line.prototype.set_draggable=function(t){var e=this.get_styles();return e.draggable=!!t,this.set_styles(e),this},BB.gmap.line.prototype.listeners=function(){(this.object().bbobject=this).clear_listeners(),google.maps.event.addListener(this.object(),"mouseover",this.mouse_over),google.maps.event.addListener(this.object(),"mouseout",this.mouse_out),google.maps.event.addListener(this.object(),"click",this.click)},BB.gmap.line.prototype.clear_listeners=function(){return google.maps.event.clearListeners(this.object(),"mouseover"),google.maps.event.clearListeners(this.object(),"mouseout"),google.maps.event.clearListeners(this.object(),"click"),this},BB.gmap.line.prototype.mouse_over=function(t){var e=this.bbobject,i=e.data();"function"==typeof i.onmouseover&&i.onmouseover(e,t);var n=e.get_styles();"object"==typeof n.hover&&e.set_styles(n.hover)},BB.gmap.line.prototype.mouse_out=function(t){var e=this.bbobject,i=e.data();if("function"==typeof i.onmouseout&&i.onmouseout(e,t),e.controller().focused()==e)return!1;e.get_data("styles"),e.set_styles(e.get_data("styles"))},BB.gmap.line.prototype.mouse_down=function(t){this.bbobject},BB.gmap.line.prototype.mouse_up=function(t){this.bbobject},BB.gmap.line.prototype.click=function(t){var e=this.bbobject,i=e.data();e.focus(),"function"==typeof i.onclick?i.onclick(e,t):"string"==typeof i.onclick&&"function"==typeof window[i.onclick]&&window[i.onclick](e,t)},BB.gmap.line.prototype.focus=function(){if(this.__DELETED)return!1;this.controller().set_focus(this);var t=this.get_data("styles");return"object"==typeof t.focused&&this.set_styles(t.focused),this.data("editable")&&this.show_markers(),this},BB.gmap.line.prototype.blur=function(){return!this.__DELETED&&(this.set_styles(this.get_data("styles")),this)},BB.gmap.line.prototype.get_bounds=function(){for(var t,e=new google.maps.LatLngBounds,i=this.object().getPaths(),n=0;n<i.getLength();n++){t=i.getAt(n);for(var s=0;s<t.getLength();s++)e.extend(t.getAt(s))}return e},BB.gmap.line.prototype.get_position=function(){var t=new google.maps.MVCArray;return t.push(this.object().getPath()),t},BB.gmap.line.prototype.update_coords=function(){var e=[];return this.get_paths().forEach(function(t){e.push([t.lat(),t.lng()])}),this.set_data({paths:e}),this},BB.gmap.line.prototype.export=function(){this.update_coords();var t=this.data();return void 0!==t.styles.path&&delete t.styles.path,this.data()},BB.gmap.line.prototype.delete=function(){var t=0,e=this.__MARKERS.length;if(e)for(;t<e;t++)this.remove_point(t);this.hide_markers(),BB.gmap.object.prototype.delete.call(this)},(BB=BB||{}).gmap=BB.gmap||{},BB.gmap.polygon=function(t,e){return BB.gmap.line.call(this,t,e),this},BB.gmap.polygon.prototype=Object.create(BB.gmap.line.prototype),BB.gmap.polygon.prototype.display=function(){this.data();var t=this.get_styles();void 0===t&&this.error("Undefined styles at BB.gmap.polygon.display : "+t);var e=this.get_paths();if(void 0===e&&this.error("Undefined paths at BB.gmap.polygon.display : "+e),void 0!==this.object())this.object().setOptions(t);else{var i=new google.maps.Polygon(t);this.set_object(i)}return this.object().setPaths(new google.maps.MVCArray([e])),this.set_map(this.controller().map()),this.listeners(),this},BB.gmap.polygon.prototype.get_position=function(){return this.object().getPaths()},function(){function t(e){return function(t){this[e]=t}}function e(t){return function(){return this[t]}}function s(t,e,i){this.extend(s,google.maps.OverlayView),this.c=t,this.a=[],this.f=[],this.ca=[53,56,66,78,90],this.j=[],this.A=!1,i=i||{},this.g=i.gridSize||60,this.l=i.minimumClusterSize||2,this.J=i.maxZoom||f,this.j=i.styles||[],this.X=i.imagePath||this.Q,this.W=i.imageExtension||this.P,this.O=!0,null!=i.zoomOnClick&&(this.O=i.zoomOnClick),this.r=!1,null!=i.averageCenter&&(this.r=i.averageCenter),function(t){if(!t.j.length)for(var e,i=0;e=t.ca[i];i++)t.j.push({url:t.X+(i+1)+"."+t.W,height:e,width:e})}(this),this.setMap(t),this.K=this.c.getZoom();var n=this;google.maps.event.addListener(this.c,"zoom_changed",function(){var t=n.c.getZoom();n.K!=t&&(n.K=t,n.m())}),google.maps.event.addListener(this.c,"idle",function(){n.i()}),e&&e.length&&this.C(e,!1)}function o(t,e){e.s=!1,e.draggable&&google.maps.event.addListener(e,"dragend",function(){e.s=!1,t.L()}),t.a.push(e)}function r(t,e){var i=-1;if(t.a.indexOf)i=t.a.indexOf(e);else for(var n,s=0;n=t.a[s];s++)if(n==e){i=s;break}return-1!=i&&(e.setMap(f),t.a.splice(i,1),!0)}function i(t){if(t.A)for(var e,i=t.v(new google.maps.LatLngBounds(t.c.getBounds().getSouthWest(),t.c.getBounds().getNorthEast())),n=0;e=t.a[n];n++)if(!e.s&&i.contains(e.getPosition())){for(var s=t,o=4e4,r=f,a=0,l=void 0;l=s.f[a];a++)if(p=l.getCenter()){var h=e.getPosition();if(p&&h){var c=(h.lat()-p.lat())*Math.PI/180,d=(h.lng()-p.lng())*Math.PI/180,p=Math.sin(c/2)*Math.sin(c/2)+Math.cos(p.lat()*Math.PI/180)*Math.cos(h.lat()*Math.PI/180)*Math.sin(d/2)*Math.sin(d/2);p=12742*Math.atan2(Math.sqrt(p),Math.sqrt(1-p))}else p=0;p<o&&(o=p,r=l)}r&&r.F.contains(e.getPosition())?r.q(e):((l=new u(s)).q(e),s.f.push(l))}}function u(t){this.k=t,this.c=t.getMap(),this.g=t.w(),this.l=t.l,this.r=t.r,this.d=f,this.a=[],this.F=f,this.n=new a(this,t.z(),t.w())}function n(t){t.F=t.k.v(new google.maps.LatLngBounds(t.d,t.d))}function a(t,e,i){t.k.extend(a,google.maps.OverlayView),this.j=e,this.fa=i||0,this.u=t,this.d=f,this.c=t.getMap(),this.B=this.b=f,this.t=!1,this.setMap(this.c)}function l(t,e){var i=t.getProjection().fromLatLngToDivPixel(e);return i.x-=parseInt(t.p/2,10),i.y-=parseInt(t.h/2,10),i}function h(t){t.b&&(t.b.style.display="none"),t.t=!1}function c(t,e){var i=[];return i.push("background-image:url("+t.da+");"),i.push("background-position:"+(t.D?t.D:"0 0")+";"),"object"==typeof t.e?("number"==typeof t.e[0]&&0<t.e[0]&&t.e[0]<t.h?i.push("height:"+(t.h-t.e[0])+"px; padding-top:"+t.e[0]+"px;"):i.push("height:"+t.h+"px; line-height:"+t.h+"px;"),"number"==typeof t.e[1]&&0<t.e[1]&&t.e[1]<t.p?i.push("width:"+(t.p-t.e[1])+"px; padding-left:"+t.e[1]+"px;"):i.push("width:"+t.p+"px; text-align:center;")):i.push("height:"+t.h+"px; line-height:"+t.h+"px; width:"+t.p+"px; text-align:center;"),i.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+(t.M?t.M:"black")+"; position:absolute; font-size:"+(t.N?t.N:11)+"px; font-family:Arial,sans-serif; font-weight:bold"),i.join("")}var d,f=null;(d=s.prototype).Q="https://raw.githubusercontent.com/googlemaps/js-marker-clusterer/gh-pages/images/m",d.P="png",d.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},d.onAdd=function(){this.A||(this.A=!0,i(this))},d.draw=function(){},d.S=function(){for(var t,e=this.o(),i=new google.maps.LatLngBounds,n=0;t=e[n];n++)i.extend(t.getPosition());this.c.fitBounds(i)},d.z=e("j"),d.o=e("a"),d.V=function(){return this.a.length},d.ba=t("J"),d.I=e("J"),d.G=function(t,e){for(var i=0,n=t.length,s=n;0!==s;)s=parseInt(s/10,10),i++;return{text:n,index:i=Math.min(i,e)}},d.$=t("G"),d.H=e("G"),d.C=function(t,e){for(var i,n=0;i=t[n];n++)o(this,i);e||this.i()},d.q=function(t,e){o(this,t),e||this.i()},d.Y=function(t,e){var i=r(this,t);return!(e||!i||(this.m(),this.i(),0))},d.Z=function(t,e){for(var i,n=!1,s=0;i=t[s];s++)i=r(this,i),n=n||i;if(!e&&n)return this.m(),this.i(),!0},d.U=function(){return this.f.length},d.getMap=e("c"),d.setMap=t("c"),d.w=e("g"),d.aa=t("g"),d.v=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),n=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng());return(i=e.fromLatLngToDivPixel(i)).x+=this.g,i.y-=this.g,(n=e.fromLatLngToDivPixel(n)).x-=this.g,n.y+=this.g,i=e.fromDivPixelToLatLng(i),e=e.fromDivPixelToLatLng(n),t.extend(i),t.extend(e),t},d.R=function(){this.m(!0),this.a=[]},d.m=function(t){for(var e,i=0;e=this.f[i];i++)e.remove();for(i=0;e=this.a[i];i++)e.s=!1,t&&e.setMap(f);this.f=[]},d.L=function(){var i=this.f.slice();this.f.length=0,this.m(),this.i(),window.setTimeout(function(){for(var t,e=0;t=i[e];e++)t.remove()},0)},d.i=function(){i(this)},(d=u.prototype).q=function(t){var e;t:if(this.a.indexOf)e=-1!=this.a.indexOf(t);else{e=0;for(var i;i=this.a[e];e++)if(i==t){e=!0;break t}e=!1}if(e)return!1;if(this.d?this.r&&(i=this.a.length+1,e=(this.d.lat()*(i-1)+t.getPosition().lat())/i,i=(this.d.lng()*(i-1)+t.getPosition().lng())/i,this.d=new google.maps.LatLng(e,i),n(this)):(this.d=t.getPosition(),n(this)),t.s=!0,this.a.push(t),(e=this.a.length)<this.l&&t.getMap()!=this.c&&t.setMap(this.c),e==this.l)for(i=0;i<e;i++)this.a[i].setMap(f);if(e>=this.l&&t.setMap(f),t=this.c.getZoom(),(e=this.k.I())&&e<t)for(t=0;e=this.a[t];t++)e.setMap(this.c);else this.a.length<this.l?h(this.n):(e=this.k.H()(this.a,this.k.z().length),this.n.setCenter(this.d),(t=this.n).B=e,t.ga=e.text,t.ea=e.index,t.b&&(t.b.innerHTML=e.text),e=Math.max(0,t.B.index-1),e=Math.min(t.j.length-1,e),e=t.j[e],t.da=e.url,t.h=e.height,t.p=e.width,t.M=e.textColor,t.e=e.anchor,t.N=e.textSize,t.D=e.backgroundPosition,this.n.show());return!0},d.getBounds=function(){for(var t,e=new google.maps.LatLngBounds(this.d,this.d),i=this.o(),n=0;t=i[n];n++)e.extend(t.getPosition());return e},d.remove=function(){this.n.remove(),this.a.length=0,delete this.a},d.T=function(){return this.a.length},d.o=e("a"),d.getCenter=e("d"),d.getMap=e("c"),(d=a.prototype).onAdd=function(){this.b=document.createElement("DIV"),this.t&&(this.b.style.cssText=c(this,l(this,this.d)),this.b.innerHTML=this.B.text),this.getPanes().overlayMouseTarget.appendChild(this.b);var e=this;google.maps.event.addDomListener(this.b,"click",function(){var t=e.u.k;google.maps.event.trigger(t,"clusterclick",e.u),t.O&&e.c.fitBounds(e.u.getBounds())})},d.draw=function(){if(this.t){var t=l(this,this.d);this.b.style.top=t.y+"px",this.b.style.left=t.x+"px"}},d.show=function(){this.b&&(this.b.style.cssText=c(this,l(this,this.d)),this.b.style.display=""),this.t=!0},d.remove=function(){this.setMap(f)},d.onRemove=function(){this.b&&this.b.parentNode&&(h(this),this.b.parentNode.removeChild(this.b),this.b=f)},d.setCenter=t("d"),(window.MarkerClusterer=s).prototype.addMarker=s.prototype.q,s.prototype.addMarkers=s.prototype.C,s.prototype.clearMarkers=s.prototype.R,s.prototype.fitMapToMarkers=s.prototype.S,s.prototype.getCalculator=s.prototype.H,s.prototype.getGridSize=s.prototype.w,s.prototype.getExtendedBounds=s.prototype.v,s.prototype.getMap=s.prototype.getMap,s.prototype.getMarkers=s.prototype.o,s.prototype.getMaxZoom=s.prototype.I,s.prototype.getStyles=s.prototype.z,s.prototype.getTotalClusters=s.prototype.U,s.prototype.getTotalMarkers=s.prototype.V,s.prototype.redraw=s.prototype.i,s.prototype.removeMarker=s.prototype.Y,s.prototype.removeMarkers=s.prototype.Z,s.prototype.resetViewport=s.prototype.m,s.prototype.repaint=s.prototype.L,s.prototype.setCalculator=s.prototype.$,s.prototype.setGridSize=s.prototype.aa,s.prototype.setMaxZoom=s.prototype.ba,s.prototype.onAdd=s.prototype.onAdd,s.prototype.draw=s.prototype.draw,u.prototype.getCenter=u.prototype.getCenter,u.prototype.getSize=u.prototype.T,u.prototype.getMarkers=u.prototype.o,a.prototype.onAdd=a.prototype.onAdd,a.prototype.draw=a.prototype.draw,a.prototype.onRemove=a.prototype.onRemove}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(M){"use strict";function h(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function c(t){var e=t.parent(),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(d(),e.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(t.get(0))}))}function d(){M(".minicolors-focus").each(function(){var t=M(this),e=t.find(".minicolors-input"),i=t.find(".minicolors-panel"),n=e.data("minicolors-settings");i.fadeOut(n.hideSpeed,function(){n.hide&&n.hide.call(e.get(0)),t.removeClass("minicolors-focus")})})}function i(t,e,i){var n,s,o,r,a=t.parents(".minicolors").find(".minicolors-input"),l=a.data("minicolors-settings"),h=t.find("[class$=-picker]"),c=t.offset().left,d=t.offset().top,p=Math.round(e.pageX-c),u=Math.round(e.pageY-d),f=i?l.animationSpeed:0;e.originalEvent.changedTouches&&(p=e.originalEvent.changedTouches[0].pageX-c,u=e.originalEvent.changedTouches[0].pageY-d),p<0&&(p=0),u<0&&(u=0),p>t.width()&&(p=t.width()),u>t.height()&&(u=t.height()),t.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(n=75-p,s=75-u,o=Math.sqrt(n*n+s*s),(r=Math.atan2(s,n))<0&&(r+=2*Math.PI),75<o&&(p=(o=75)-75*Math.cos(r),u=75-75*Math.sin(r)),p=Math.round(p),u=Math.round(u)),t.is(".minicolors-grid")?h.stop(!0).animate({top:u+"px",left:p+"px"},f,l.animationEasing,function(){g(a,t)}):h.stop(!0).animate({top:u+"px"},f,l.animationEasing,function(){g(a,t)})}function g(t,e){function i(t,e){var i,n;return t.length&&e?(i=t.offset().left,n=t.offset().top,{x:i-e.offset().left+t.outerWidth()/2,y:n-e.offset().top+t.outerHeight()/2}):null}var n,s,o,r,a,l,h,c=t.val(),d=t.attr("data-opacity"),p=t.parent(),u=t.data("minicolors-settings"),f=p.find(".minicolors-input-swatch"),g=p.find(".minicolors-grid"),m=p.find(".minicolors-slider"),v=p.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),_=v.find("[class$=-picker]"),w=i(y,g),x=i(b,m),C=i(_,v);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(u.control){case"wheel":r=g.width()/2-w.x,a=g.height()/2-w.y,l=Math.sqrt(r*r+a*a),(h=Math.atan2(a,r))<0&&(h+=2*Math.PI),75<l&&(l=75,w.x=69-75*Math.cos(h),w.y=69-75*Math.sin(h)),s=$(l/.75,0,100),c=H({h:n=$(180*h/Math.PI,0,360),s:s,b:o=$(100-Math.floor(x.y*(100/m.height())),0,100)}),m.css("backgroundColor",H({h:n,s:s,b:100}));break;case"saturation":c=H({h:n=$(parseInt(w.x*(360/g.width()),10),0,360),s:s=$(100-Math.floor(x.y*(100/m.height())),0,100),b:o=$(100-Math.floor(w.y*(100/g.height())),0,100)}),m.css("backgroundColor",H({h:n,s:100,b:o})),p.find(".minicolors-grid-inner").css("opacity",s/100);break;case"brightness":c=H({h:n=$(parseInt(w.x*(360/g.width()),10),0,360),s:s=$(100-Math.floor(w.y*(100/g.height())),0,100),b:o=$(100-Math.floor(x.y*(100/m.height())),0,100)}),m.css("backgroundColor",H({h:n,s:s,b:100})),p.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:c=H({h:n=$(360-parseInt(x.y*(360/m.height()),10),0,360),s:s=$(Math.floor(w.x*(100/g.width())),0,100),b:o=$(100-Math.floor(w.y*(100/g.height())),0,100)}),g.css("backgroundColor",H({h:n,s:100,b:100}))}k(t,c,d=u.opacity?parseFloat(1-C.y/v.height()).toFixed(2):1)}else f.find("span").css({backgroundColor:c,opacity:d}),T(t,c,d)}function k(t,e,i){var n,s=t.parent(),o=t.data("minicolors-settings"),r=s.find(".minicolors-input-swatch");o.opacity&&t.attr("data-opacity",i),"rgb"===o.format?(n=I(e)?P(e,!0):z(B(e,!0)),i=""===t.attr("data-opacity")?1:$(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(i)&&o.opacity||(i=1),e=t.minicolors("rgbObject").a<=1&&n&&o.opacity?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(i)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):(I(e)&&(e=L(e)),e=O(e,o.letterCase)),t.val(e),r.find("span").css({backgroundColor:e,opacity:i}),T(t,e,i)}function p(t,e){var i,n,s,o,r,a,l,h,c,d,p,u,f,g,m,v,y=t.parent(),b=t.data("minicolors-settings"),_=y.find(".minicolors-input-swatch"),w=y.find(".minicolors-grid"),x=y.find(".minicolors-slider"),C=y.find(".minicolors-opacity-slider"),k=w.find("[class$=-picker]"),S=x.find("[class$=-picker]"),D=C.find("[class$=-picker]");switch(I(t.val())?(i=L(t.val()),(r=$(parseFloat(A(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",r)):i=O(B(t.val(),!0),b.letterCase),i||(i=O(E(b.defaultValue,!0),b.letterCase)),u=z(i),f={h:0,s:0,b:0},g=Math.min(u.r,u.g,u.b),m=Math.max(u.r,u.g,u.b),v=m-g,f.b=m,f.s=0!==m?255*v/m:0,0!==f.s?u.r===m?f.h=(u.g-u.b)/v:u.g===m?f.h=2+(u.b-u.r)/v:f.h=4+(u.r-u.g)/v:f.h=-1,f.h*=60,f.h<0&&(f.h+=360),f.s*=100/255,f.b*=100/255,0===(p=f).s&&(p.h=360),n=p,o=b.keywords?M.map(b.keywords.split(","),function(t){return M.trim(t.toLowerCase())}):[],a=""!==t.val()&&-1<M.inArray(t.val().toLowerCase(),o)?O(t.val()):I(t.val())?P(t.val()):i,e||t.val(a),b.opacity&&(s=""===t.attr("data-opacity")?1:$(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(s)&&(s=1),t.attr("data-opacity",s),_.find("span").css("opacity",s),h=$(C.height()-C.height()*s,0,C.height()),D.css("top",h+"px")),"transparent"===t.val().toLowerCase()&&_.find("span").css("opacity",0),_.find("span").css("backgroundColor",i),b.control){case"wheel":c=$(Math.ceil(.75*n.s),0,w.height()/2),d=n.h*Math.PI/180,l=$(75-Math.cos(d)*c,0,w.width()),h=$(75-Math.sin(d)*c,0,w.height()),k.css({top:h+"px",left:l+"px"}),h=150-n.b/(100/w.height()),""===i&&(h=0),S.css("top",h+"px"),x.css("backgroundColor",H({h:n.h,s:n.s,b:100}));break;case"saturation":l=$(5*n.h/12,0,150),h=$(w.height()-Math.ceil(n.b/(100/w.height())),0,w.height()),k.css({top:h+"px",left:l+"px"}),h=$(x.height()-n.s*(x.height()/100),0,x.height()),S.css("top",h+"px"),x.css("backgroundColor",H({h:n.h,s:100,b:n.b})),y.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":l=$(5*n.h/12,0,150),h=$(w.height()-Math.ceil(n.s/(100/w.height())),0,w.height()),k.css({top:h+"px",left:l+"px"}),h=$(x.height()-n.b*(x.height()/100),0,x.height()),S.css("top",h+"px"),x.css("backgroundColor",H({h:n.h,s:n.s,b:100})),y.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:l=$(Math.ceil(n.s/(100/w.width())),0,w.width()),h=$(w.height()-Math.ceil(n.b/(100/w.height())),0,w.height()),k.css({top:h+"px",left:l+"px"}),h=$(x.height()-n.h/(360/x.height()),0,x.height()),S.css("top",h+"px"),w.css("backgroundColor",H({h:n.h,s:100,b:100}))}t.data("minicolors-initialized")&&T(t,a,s)}function T(t,e,i){var n,s,o,r=t.data("minicolors-settings"),a=t.data("minicolors-lastChange");if(!a||a.value!==e||a.opacity!==i){if(t.data("minicolors-lastChange",{value:e,opacity:i}),r.swatches&&0!==r.swatches.length){for(n=I(e)?P(e,!0):z(e),s=-1,o=0;o<r.swatches.length;++o)if(n.r===r.swatches[o].r&&n.g===r.swatches[o].g&&n.b===r.swatches[o].b&&n.a===r.swatches[o].a){s=o;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==s&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}r.change&&(r.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(t.get(0),e,i)},r.changeDelay))):r.change.call(t.get(0),e,i)),t.trigger("change").trigger("input")}}function O(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function B(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function P(t,e){var i=t.replace(/[^\d,.]/g,"").split(",");return i[0]=$(parseInt(i[0],10),0,255),i[1]=$(parseInt(i[1],10),0,255),i[2]=$(parseInt(i[2],10),0,255),i[3]&&(i[3]=$(parseFloat(i[3],10),0,1)),e?i[3]?{r:i[0],g:i[1],b:i[2],a:i[3]}:{r:i[0],g:i[1],b:i[2]}:void 0!==i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function E(t,e){return I(t)?P(t):B(t,e)}function $(t,e,i){return t<e&&(t=e),i<t&&(t=i),t}function I(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function A(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function L(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function u(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return M.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),"#"+i.join("")}function H(t){return u(function(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),s=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=s;else{var o=s,r=(255-n)*s/255,a=i%60*(o-r)/60;360===i&&(i=0),i<60?(e.r=o,e.b=r,e.g=r+a):i<120?(e.g=o,e.b=r,e.r=o-a):i<180?(e.g=o,e.r=r,e.b=r+a):i<240?(e.b=o,e.r=r,e.g=o-a):i<300?(e.b=o,e.g=r,e.r=r+a):i<360?(e.r=o,e.g=r,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}(t))}function z(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}M.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},M.extend(M.fn,{minicolors:function(t,e){switch(t){case"destroy":return M(this).each(function(){h(M(this))}),M(this);case"hide":return d(),M(this);case"opacity":return void 0===e?M(this).attr("data-opacity"):(M(this).each(function(){p(M(this).attr("data-opacity",e))}),M(this));case"rgbObject":return r=M(this),l=M(r).attr("data-opacity"),(a=I(M(r).val())?P(M(r).val(),!0):z(B(M(r).val(),!0)))?(void 0!==l&&M.extend(a,{a:parseFloat(l)}),a):null;case"rgbString":case"rgbaString":return i=M(this),n="rgbaString"===t,o=M(i).attr("data-opacity"),(s=I(M(i).val())?P(M(i).val(),!0):z(B(M(i).val(),!0)))?(void 0===o&&(o=1),n?"rgba("+s.r+", "+s.g+", "+s.b+", "+parseFloat(o)+")":"rgb("+s.r+", "+s.g+", "+s.b+")"):null;case"settings":return void 0===e?M(this).data("minicolors-settings"):(M(this).each(function(){var t=M(this).data("minicolors-settings")||{};h(M(this)),M(this).minicolors(M.extend(!0,t,e))}),M(this));case"show":return c(M(this).eq(0)),M(this);case"value":return void 0===e?M(this).val():(M(this).each(function(){"object"==typeof e&&"null"!==e?(e.opacity&&M(this).attr("data-opacity",$(e.opacity,0,1)),e.color&&M(this).val(e.color)):M(this).val(e),p(M(this))}),M(this));default:return"create"!==t&&(e=t),M(this).each(function(){!function(e,t){var i,n,s,o,r,a=M('<div class="minicolors" />'),l=M.minicolors.defaults;if(!e.data("minicolors-initialized")){if(t=M.extend(!0,{},l,t),a.addClass("minicolors-theme-"+t.theme).toggleClass("minicolors-with-opacity",t.opacity),void 0!==t.position&&M.each(t.position.split(" "),function(){a.addClass("minicolors-position-"+this)}),i="rgb"===t.format?t.opacity?"25":"20":t.keywords?"11":"7",e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",t).prop("size",i).wrap(a).after('<div class="minicolors-panel minicolors-slider-'+t.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),t.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()})),(o=e.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),t.swatches&&0!==t.swatches.length)for(o.addClass("minicolors-with-swatches"),n=M('<ul class="minicolors-swatches"></ul>').appendTo(o),r=0;r<t.swatches.length;++r)s=I(s=t.swatches[r])?P(s,!0):z(B(s,!0)),M('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(n).data("swatch-color",t.swatches[r]).find(".minicolors-swatch-color").css({backgroundColor:u(s),opacity:s.a}),t.swatches[r]=s;t.inline&&e.parent().addClass("minicolors-inline"),p(e,!1),e.data("minicolors-initialized",!0)}}(M(this),e)}),M(this)}var i,n,s,o,r,a,l}}),M([document,top.document]).on("mousedown.minicolors touchstart.minicolors",function(t){M(t.target).parents().add(t.target).hasClass("minicolors")||d()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var e=M(this);t.preventDefault(),M(t.delegateTarget).data("minicolors-target",e),i(e,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var e=M(t.delegateTarget).data("minicolors-target");e&&i(e,t)}).on("mouseup.minicolors touchend.minicolors",function(){M(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var e=M(this),i=e.parents(".minicolors").find(".minicolors-input"),n=e.data("swatch-color");k(i,n,A(n)),p(i)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var e=M(this).parent().find(".minicolors-input");t.preventDefault(),c(e)}).on("focus.minicolors",".minicolors-input",function(){var t=M(this);t.data("minicolors-initialized")&&c(t)}).on("blur.minicolors",".minicolors-input",function(){var t,e,i,n,s,o=M(this),r=o.data("minicolors-settings");o.data("minicolors-initialized")&&(t=r.keywords?M.map(r.keywords.split(","),function(t){return M.trim(t.toLowerCase())}):[],""!==o.val()&&-1<M.inArray(o.val().toLowerCase(),t)?s=o.val():(I(o.val())?i=P(o.val(),!0):i=(e=B(o.val(),!0))?z(e):null,s=null===i?r.defaultValue:"rgb"===r.format?P(r.opacity?"rgba("+i.r+","+i.g+","+i.b+","+o.attr("data-opacity")+")":"rgb("+i.r+","+i.g+","+i.b+")"):u(i)),n=r.opacity?o.attr("data-opacity"):1,"transparent"===s.toLowerCase()&&(n=0),o.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",n),o.val(s),""===o.val()&&o.val(E(r.defaultValue,!0)),o.val(O(o.val(),r.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var e=M(this);if(e.data("minicolors-initialized"))switch(t.keyCode){case 9:d();break;case 13:case 27:d(),e.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=M(this);t.data("minicolors-initialized")&&p(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=M(this);t.data("minicolors-initialized")&&setTimeout(function(){p(t,!0)},1)})}),"undefined"==typeof jQuery)throw new Error("multiselect requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<7)throw new Error("multiselect requires jQuery version 1.7 or higher")}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(s){"use strict";var o=function(l){function t(t,e){var i=t.prop("id");this.$left=t,this.$right=l(l(e.right).length?e.right:"#"+i+"_to"),this.actions={$leftAll:l(l(e.leftAll).length?e.leftAll:"#"+i+"_leftAll"),$rightAll:l(l(e.rightAll).length?e.rightAll:"#"+i+"_rightAll"),$leftSelected:l(l(e.leftSelected).length?e.leftSelected:"#"+i+"_leftSelected"),$rightSelected:l(l(e.rightSelected).length?e.rightSelected:"#"+i+"_rightSelected"),$undo:l(l(e.undo).length?e.undo:"#"+i+"_undo"),$redo:l(l(e.redo).length?e.redo:"#"+i+"_redo"),$moveUp:l(l(e.moveUp).length?e.moveUp:"#"+i+"_move_up"),$moveDown:l(l(e.moveDown).length?e.moveDown:"#"+i+"_move_down")},delete e.leftAll,delete e.leftSelected,delete e.right,delete e.rightAll,delete e.rightSelected,delete e.undo,delete e.redo,delete e.moveUp,delete e.moveDown,this.options={keepRenderingSort:e.keepRenderingSort,submitAllLeft:void 0===e.submitAllLeft||e.submitAllLeft,submitAllRight:void 0===e.submitAllRight||e.submitAllRight,search:e.search,ignoreDisabled:void 0!==e.ignoreDisabled&&e.ignoreDisabled,matchOptgroupBy:void 0!==e.matchOptgroupBy?e.matchOptgroupBy:"label"},delete e.keepRenderingSort,e.submitAllLeft,e.submitAllRight,e.search,e.ignoreDisabled,e.matchOptgroupBy,this.callbacks=e,this.init()}return t.prototype={init:function(){var i=this;i.undoStack=[],i.redoStack=[],i.options.keepRenderingSort&&(i.skipInitSort=!0,!1!==i.callbacks.sort&&(i.callbacks.sort=function(t,e){return l(t).data("position")>l(e).data("position")?1:-1}),i.$left.attachIndex(),i.$right.each(function(t,e){l(e).attachIndex()})),"function"==typeof i.callbacks.startUp&&i.callbacks.startUp(i.$left,i.$right),i.skipInitSort||"function"!=typeof i.callbacks.sort||(i.$left.mSort(i.callbacks.sort),i.$right.each(function(t,e){l(e).mSort(i.callbacks.sort)})),i.options.search&&i.options.search.left&&(i.options.search.$left=l(i.options.search.left),i.$left.before(i.options.search.$left)),i.options.search&&i.options.search.right&&(i.options.search.$right=l(i.options.search.right),i.$right.before(l(i.options.search.$right))),i.events()},events:function(){var i=this;i.options.search&&i.options.search.$left&&i.options.search.$left.on("keyup",function(t){i.callbacks.fireSearch(this.value)?(i.$left.find('option:search("'+this.value+'")').mShow(),i.$left.find('option:not(:search("'+this.value+'"))').mHide(),i.$left.find("option").closest("optgroup").mHide(),i.$left.find("option:not(.hidden)").parent("optgroup").mShow()):i.$left.find("option, optgroup").mShow()}),i.options.search&&i.options.search.$right&&i.options.search.$right.on("keyup",function(t){i.callbacks.fireSearch(this.value)?(i.$right.find('option:search("'+this.value+'")').mShow(),i.$right.find('option:not(:search("'+this.value+'"))').mHide(),i.$right.find("option").closest("optgroup").mHide(),i.$right.find("option:not(.hidden)").parent("optgroup").mShow()):i.$right.find("option, optgroup").mShow()}),i.$right.closest("form").on("submit",function(t){i.options.search&&(i.options.search.$left&&i.options.search.$left.val("").trigger("keyup"),i.options.search.$right&&i.options.search.$right.val("").trigger("keyup")),i.$left.find("option").prop("selected",i.options.submitAllLeft),i.$right.find("option").prop("selected",i.options.submitAllRight)}),i.$left.on("dblclick","option",function(t){t.preventDefault();var e=i.$left.find("option:selected");e.length&&i.moveToRight(e,t)}),i.$left.on("keypress",function(t){if(13===t.keyCode){t.preventDefault();var e=i.$left.find("option:selected");e.length&&i.moveToRight(e,t)}}),i.$right.on("dblclick","option",function(t){t.preventDefault();var e=i.$right.find("option:selected");e.length&&i.moveToLeft(e,t)}),i.$right.on("keydown",function(t){if(8===t.keyCode||46===t.keyCode){t.preventDefault();var e=i.$right.find("option:selected");e.length&&i.moveToLeft(e,t)}}),(navigator.userAgent.match(/MSIE/i)||0<navigator.userAgent.indexOf("Trident/")||0<navigator.userAgent.indexOf("Edge/"))&&(i.$left.dblclick(function(t){i.actions.$rightSelected.trigger("click")}),i.$right.dblclick(function(t){i.actions.$leftSelected.trigger("click")})),i.actions.$rightSelected.on("click",function(t){t.preventDefault();var e=i.$left.find("option:selected");e.length&&i.moveToRight(e,t),l(this).blur()}),i.actions.$leftSelected.on("click",function(t){t.preventDefault();var e=i.$right.find("option:selected");e.length&&i.moveToLeft(e,t),l(this).blur()}),i.actions.$rightAll.on("click",function(t){t.preventDefault();var e=i.$left.children(":not(span):not(.hidden)");e.length&&i.moveToRight(e,t),l(this).blur()}),i.actions.$leftAll.on("click",function(t){t.preventDefault();var e=i.$right.children(":not(span):not(.hidden)");e.length&&i.moveToLeft(e,t),l(this).blur()}),i.actions.$undo.on("click",function(t){t.preventDefault(),i.undo(t)}),i.actions.$redo.on("click",function(t){t.preventDefault(),i.redo(t)}),i.actions.$moveUp.on("click",function(t){t.preventDefault();var e=i.$right.find(":selected:not(span):not(.hidden)");e.length&&i.moveUp(e,t),l(this).blur()}),i.actions.$moveDown.on("click",function(t){t.preventDefault();var e=i.$right.find(":selected:not(span):not(.hidden)");e.length&&i.moveDown(e,t),l(this).blur()})},moveToRight:function(t,e,i,n){var s=this;return"function"==typeof s.callbacks.moveToRight?s.callbacks.moveToRight(s,t,e,i,n):!("function"==typeof s.callbacks.beforeMoveToRight&&!i&&!s.callbacks.beforeMoveToRight(s.$left,s.$right,t))&&(s.moveFromAtoB(s.$left,s.$right,t,e,i,n),n||(s.undoStack.push(["right",t]),s.redoStack=[]),"function"!=typeof s.callbacks.sort||i||s.doNotSortRight||s.$right.mSort(s.callbacks.sort),"function"!=typeof s.callbacks.afterMoveToRight||i||s.callbacks.afterMoveToRight(s.$left,s.$right,t),s)},moveToLeft:function(t,e,i,n){var s=this;return"function"==typeof s.callbacks.moveToLeft?s.callbacks.moveToLeft(s,t,e,i,n):!("function"==typeof s.callbacks.beforeMoveToLeft&&!i&&!s.callbacks.beforeMoveToLeft(s.$left,s.$right,t))&&(s.moveFromAtoB(s.$right,s.$left,t,e,i,n),n||(s.undoStack.push(["left",t]),s.redoStack=[]),"function"!=typeof s.callbacks.sort||i||s.$left.mSort(s.callbacks.sort),"function"!=typeof s.callbacks.afterMoveToLeft||i||s.callbacks.afterMoveToLeft(s.$left,s.$right,t),s)},moveFromAtoB:function(t,r,e,i,n,s){var a=this;return"function"==typeof a.callbacks.moveFromAtoB?a.callbacks.moveFromAtoB(a,t,r,e,i,n,s):(e.each(function(t,e){var i=l(e);if(a.options.ignoreDisabled&&i.is(":disabled"))return!0;if(i.is("optgroup")||i.parent().is("optgroup")){var n=i.is("optgroup")?i:i.parent(),s="optgroup["+a.options.matchOptgroupBy+'="'+n.prop(a.options.matchOptgroupBy)+'"]',o=r.find(s);o.length||((o=n.clone(!0)).empty(),r.move(o)),i.is("optgroup")?o.move(i.find("option")):o.move(i),n.removeIfEmpty()}else r.move(i)}),a)},moveUp:function(t){return!("function"==typeof this.callbacks.beforeMoveUp&&!this.callbacks.beforeMoveUp(t))&&(t.first().prev().before(t),void("function"==typeof this.callbacks.afterMoveUp&&this.callbacks.afterMoveUp(t)))},moveDown:function(t){return!("function"==typeof this.callbacks.beforeMoveDown&&!this.callbacks.beforeMoveDown(t))&&(t.last().next().after(t),void("function"==typeof this.callbacks.afterMoveDown&&this.callbacks.afterMoveDown(t)))},undo:function(t){var e=this.undoStack.pop();if(e)switch(this.redoStack.push(e),e[0]){case"left":this.moveToRight(e[1],t,!1,!0);break;case"right":this.moveToLeft(e[1],t,!1,!0)}},redo:function(t){var e=this.redoStack.pop();if(e)switch(this.undoStack.push(e),e[0]){case"left":this.moveToLeft(e[1],t,!1,!0);break;case"right":this.moveToRight(e[1],t,!1,!0)}}},t}(s);s.multiselect={defaults:{startUp:function(n,t){t.find("option").each(function(t,e){if("OPTGROUP"==s(e).parent().prop("tagName")){var i='optgroup[label="'+s(e).parent().attr("label")+'"]';n.find(i+' option[value="'+e.value+'"]').each(function(t,e){e.remove()}),n.find(i).removeIfEmpty()}else{n.find('option[value="'+e.value+'"]').remove()}})},beforeMoveToRight:function(t,e,i){return!0},afterMoveToRight:function(t,e,i){},beforeMoveToLeft:function(t,e,i){return!0},afterMoveToLeft:function(t,e,i){},beforeMoveUp:function(t){return!0},afterMoveUp:function(t){},beforeMoveDown:function(t){return!0},afterMoveDown:function(t){},sort:function(t,e){return"NA"==t.innerHTML?1:"NA"==e.innerHTML?-1:t.innerHTML>e.innerHTML?1:-1},fireSearch:function(t){return 1<t.length}}};var t=window.navigator.userAgent,e=-3<t.indexOf("MSIE ")+t.indexOf("Trident/")+t.indexOf("Edge/"),i=-1<t.toLowerCase().indexOf("safari");s.fn.multiselect=function(n){return this.each(function(){var t=s(this),e=t.data("crlcu.multiselect"),i=s.extend({},s.multiselect.defaults,t.data(),"object"==typeof n&&n);e||t.data("crlcu.multiselect",e=new o(t,i))})},s.fn.move=function(t){return this.append(t).find("option").prop("selected",!1),this},s.fn.removeIfEmpty=function(){return this.children().length||this.remove(),this},s.fn.mShow=function(){return this.removeClass("hidden").show(),(e||i)&&this.each(function(t,e){s(e).parent().is("span")&&s(e).parent().replaceWith(e),s(e).show()}),this},s.fn.mHide=function(){return this.addClass("hidden").hide(),(e||i)&&this.each(function(t,e){s(e).parent().is("span")||s(e).wrap("<span>").hide()}),this},s.fn.mSort=function(i){return this.children().sort(i).appendTo(this),this.find("optgroup").each(function(t,e){s(e).children().sort(i).appendTo(e)}),this},s.fn.attachIndex=function(){this.children().each(function(t,e){var i=s(e);i.is("optgroup")&&i.children().each(function(t,e){s(e).data("position",t)}),i.data("position",t)})},s.expr[":"].search=function(t,e,i){var n=new RegExp(i[3],"i");return s(t).text().match(n)}}),function(t,e){"function"==typeof define&&define.amd?define("sifter",e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(!(t=a(String(t||"").toLowerCase()))||!t.length)return[];var e,i,n,s,o=[],r=t.split(/ +/);for(e=0,i=r.length;e<i;e++){if(n=l(r[e]),this.settings.diacritics)for(s in h)h.hasOwnProperty(s)&&(n=n.replace(new RegExp(s,"g"),h[s]));o.push({string:r[e],regex:new RegExp(n,"i")})}return o},t.prototype.iterator=function(t,e){(r(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;e<i;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)}).apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var s,o,r,a;t=this.prepareSearch(t,e),o=t.tokens,s=t.options.fields,r=o.length,a=t.options.nesting;var l,h=function(t,e){var i,n;return t?-1===(n=(t=String(t||"")).search(e.regex))?0:(i=e.string.length/t.length,0===n&&(i+=.5),i):0},c=(l=s.length)?1===l?function(t,e){return h(f(e,s[0],a),t)}:function(t,e){for(var i=0,n=0;i<l;i++)n+=h(f(e,s[i],a),t);return n/l}:function(){return 0};return r?1===r?function(t){return c(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;i<r;i++){if((e=c(o[i],t))<=0)return 0;n+=e}return n/r}:function(t){for(var e=0,i=0;e<r;e++)i+=c(o[e],t);return i/r}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var e,n,s,o,r,a,l,h,c,d,p;if(p=!(t=(s=this).prepareSearch(t,i)).query&&i.sort_empty||i.sort,c=function(t,e){return"$score"===t?e.score:f(s.items[e.id],t,i.nesting)},r=[],p)for(e=0,n=p.length;e<n;e++)(t.query||"$score"!==p[e].field)&&r.push(p[e]);if(t.query){for(d=!0,e=0,n=r.length;e<n;e++)if("$score"===r[e].field){d=!1;break}d&&r.unshift({field:"$score",direction:"desc"})}else for(e=0,n=r.length;e<n;e++)if("$score"===r[e].field){r.splice(e,1);break}for(h=[],e=0,n=r.length;e<n;e++)h.push("desc"===r[e].direction?-1:1);return(a=r.length)?1===a?(o=r[0].field,l=h[0],function(t,e){return l*u(c(o,t),c(o,e))}):function(t,e){var i,n,s;for(i=0;i<a;i++)if(s=r[i].field,n=h[i]*u(c(s,t),c(s,e)))return n;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;var i=(e=o({},e)).fields,n=e.sort,s=e.sort_empty;return i&&!r(i)&&(e.fields=[i]),n&&!r(n)&&(e.sort=[n]),s&&!r(s)&&(e.sort_empty=[s]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,i){var n,s,e,o;return s=this.prepareSearch(t,i),i=s.options,t=s.query,o=i.score||this.getScoreFunction(s),t.length?this.iterator(this.items,function(t,e){n=o(t),(!1===i.filter||0<n)&&s.items.push({score:n,id:e})}):this.iterator(this.items,function(t,e){s.items.push({score:1,id:e})}),(e=this.getSortFunction(s,i))&&s.items.sort(e),s.total=s.items.length,"number"==typeof i.limit&&(s.items=s.items.slice(0,i.limit)),s};var u=function(t,e){return"number"==typeof t&&"number"==typeof e||(t=i(String(t||"")),e=i(String(e||""))),e<t?1:t<e?-1:0},o=function(t,e){var i,n,s,o;for(i=1,n=arguments.length;i<n;i++)if(o=arguments[i])for(s in o)o.hasOwnProperty(s)&&(t[s]=o[s]);return t},f=function(t,e,i){if(t&&e){if(!i)return t[e];for(var n=e.split(".");n.length&&(t=t[n.shift()]););return t}},a=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},l=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},h={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},i=function(){var t,e,i,n,s="",o={};for(i in h)if(h.hasOwnProperty(i))for(s+=n=h[i].substring(2,h[i].length-1),t=0,e=n.length;t<e;t++)o[n.charAt(t)]=i;var r=new RegExp("["+s+"]","g");return function(t){return t.replace(r,function(t){return o[t]}).toLowerCase()}}();return t}),function(t,e){"function"==typeof define&&define.amd?define("microplugin",e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={mixin:function(n){n.plugins={},n.prototype.initializePlugins=function(t){var e,i,n,s=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},o.isArray(t))for(e=0,i=t.length;e<i;e++)"string"==typeof t[e]?s.push(t[e]):(this.plugins.settings[t[e].name]=t[e].options,s.push(t[e].name));else if(t)for(n in t)t.hasOwnProperty(n)&&(this.plugins.settings[n]=t[n],s.push(n));for(;s.length;)this.require(s.shift())},n.prototype.loadPlugin=function(t){var e=this.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');e.requested[t]=!0,e.loaded[t]=i.fn.apply(this,[this.plugins.settings[t]||{}]),e.names.push(t)},n.prototype.require=function(t){var e=this.plugins;if(!this.plugins.loaded.hasOwnProperty(t)){if(e.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');this.loadPlugin(t)}return e.loaded[t]},n.define=function(t,e){n.plugins[t]={name:t,fn:e}}}},o={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),function(t,e){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(k,d,t){"use strict";var S=function(t,e){if("string"!=typeof e||e.length){var l="string"==typeof e?new RegExp(e,"i"):e,h=function(t){var e=0;if(3===t.nodeType){var i=t.data.search(l);if(0<=i&&0<t.data.length){var n=t.data.match(l),s=document.createElement("span");s.className="highlight";var o=t.splitText(i),r=(o.splitText(n[0].length),o.cloneNode(!0));s.appendChild(r),o.parentNode.replaceChild(s,o),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var a=0;a<t.childNodes.length;++a)a+=h(t.childNodes[a]);return e};return t.each(function(){h(this)})}};k.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var n=function(){};n.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=0)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},n.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=n.prototype[e[i]]};var w=/Mac/.test(navigator.userAgent),x=w?91:17,C=w?18:17,D=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,h=function(t){return void 0!==t},M=function(t){return null==t?null:"boolean"==typeof t?t?"1":"0":t+""},a=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e={before:function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},after:function(e,t,i){var n=e[t];e[t]=function(){var t=n.apply(e,arguments);return i.apply(e,arguments),t}}},i=function(e,i,t){var n,s=e.trigger,o={};for(n in e.trigger=function(){var t=arguments[0];return-1===i.indexOf(t)?s.apply(e,arguments):void(o[t]=arguments)},t.apply(e,[]),e.trigger=s,o)o.hasOwnProperty(n)&&s.apply(e,o[n])},p=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e},T=function(c){var d=null,t=function(t,e){var i,n,s,o,r,a,l,h;e=e||{},(t=t||window.event||{}).metaKey||t.altKey||(e.force||!1!==c.data("grow"))&&(i=c.val(),t.type&&"keydown"===t.type.toLowerCase()&&(s=97<=(n=t.keyCode)&&n<=122||65<=n&&n<=90||48<=n&&n<=57||32===n,46===n||8===n?(h=p(c[0])).length?i=i.substring(0,h.start)+i.substring(h.start+h.length):8===n&&h.start?i=i.substring(0,h.start-1)+i.substring(h.start+1):46===n&&void 0!==h.start&&(i=i.substring(0,h.start)+i.substring(h.start+1)):s&&(a=t.shiftKey,l=String.fromCharCode(t.keyCode),i+=l=a?l.toUpperCase():l.toLowerCase())),o=c.attr("placeholder"),!i&&o&&(i=o),(r=function(t,e){if(!t)return 0;var i=k("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(t,e,i){var n,s,o={};if(i)for(n=0,s=i.length;n<s;n++)o[i[n]]=t.css(i[n]);else o=t.css();e.css(o)}(e,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var n=i.width();return i.remove(),n}(i,c)+4)!==d&&(d=r,c.width(r),c.triggerHandler("resize")))};c.on("keydown keyup update blur",t),t()},y=function(t,e){var i,n,s,o,r=this;(o=t[0]).selectize=r;var a,l,h,c=window.getComputedStyle&&window.getComputedStyle(o,null);if(s=(s=c?c.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",k.extend(r,{order:0,settings:e,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++y.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===e.loadThrottle?r.onSearchChange:(a=r.onSearchChange,l=e.loadThrottle,function(){var t=this,e=arguments;window.clearTimeout(h),h=window.setTimeout(function(){a.apply(t,e)},l)})}),r.sifter=new d(this.options,{diacritics:e.diacritics}),r.settings.options){for(i=0,n=r.settings.options.length;i<n;i++)r.registerOption(r.settings.options[i]);delete r.settings.options}if(r.settings.optgroups){for(i=0,n=r.settings.optgroups.length;i<n;i++)r.registerOptionGroup(r.settings.optgroups[i]);delete r.settings.optgroups}r.settings.mode=r.settings.mode||(1===r.settings.maxItems?"single":"multi"),"boolean"!=typeof r.settings.hideSelected&&(r.settings.hideSelected="multi"===r.settings.mode),r.initializePlugins(r.settings.plugins),r.setupCallbacks(),r.setupTemplates(),r.setup()};return n.mixin(y),void 0!==t?t.mixin(y):function(t,e){e||(e={});console.error("Selectize: "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())}("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),k.extend(y.prototype,{setup:function(){var t,e,i,n,s,o,r,a,l,h,c,d,p,u,f=this,g=f.settings,m=f.eventNS,v=k(window),y=k(document),b=f.$input;if(r=f.settings.mode,a=b.attr("class")||"",t=k("<div>").addClass(g.wrapperClass).addClass(a).addClass(r),e=k("<div>").addClass(g.inputClass).addClass("items").appendTo(t),i=k('<input type="text" autocomplete="off" />').appendTo(e).attr("tabindex",b.is(":disabled")?"-1":f.tabIndex),o=k(g.dropdownParent||t),n=k("<div>").addClass(g.dropdownClass).addClass(r).hide().appendTo(o),s=k("<div>").addClass(g.dropdownContentClass).appendTo(n),(h=b.attr("id"))&&(i.attr("id",h+"-selectized"),k("label[for='"+h+"']").attr("for",h+"-selectized")),f.settings.copyClassesToDropdown&&n.addClass(a),t.css({width:b[0].style.width}),f.plugins.names.length&&(l="plugin-"+f.plugins.names.join(" plugin-"),t.addClass(l),n.addClass(l)),(null===g.maxItems||1<g.maxItems)&&1===f.tagType&&b.attr("multiple","multiple"),f.settings.placeholder&&i.attr("placeholder",g.placeholder),!f.settings.splitOn&&f.settings.delimiter){var _=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+_+"+\\s*")}b.attr("autocorrect")&&i.attr("autocorrect",b.attr("autocorrect")),b.attr("autocapitalize")&&i.attr("autocapitalize",b.attr("autocapitalize")),f.$wrapper=t,f.$control=e,f.$control_input=i,f.$dropdown=n,f.$dropdown_content=s,n.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),n.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),d="mousedown",p="*:not(input)",u=function(){return f.onItemSelect.apply(f,arguments)},(c=e).on(d,p,function(t){for(var e=t.target;e&&e.parentNode!==c[0];)e=e.parentNode;return t.currentTarget=e,u.apply(this,[t])}),T(i),e.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),y.on("keydown"+m,function(t){f.isCmdDown=t[w?"metaKey":"ctrlKey"],f.isCtrlDown=t[w?"altKey":"ctrlKey"],f.isShiftDown=t.shiftKey}),y.on("keyup"+m,function(t){t.keyCode===C&&(f.isCtrlDown=!1),16===t.keyCode&&(f.isShiftDown=!1),t.keyCode===x&&(f.isCmdDown=!1)}),y.on("mousedown"+m,function(t){if(f.isFocused){if(t.target===f.$dropdown[0]||t.target.parentNode===f.$dropdown[0])return!1;f.$control.has(t.target).length||t.target===f.$control[0]||f.blur(t.target)}}),v.on(["scroll"+m,"resize"+m].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),v.on("mousemove"+m,function(){f.ignoreHover=!1}),this.revertSettings={$children:b.children().detach(),tabindex:b.attr("tabindex")},b.attr("tabindex",-1).hide().after(f.$wrapper),k.isArray(g.items)&&(f.setValue(g.items),delete g.items),D&&b.on("invalid"+m,function(t){t.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,b.is(":disabled")&&f.disable(),f.on("change",this.onChange),b.data("selectize",f),b.addClass("selectized"),f.trigger("initialize"),!0===g.preload&&f.onSearchChange("")},setupTemplates:function(){var i=this.settings.labelField,n=this.settings.optgroupLabelField,t={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};this.settings.render=k.extend({},t,this.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&((e=this.settings[i[t]])&&this.on(t,e))},onClick:function(t){this.isFocused||(this.focus(),t.preventDefault())},onMouseDown:function(t){var e=this,i=t.isDefaultPrevented();if(k(t.target),e.isFocused){if(t.target!==e.$control_input[0])return"single"===e.settings.mode?e.isOpen?e.close():e.open():i||e.setActiveItem(null),!1}else i||window.setTimeout(function(){e.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var s=this;return s.isFull()||s.isInputHidden||s.isLocked?void t.preventDefault():void(s.settings.splitOn&&setTimeout(function(){var t=s.$control_input.val();if(t.match(s.settings.splitOn))for(var e=k.trim(t).split(s.settings.splitOn),i=0,n=e.length;i<n;i++)s.createItem(e[i])},0))},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target,this.$control_input[0],this);if(!e.isLocked){switch(t.keyCode){case 65:if(e.isCmdDown)return void e.selectAll();break;case 27:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case 78:if(!t.ctrlKey||t.altKey)break;case 40:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case 80:if(!t.ctrlKey||t.altKey)break;case 38:if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,-1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case 13:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case 37:return void e.advanceSelection(-1,t);case 39:return void e.advanceSelection(1,t);case 9:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case 8:case 46:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(w?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()}9!==t.keyCode&&t.preventDefault()},onKeyUp:function(t){if(this.isLocked)return t&&t.preventDefault();var e=this.$control_input.val()||"";this.lastValue!==e&&(this.lastValue=e,this.onSearchChange(e),this.refreshOptions(),this.trigger("type",e))},onSearchChange:function(e){var i=this,n=i.settings.load;n&&(i.loadedSearches.hasOwnProperty(e)||(i.loadedSearches[e]=!0,i.load(function(t){n.apply(i,[e,t])})))},onFocus:function(t){var e=this,i=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.ignoreFocus=!1,i.trigger("blur")};i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(t){var e,i,n=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=k(t.currentTarget)).hasClass("create")?n.createItem(null,function(){n.settings.closeAfterSelect&&n.close()}):void 0!==(e=i.attr("data-value"))&&(n.lastQuery=null,n.setTextboxValue(""),n.addItem(e),n.settings.closeAfterSelect?n.close():!n.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&n.setActiveOption(n.getOption(e)))},onItemSelect:function(t){this.isLocked||"multi"===this.settings.mode&&(t.preventDefault(),this.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input;e.val()!==t&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){i(this,e?[]:["change"],function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(t,e){var i,n,s,o,r,a,l,h,c=this;if("single"!==c.settings.mode){if(!(t=k(t)).length)return k(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if("mousedown"===(i=e&&e.type.toLowerCase())&&c.isShiftDown&&c.$activeItems.length){for(h=c.$control.children(".active:last"),o=Array.prototype.indexOf.apply(c.$control[0].childNodes,[h[0]]),(r=Array.prototype.indexOf.apply(c.$control[0].childNodes,[t[0]]))<o&&(l=o,o=r,r=l),n=o;n<=r;n++)a=c.$control[0].childNodes[n],-1===c.$activeItems.indexOf(a)&&(k(a).addClass("active"),c.$activeItems.push(a));e.preventDefault()}else"mousedown"===i&&c.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(s=c.$activeItems.indexOf(t[0]),c.$activeItems.splice(s,1),t.removeClass("active")):c.$activeItems.push(t.addClass("active")[0]):(k(c.$activeItems).removeClass("active"),c.$activeItems=[t.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(t,e,i){var n,s,o,r,a,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,(t=k(t)).length&&(l.$activeOption=t.addClass("active"),!e&&h(e)||(n=l.$dropdown_content.height(),s=l.$activeOption.outerHeight(!0),e=l.$dropdown_content.scrollTop()||0,a=(r=o=l.$activeOption.offset().top-l.$dropdown_content.offset().top+e)-n+s,n+e<o+s?l.$dropdown_content.stop().animate({scrollTop:a},i?l.settings.scrollDuration:0):o<e&&l.$dropdown_content.stop().animate({scrollTop:r},i?l.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(t){var e,i,n,s=this.settings,o=this.getSearchOptions();if(s.score&&"function"!=typeof(n=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,i=this.sifter.search(t,k.extend(o,{score:n})),this.currentResults=i):i=k.extend(!0,{},this.currentResults),s.hideSelected)for(e=i.items.length-1;0<=e;e--)-1!==this.items.indexOf(M(i.items[e].id))&&i.items.splice(e,1);return i},refreshOptions:function(t){var e,i,n,s,o,r,a,l,h,c,d,p,u,f,g,m;void 0===t&&(t=!0);var v,y,b=this,_=k.trim(b.$control_input.val()),w=b.search(_),x=b.$dropdown_content,C=b.$activeOption&&M(b.$activeOption.attr("data-value"));for(s=w.items.length,"number"==typeof b.settings.maxOptions&&(s=Math.min(s,b.settings.maxOptions)),o={},r=[],e=0;e<s;e++)for(a=b.options[w.items[e].id],l=b.render("option",a),h=a[b.settings.optgroupField]||"",i=0,n=(c=k.isArray(h)?h:[h])&&c.length;i<n;i++)h=c[i],b.optgroups.hasOwnProperty(h)||(h=""),o.hasOwnProperty(h)||(o[h]=document.createDocumentFragment(),r.push(h)),o[h].appendChild(l);for(this.settings.lockOptgroupOrder&&r.sort(function(t,e){return(b.optgroups[t].$order||0)-(b.optgroups[e].$order||0)}),d=document.createDocumentFragment(),e=0,s=r.length;e<s;e++)h=r[e],b.optgroups.hasOwnProperty(h)&&o[h].childNodes.length?((p=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[h])),p.appendChild(o[h]),d.appendChild(b.render("optgroup",k.extend({},b.optgroups[h],{html:(v=p,y=void 0,y=document.createElement("div"),y.appendChild(v.cloneNode(!0)),y.innerHTML),dom:p})))):d.appendChild(o[h]);if(x.html(d),b.settings.highlight&&w.query.length&&w.tokens.length)for(x.removeHighlight(),e=0,s=w.tokens.length;e<s;e++)S(x,w.tokens[e].regex);if(!b.settings.hideSelected)for(e=0,s=b.items.length;e<s;e++)b.getOption(b.items[e]).addClass("selected");(u=b.canCreate(_))&&(x.prepend(b.render("option_create",{input:_})),m=k(x[0].childNodes[0])),b.hasOptions=0<w.items.length||u,b.hasOptions?(0<w.items.length?((g=C&&b.getOption(C))&&g.length?f=g:"single"===b.settings.mode&&b.items.length&&(f=b.getOption(b.items[0])),f&&f.length||(f=m&&!b.settings.addPrecedence?b.getAdjacentOption(m,1):x.find("[data-selectable]:first"))):f=m,b.setActiveOption(f),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(t){var e,i,n;if(k.isArray(t))for(e=0,i=t.length;e<i;e++)this.addOption(t[e]);else(n=this.registerOption(t))&&(this.userOptions[n]=!0,this.lastQuery=null,this.trigger("option_add",n,t))},registerOption:function(t){var e=M(t[this.settings.valueField]);return null!=e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=M(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,e){var i,n,s,o,r,a,l,h=this;if(t=M(t),s=M(e[h.settings.valueField]),null!==t&&h.options.hasOwnProperty(t)){if("string"!=typeof s)throw new Error("Value must be set in option data");l=h.options[t].$order,s!==t&&(delete h.options[t],-1!==(o=h.items.indexOf(t))&&h.items.splice(o,1,s)),e.$order=e.$order||l,h.options[s]=e,r=h.renderCache.item,a=h.renderCache.option,r&&(delete r[t],delete r[s]),a&&(delete a[t],delete a[s]),-1!==h.items.indexOf(s)&&(i=h.getItem(t),n=k(h.render("item",e)),i.hasClass("active")&&n.addClass("active"),i.replaceWith(n)),h.lastQuery=null,h.isOpen&&h.refreshOptions(!1)}},removeOption:function(t,e){t=M(t);var i=this.renderCache.item,n=this.renderCache.option;i&&delete i[t],n&&delete n[t],delete this.userOptions[t],delete this.options[t],this.lastQuery=null,this.trigger("option_remove",t),this.removeItem(t,e)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,e){var i=this.$dropdown.find("[data-selectable]"),n=i.index(t)+e;return 0<=n&&n<i.length?i.eq(n):k()},getElementWithValue:function(t,e){if(null!=(t=M(t)))for(var i=0,n=e.length;i<n;i++)if(e[i].getAttribute("data-value")===t)return k(e[i]);return k()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(t,e){for(var i=k.isArray(t)?t:[t],n=0,s=i.length;n<s;n++)this.isPending=n<s-1,this.addItem(i[n],e)},addItem:function(a,l){i(this,l?[]:["change"],function(){var t,e,i,n,s,o=this,r=o.settings.mode;return a=M(a),-1!==o.items.indexOf(a)?void("single"===r&&o.close()):void(o.options.hasOwnProperty(a)&&("single"===r&&o.clear(l),"multi"===r&&o.isFull()||(t=k(o.render("item",o.options[a])),s=o.isFull(),o.items.splice(o.caretPos,0,a),o.insertAtCaret(t),(!o.isPending||!s&&o.isFull())&&o.refreshState(),o.isSetup&&(i=o.$dropdown_content.find("[data-selectable]"),o.isPending||(e=o.getOption(a),n=o.getAdjacentOption(e,1).attr("data-value"),o.refreshOptions(o.isFocused&&"single"!==r),n&&o.setActiveOption(o.getOption(n))),!i.length||o.isFull()?o.close():o.positionDropdown(),o.updatePlaceholder(),o.trigger("item_add",a,t),o.updateOriginalInput({silent:l})))))})},removeItem:function(t,e){var i,n,s,o=this;i=t instanceof k?t:o.getItem(t),t=M(i.attr("data-value")),-1!==(n=o.items.indexOf(t))&&(i.remove(),i.hasClass("active")&&(s=o.$activeItems.indexOf(i[0]),o.$activeItems.splice(s,1)),o.items.splice(n,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(t)&&o.removeOption(t,e),n<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:e}),o.positionDropdown(),o.trigger("item_remove",t,i))},createItem:function(t,i){var n=this,s=n.caretPos;t=t||k.trim(n.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(t))return o(),!1;n.lock();var e,r,a="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},l=(e=function(t){if(n.unlock(),!t||"object"!=typeof t)return o();var e=M(t[n.settings.valueField]);return"string"!=typeof e?o():(n.setTextboxValue(""),n.addOption(t),n.setCaret(s),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),void o(t))},r=!1,function(){r||(r=!0,e.apply(this,arguments))}),h=a.apply(this,[t,l]);return void 0!==h&&l(h),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var t=this,e=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",e).toggleClass("not-full",!e).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!k.isEmptyObject(t.options)).toggleClass("has-items",0<t.items.length),t.$control_input.data("grow",!e&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,s,o=this;if(t=t||{},1===o.tagType){for(n=[],e=0,i=o.items.length;e<i;e++)s=o.options[o.items[e]][o.settings.labelField]||"",n.push('<option value="'+a(o.items[e])+'" selected="selected">'+a(s)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),o.$input.html(n.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length);0===e?this.$control.prepend(t):k(this.$control[0].childNodes[e]).before(t),this.setCaret(e+1)},deleteSelection:function(t){var e,i,n,s,o,r,a,l,h,c=this;if(n=t&&8===t.keyCode?-1:1,s=p(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(a=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),o=[],c.$activeItems.length){for(h=c.$control.children(".active:"+(0<n?"last":"first")),r=c.$control.children(":not(input)").index(h),0<n&&r++,e=0,i=c.$activeItems.length;e<i;e++)o.push(k(c.$activeItems[e]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(n<0&&0===s.start&&0===s.length?o.push(c.items[c.caretPos-1]):0<n&&s.start===c.$control_input.val().length&&o.push(c.items[c.caretPos]));if(!o.length||"function"==typeof c.settings.onDelete&&!1===c.settings.onDelete.apply(c,[o]))return!1;for(void 0!==r&&c.setCaret(r);o.length;)c.removeItem(o.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),a&&((l=c.getOption(a)).length&&c.setActiveOption(l)),!0},advanceSelection:function(t,e){var i,n,s,o,r,a=this;0!==t&&(a.rtl&&(t*=-1),i=0<t?"last":"first",n=p(a.$control_input[0]),a.isFocused&&!a.isInputHidden?(o=a.$control_input.val().length,(t<0?0===n.start&&0===n.length:n.start===o)&&!o&&a.advanceCaret(t,e)):(r=a.$control.children(".active:"+i)).length&&(s=a.$control.children(":not(input)").index(r),a.setActiveItem(null),a.setCaret(0<t?s+1:s)))},advanceCaret:function(t,e){var i,n;0!==t&&(i=0<t?"next":"prev",this.isShiftDown?(n=this.$control_input[i]()).length&&(this.hideInput(),this.setActiveItem(n),e&&e.preventDefault()):this.setCaret(this.caretPos+t))},setCaret:function(t){var e,i,n,s;if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(e=0,i=(n=this.$control.children(":not(input)")).length;e<i;e++)s=k(n[e]).detach(),e<t?this.$control_input.before(s):this.$control.append(s);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this,e=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),k(window).off(e),k(document).off(e),k(document.body).off(e),delete t.$input[0].selectize},render:function(t,e){var i,n,s="",o=!1;return"option"!==t&&"item"!==t||(o=!!(i=M(e[this.settings.valueField]))),o&&(h(this.renderCache[t])||(this.renderCache[t]={}),this.renderCache[t].hasOwnProperty(i))?this.renderCache[t][i]:(s=k(this.settings.render[t].apply(this,[e,a])),"option"===t||"option_create"===t?s.attr("data-selectable",""):"optgroup"===t&&(n=e[this.settings.optgroupValueField]||"",s.attr("data-group",n)),"option"!==t&&"item"!==t||s.attr("data-value",i||""),o&&(this.renderCache[t][i]=s[0]),s[0])},clearCache:function(t){void 0===t?this.renderCache={}:delete this.renderCache[t]},canCreate:function(t){if(!this.settings.create)return!1;var e=this.settings.createFilter;return t.length&&("function"!=typeof e||e.apply(this,[t]))&&("string"!=typeof e||new RegExp(e).test(t))&&(!(e instanceof RegExp)||e.test(t))}}),y.count=0,y.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},k.fn.selectize=function(s){var o=k.fn.selectize.defaults,d=k.extend({},o,s),p=d.dataAttr,u=d.labelField,f=d.valueField,g=d.optgroupField,m=d.optgroupLabelField,v=d.optgroupValueField;return this.each(function(){if(!this.selectize){var t=k(this),e=this.tagName.toLowerCase(),i=t.attr("placeholder")||t.attr("data-placeholder");i||d.allowEmptyOption||(i=t.children('option[value=""]').text());var n={placeholder:i,options:[],optgroups:[],items:[]};"select"===e?function(t,r){var e,i,n,s,o=r.options,a={},l=function(t){var e=p&&t.attr(p);return"string"==typeof e&&e.length?JSON.parse(e):null},h=function(t,e){t=k(t);var i=M(t.val());if(i||d.allowEmptyOption)if(a.hasOwnProperty(i)){if(e){var n=a[i][g];n?k.isArray(n)?n.push(e):a[i][g]=[n,e]:a[i][g]=e}}else{var s=l(t)||{};s[u]=s[u]||t.text(),s[f]=s[f]||i,s[g]=s[g]||e,a[i]=s,o.push(s),t.is(":selected")&&r.items.push(i)}},c=function(t){var e,i,n,s,o;for((n=(t=k(t)).attr("label"))&&((s=l(t)||{})[m]=n,s[v]=n,r.optgroups.push(s)),e=0,i=(o=k("option",t)).length;e<i;e++)h(o[e],n)};for(r.maxItems=t.attr("multiple")?null:1,e=0,i=(s=t.children()).length;e<i;e++)"optgroup"===(n=s[e].tagName.toLowerCase())?c(s[e]):"option"===n&&h(s[e])}(t,n):function(t,e){var i,n,s,o,r=t.attr(p);if(r)for(e.options=JSON.parse(r),i=0,n=e.options.length;i<n;i++)e.items.push(e.options[i][f]);else{var a=k.trim(t.val()||"");if(!d.allowEmptyOption&&!a.length)return;for(i=0,n=(s=a.split(d.delimiter)).length;i<n;i++)(o={})[u]=s[i],o[f]=s[i],e.options.push(o);e.items=s}}(t,n),new y(t,k.extend(!0,{},o,n,s))}})},k.fn.selectize.defaults=y.defaults,k.fn.selectize.support={validity:D},y.define("drag_drop",function(t){if(!k.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=(s=n.lock,function(){var t=n.$control.data("sortable");return t&&t.disable(),s.apply(n,arguments)}),n.unlock=(i=n.unlock,function(){var t=n.$control.data("sortable");return t&&t.enable(),i.apply(n,arguments)}),n.setup=(e=n.setup,function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var t=n.$activeItems?n.$activeItems.slice():null,e=[];i.children("[data-value]").each(function(){e.push(k(this).attr("data-value"))}),n.setValue(e),n.setActiveItem(t)}})})}var e,i,s}),y.define("dropdown_header",function(t){var e,i=this;t=k.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},t),i.setup=(e=i.setup,function(){e.apply(i,arguments),i.$dropdown_header=k(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)})}),y.define("optgroup_columns",function(a){var o,l=this;a=k.extend({equalizeWidth:!0,equalizeHeight:!0},a),this.getAdjacentOption=function(t,e){var i=t.closest("[data-group]").find("[data-selectable]"),n=i.index(t)+e;return 0<=n&&n<i.length?i.eq(n):k()},this.onKeyDown=(o=l.onKeyDown,function(t){var e,i,n,s;return!this.isOpen||37!==t.keyCode&&39!==t.keyCode?o.apply(this,arguments):(l.ignoreHover=!0,e=(s=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((i=(n=(s=37===t.keyCode?s.prev("[data-group]"):s.next("[data-group]")).find("[data-selectable]")).eq(Math.min(n.length-1,e))).length&&this.setActiveOption(i)))});var h=function(){var t,e=h.width,i=document;return void 0===e&&((t=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=h.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e},t=function(){var t,e,i,n,s,o,r;if((e=(r=k("[data-group]",l.$dropdown_content)).length)&&l.$dropdown_content.width()){if(a.equalizeHeight){for(t=i=0;t<e;t++)i=Math.max(i,r.eq(t).height());r.css({height:i})}a.equalizeWidth&&(o=l.$dropdown_content.innerWidth()-h(),n=Math.round(o/e),r.css({width:n}),1<e&&(s=o-n*(e-1),r.eq(e-1).css({width:s})))}};(a.equalizeHeight||a.equalizeWidth)&&(e.after(this,"positionDropdown",t),e.after(this,"refreshOptions",t))}),y.define("remove_button",function(t){t=k.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var o,e,i,n,r;return"single"===this.settings.mode?void function(i,n){n.className="remove-single";var s,o=i,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+a(n.title)+'">'+n.label+"</a>";i.setup=(s=o.setup,function(){if(n.append){var t=k(o.$input.context).attr("id"),e=(k("#"+t),o.settings.render.item);o.settings.render.item=function(t){return e.apply(i,arguments)+r}}s.apply(i,arguments),i.$control.on("click","."+n.className,function(t){t.preventDefault(),o.isLocked||o.clear()})})}(this,t):(n=o=this,r='<a href="javascript:void(0)" class="'+(e=t).className+'" tabindex="-1" title="'+a(e.title)+'">'+e.label+"</a>",void(o.setup=(i=n.setup,function(){if(e.append){var s=n.settings.render.item;n.settings.render.item=function(t){return e=s.apply(o,arguments),i=r,n=e.search(/(<\/[^>]+>\s*)$/),e.substring(0,n)+i+e.substring(n);var e,i,n}}i.apply(o,arguments),o.$control.on("click","."+e.className,function(t){if(t.preventDefault(),!n.isLocked){var e=k(t.currentTarget).parent();n.setActiveItem(e),n.deleteSelection()&&n.setCaret(n.items.length)}})})))}),y.define("restore_on_backspace",function(n){var s,t=this;n.text=n.text||function(t){return t[this.settings.labelField]},this.onKeyDown=(s=t.onKeyDown,function(t){var e,i;return 8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(e=this.caretPos-1)&&e<this.items.length?(i=this.options[this.items[e]],this.deleteSelection(t)&&(this.setTextboxValue(n.text.apply(this,[i])),this.refreshOptions(!0)),void t.preventDefault()):s.apply(this,arguments)})}),y}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){return function o(r,a,l){function h(i,t){if(!a[i]){if(!r[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[i]={exports:{}};r[i][0].call(s.exports,function(t){var e=r[i][1][t];return h(e||t)},s,s.exports,o,r,a,l)}return a[i].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){var n=9;if(Element&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}e.exports=function(t,e){for(;t&&t.nodeType!==n;){if(t.matches(e))return t;t=t.parentNode}}},{}],2:[function(t,e,i){var r=t("./closest");e.exports=function(t,e,i,n,s){var o=function(e,i,t,n){return function(t){t.delegateTarget=r(t.target,i),t.delegateTarget&&n.call(e,t)}}.apply(this,arguments);return t.addEventListener(i,o,s),{destroy:function(){t.removeEventListener(i,o,s)}}}},{"./closest":1}],3:[function(t,e,i){i.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},i.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||i.node(t[0]))},i.string=function(t){return"string"==typeof t||t instanceof String},i.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,i){var p=t("./is"),u=t("delegate");e.exports=function(t,e,i){if(!t&&!e&&!i)throw new Error("Missing required arguments");if(!p.string(e))throw new TypeError("Second argument must be a String");if(!p.fn(i))throw new TypeError("Third argument must be a Function");if(p.node(t))return s=e,o=i,(n=t).addEventListener(s,o),{destroy:function(){n.removeEventListener(s,o)}};var n,s,o,r,a,l,h,c,d;if(p.nodeList(t))return r=t,a=e,l=i,Array.prototype.forEach.call(r,function(t){t.addEventListener(a,l)}),{destroy:function(){Array.prototype.forEach.call(r,function(t){t.removeEventListener(a,l)})}};if(p.string(t))return h=t,c=e,d=i,u(document.body,h,c,d);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(t,e,i){e.exports=function(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),e=i.toString()}return e}},{}],6:[function(t,e,i){function n(){}n.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){s.off(t,n),e.apply(i,arguments)}var s=this;return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var o=0,r=n.length;o<r;o++)n[o].fn!==e&&n[o].fn._!==e&&s.push(n[o]);return s.length?i[t]=s:delete i[t],this}},e.exports=n},{}],7:[function(n,s,o){!function(t,e){if(void 0!==o)e(s,n("select"));else{var i={exports:{}};e(i,t.select),t.clipboardAction=i.exports}}(this,function(t,e){"use strict";var i,n=(i=e)&&i.__esModule?i:{default:i},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":s(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),e}();t.exports=r})},{select:5}],8:[function(n,s,o){!function(t,e){if(void 0!==o)e(s,n("./clipboard-action"),n("tiny-emitter"),n("good-listener"));else{var i={exports:{}};e(i,t.clipboardAction,t.tinyEmitter,t.goodListener),t.clipboard=i.exports}}(this,function(t,e,i,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var i="data-clipboard-"+t;if(e.hasAttribute(i))return e.getAttribute(i)}var r=s(e),a=s(i),l=s(n),h=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),c=function(t){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.resolveOptions(e),i.listenClick(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.default),h(n,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,l.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return o("action",t)}},{key:"defaultTarget",value:function(t){var e=o("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return o("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),n}();t.exports=c})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});