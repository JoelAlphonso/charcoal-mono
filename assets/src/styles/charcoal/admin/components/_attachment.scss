/**
 * Attachment Widget
 */

$c-attachment-panel-width:  85%;
$c-attachment-aside-width:  16%;
$c-attachment-gutter-width: 2%;

$c-attachment-pv: (nth($panel-heading-padding, 1) + 2px);
$c-attachment-ph: nth($panel-heading-padding, 2);

.c-attachments {

    .ui-sortable-helper {
        cursor: move;
    }

    .thumbnail img,
    img.thumbnail {
        max-width:  200px;
    }

    img.thumbnail {
        display: block;
        max-width: 100%;
        height: auto;
        margin-left: auto;
        margin-right: auto;
    }

    .gallery-list {
        padding:    0;
        list-style: none;
    }

    .panel-group {
        width: $c-attachment-panel-width;
    }

    .panel {
        position: relative;

        &.ui-sortable-helper {
            height: auto !important;
        }
    }

    .panel-title-icon,
    .list-group-item-icon {
        margin:  (-$c-attachment-pv) $c-attachment-ph (-$c-attachment-pv) (-$c-attachment-ph);
        padding: $c-attachment-pv $c-attachment-ph;
        border-right: 1px solid #ddd;

        &.-right {
            float: right;
            margin:  (-$c-attachment-pv) (-$c-attachment-ph) (-$c-attachment-pv) ($c-attachment-ph);
            padding: $c-attachment-pv $c-attachment-ph $c-attachment-pv $c-attachment-ph;
            border-left: 1px solid #ddd;
            border-right: 0;
        }
    }

    .panel-headless-title {
        display: none;
    }

    .panel-heading {
        &.sr-only,
        &.hidden {
            ~ .panel-collapse {
                > .panel-body {
                    border-top: 0;
                }

                .panel-headless-title {
                    display: block;
                }
            }
        }
    }

    .panel-title {
        font-size: $font-size;
    }

    .panel-body {
        font-family: $font-family-base;
        font-size:   $font-size-base;
        line-height: $line-height-base;

        > :first-child {
            margin-top: 0;
        }

        > :last-child {
            margin-bottom: 0;
        }

        img,
        svg {
            max-width: 100%;
            height: auto;
        }
    }

    .panel-actions {
        position: absolute;
        top:      ceil($font-size * 0.25);
        left:     100% + $c-attachment-gutter-width;
        width:    $c-attachment-aside-width;

        .glyphicon {
            vertical-align: text-top;
        }
    }

}

.c-attachments_header {
    margin-bottom: 2em;
}

.js-attachment-container .js-grid-container {
    min-height: 100px;
}

.js-attachment-placeholder {
    height:           ceil(($font-size * 1.1) + (nth($panel-heading-padding, 1) * 2)) + 2px;
    padding:          $panel-heading-padding;
    border-color:     #BBB;
    border-style:     dashed;
    box-shadow:       none;
    background-color: transparent;
}
