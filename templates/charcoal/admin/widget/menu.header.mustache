{{!--

    Header Menu Widget
    ==================

{-#baseUrl-}
{-# visitSiteLabel -}
<a class="btn btn-link" href="{-baseUrl-}" target="_blank">
    <span class="fa fa-home" aria-hidden="true"></span>
    <span class="btn-label">{-& . -}</span>
</a>
{-/ visitSiteLabel -}
{-/baseUrl-}

--}}

<div class="c-nav-container o-flex_aside{{# navContainerCssClasses }} {{ . }}{{/ navContainerCssClasses }}">
    {{# showHeaderMenu }}
    <button class="c-nav-container_button js-toggle-class" type="button" data-target="body" data-class="has-nav-open">
        <span class="c-nav-container_button_icon"></span>
    </button>
    {{/ showHeaderMenu }}

    <div class="c-nav-container_header">
        <a class="c-nav-container_logo" href="{{ adminUrl }}">
            <svg role="img"><use xlink:href="{{# withBaseUrl }}assets/admin/images/svgs.svg{{/ withBaseUrl }}#charcoal-logo"></use></svg>
        </a>
        {{# isAuthenticated }}
            {{> charcoal/admin/widget/menu.system }}
        {{/ isAuthenticated }}
    </div>

    {{# showHeaderMenu }}
    <div class="c-nav-main_overlay -light js-toggle-class" data-target="body" data-class="has-nav-open"></div>
    <nav class="c-nav-main">
        <ul class="c-nav-main_list">
            {{# headerMenu }}
               <li class="c-nav-main_item{{# ident }} -{{ . }}{{/ ident }}">
                   <a class="c-nav-main_link{{# selected }} is-active{{/ selected }}" href="{{ url }}">
                       <span class="c-nav-main_link_wrap">
                           {{# svg }}
                           <svg class="c-nav-main_link_icon" role="img"><use xlink:href="{{ . }}"></use></svg>
                           {{/ svg }}
                           {{# icon }}
                           <img class="c-nav-main_link_icon" src="{{ . }}">
                           {{/ icon }}
                           {{# iconCss }}
                           <i class="{{ . }}" aria-hidden="true"></i>
                           {{/ iconCss }}
                           {{# label }}
                           <span class="c-nav-main_link_text{{^ show_label }} sr-only{{/ show_label }}">{{ . }}</span>
                           {{/ label }}
                       </span>
                   </a>
               </li>
           {{/ headerMenu }}
        </ul>
    </nav>
    {{/ showHeaderMenu }}

    {{# showSidemenu }}
        {{# sidemenu }}
            {{> charcoal/admin/widget/sidemenu }}
        {{/ sidemenu }}
    {{/ showSidemenu }}
</div>

{{#addJs}}
<script>
    $(function() {
        var headerMenu_template = new Charcoal.Admin.Template_MenuHeader();

        $('#btn-clear-cache').on('click.charcoal.cache', function (event) {
            event.preventDefault();
            event.cacheType = 'global';

            Charcoal.Admin.cache().onClear(event);
        });
    });
</script>
{{/addJs}}
