/*! @locomotivemtl/charcoal-admin 06-02-2018 */

!function(t){t.PluginManager.add("placeholder",function(e){e.on("init",function(){if(!0!==e.settings.readonly&&!0!==e.settings.inline){var i=e.getElement().getAttribute("placeholder")||e.settings.placeholder;if(void 0!==i){"string"==typeof i&&(i={text:i}),void 0===i.attr&&(i.attr=e.settings.placeholder_attr||{class:"mce-placeholder-area"}),void 0===i.tag&&(i.tag=e.settings.placeholder_tag||"label");var o=new n(i,e.getContentAreaContainer()||e.getBody());t.DOM.bind(o.el,"click",c),e.on("focus",c),e.on("blur",function(){o.check()}),e.on("change",function(){o.check()}),e.on("setcontent",function(){o.check()}),setTimeout(function(){o.check()},1e3)}}function c(){o.check(),e.focus()}});var n=function(e,n){this.data=e,this.text=e.text,t.DOM.setStyle(n,"position","relative"),this.el=t.DOM.add(n,e.tag,e.attr,t.DOM.decode(e.text))};n.prototype.hide=function(){t.DOM.setStyle(this.el,"display","none")},n.prototype.show=function(){t.DOM.setStyle(this.el,"display","")},n.prototype.check=function(){var t=e.getBody();null!==t&&(""===t.textContent.trim()?this.show():this.hide())}})}(window.tinymce);